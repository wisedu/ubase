var jqxBaseFramework=window.minQuery||window.jQuery;!function(e){e.jqx=e.jqx||{},e.jqx.define=function(e,t,i){e[t]=function(){this.baseType&&(this.base=new e[this.baseType],this.base.defineInstance()),this.defineInstance()},e[t].prototype.defineInstance=function(){},e[t].prototype.base=null,e[t].prototype.baseType=void 0,i&&e[i]&&(e[t].prototype.baseType=i)},e.jqx.invoke=function(t,i){if(0!=i.length){for(var s=typeof i==Array||i.length>0?i[0]:i,r=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):e({}).toArray();void 0==t[s]&&null!=t.base;){if(void 0!=t[s]&&e.isFunction(t[s]))return t[s].apply(t,r);if("string"==typeof s){var a=s.toLowerCase();if(void 0!=t[a]&&e.isFunction(t[a]))return t[a].apply(t,r)}t=t.base}if(void 0!=t[s]&&e.isFunction(t[s]))return t[s].apply(t,r);if("string"==typeof s){var a=s.toLowerCase();if(void 0!=t[a]&&e.isFunction(t[a]))return t[a].apply(t,r)}}},e.jqx.hasProperty=function(e,t){if("object"==typeof t)for(var i in t){for(var s=e;s;){if(s.hasOwnProperty(i))return!0;if(s.hasOwnProperty(i.toLowerCase()))return!0;s=s.base}return!1}else for(;e;){if(e.hasOwnProperty(t))return!0;if(e.hasOwnProperty(t.toLowerCase()))return!0;e=e.base}return!1},e.jqx.hasFunction=function(t,i){if(0==i.length)return!1;if(void 0==t)return!1;var s=typeof i==Array||i.length>0?i[0]:i;for(typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):{};void 0==t[s]&&null!=t.base;){if(t[s]&&e.isFunction(t[s]))return!0;if("string"==typeof s){var r=s.toLowerCase();if(t[r]&&e.isFunction(t[r]))return!0}t=t.base}if(t[s]&&e.isFunction(t[s]))return!0;if("string"==typeof s){var r=s.toLowerCase();if(t[r]&&e.isFunction(t[r]))return!0}return!1},e.jqx.isPropertySetter=function(t,i){return 1==i.length&&"object"==typeof i[0]?!0:2!=i.length||"string"!=typeof i[0]||e.jqx.hasFunction(t,i)?!1:!0},e.jqx.validatePropertySetter=function(t,i,s){if(!e.jqx.propertySetterValidation)return!0;if(1==i.length&&"object"==typeof i[0]){for(var r in i[0]){for(var a=t;!a.hasOwnProperty(r)&&a.base;)a=a.base;if(!a||!a.hasOwnProperty(r)){if(!s){var o=a.hasOwnProperty(r.toString().toLowerCase());if(o)return!0;throw"Invalid property: "+r}return!1}}return!0}if(2!=i.length){if(!s)throw"Invalid property: "+i.length>=0?i[0]:"";return!1}for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(!t||!t.hasOwnProperty(i[0])){if(!s)throw"Invalid property: "+i[0];return!1}return!0},e.jqx.set=function(t,i){var s=0;if(1==i.length&&"object"==typeof i[0]){if(t.isInitialized&&Object.keys&&Object.keys(i[0]).length>1){var r=t.base?t.base.element:t.element,a=e.data(r,t.widgetName).initArgs;if(JSON&&JSON.stringify&&i[0]&&a[0])try{if(JSON.stringify(i[0])==JSON.stringify(a[0]))return}catch(o){}t.batchUpdate=i[0];var n={},l={};e.each(i[0],function(e,i){for(var r=t;!r.hasOwnProperty(e)&&null!=r.base;)r=r.base;r.hasOwnProperty(e)?t[e]!=i&&(n[e]=t[e],l[e]=i,s++):r.hasOwnProperty(e.toLowerCase())&&t[e.toLowerCase()]!=i&&(n[e.toLowerCase()]=t[e.toLowerCase()],l[e.toLowerCase()]=i,s++)}),2>s&&(t.batchUpdate=null)}e.each(i[0],function(i,s){for(var r=t;!r.hasOwnProperty(i)&&null!=r.base;)r=r.base;if(r.hasOwnProperty(i))e.jqx.setvalueraiseevent(r,i,s);else if(r.hasOwnProperty(i.toLowerCase()))e.jqx.setvalueraiseevent(r,i.toLowerCase(),s);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i+"'"}),null!=t.batchUpdate&&(t.batchUpdate=null,t.propertiesChangedHandler&&s>1&&t.propertiesChangedHandler(t,n,l))}else if(2==i.length){for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(t.hasOwnProperty(i[0]))e.jqx.setvalueraiseevent(t,i[0],i[1]);else if(t.hasOwnProperty(i[0].toLowerCase()))e.jqx.setvalueraiseevent(t,i[0].toLowerCase(),i[1]);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i[0]+"'"}},e.jqx.setvalueraiseevent=function(e,t,i){var s=e[t];e[t]=i,e.isInitialized&&(void 0!=e.propertyChangedHandler&&e.propertyChangedHandler(e,t,s,i),void 0!=e.propertyChangeMap&&void 0!=e.propertyChangeMap[t]&&e.propertyChangeMap[t](e,t,s,i))},e.jqx.get=function(e,t){if(void 0!=t&&null!=t){if(e.propertyMap){var i=e.propertyMap(t);if(null!=i)return i}if(e.hasOwnProperty(t))return e[t];if(e.hasOwnProperty(t.toLowerCase()))return e[t.toLowerCase()];var s=void 0;if(typeof t==Array){if(1!=t.length)return;s=t[0]}else"string"==typeof t&&(s=t);for(;!e.hasOwnProperty(s)&&e.base;)e=e.base;return e?e[s]:void 0}},e.jqx.serialize=function(t){var i="";if(e.isArray(t)){i="[";for(var s=0;s<t.length;s++)s>0&&(i+=", "),i+=e.jqx.serialize(t[s]);i+="]"}else if("object"==typeof t){i="{";var r=0;for(var s in t)r++>0&&(i+=", "),i+=s+": "+e.jqx.serialize(t[s]);i+="}"}else i=t.toString();return i},e.jqx.propertySetterValidation=!0,e.jqx.jqxWidgetProxy=function(t,i,s){var r=(e(i),e.data(i,t));if(void 0!=r){var a=r.instance;if(e.jqx.hasFunction(a,s))return e.jqx.invoke(a,s);if(e.jqx.isPropertySetter(a,s)){if(e.jqx.validatePropertySetter(a,s))return void e.jqx.set(a,s)}else{if("object"==typeof s&&0==s.length)return;if("object"==typeof s&&1==s.length&&e.jqx.hasProperty(a,s[0]))return e.jqx.get(a,s[0]);if("string"==typeof s&&e.jqx.hasProperty(a,s[0]))return e.jqx.get(a,s)}throw"jqxCore: Invalid parameter '"+e.jqx.serialize(s)+"' does not exist."}},e.jqx.applyWidget=function(t,i,s,r){var a=!1;try{a=void 0!=window.MSApp}catch(o){}var n=e(t);r?(r.host=n,r.element=t):r=new e.jqx["_"+i],""==t.id&&(t.id=e.jqx.utilities.createId());var l={host:n,element:t,instance:r,initArgs:s};r.widgetName=i,e.data(t,i,l),e.data(t,"jqxWidget",l.instance);for(var h=new Array,r=l.instance;r;)r.isInitialized=!1,h.push(r),r=r.base;h.reverse(),h[0].theme=e.jqx.theme||"",e.jqx.jqxWidgetProxy(i,t,s);for(var d in h)r=h[d],0==d&&(r.host=n,r.element=t,r.WinJS=a),void 0!=r&&(r.definedInstance&&r.definedInstance(),null!=r.createInstance&&(a?MSApp.execUnsafeLocalFunction(function(){r.createInstance(s)}):r.createInstance(s)));for(var d in h)void 0!=h[d]&&(h[d].isInitialized=!0);a?MSApp.execUnsafeLocalFunction(function(){l.instance.refresh(!0)}):l.instance.refresh(!0)},e.jqx.jqxWidget=function(t,i,s){var r=!1;try{jqxArgs=Array.prototype.slice.call(s,0)}catch(a){jqxArgs=""}try{r=void 0!=window.MSApp}catch(a){}var o=t,n="";i&&(n="_"+i),e.jqx.define(e.jqx,"_"+o,n);var l=new Array;if(!window[o]){var h=function(t){if(null==t)return"";var i=e.type(t);switch(i){case"string":case"number":case"date":case"boolean":case"bool":return null===t?"":t.toString()}var s="";return e.each(t,function(t){var i=this;t>0&&(s+=", "),s+="[";var r=0;if("object"==e.type(i))for(var a in i)r>0&&(s+=", "),s+="{"+a+":"+i[a]+"}",r++;else r>0&&(s+=", "),s+="{"+t+":"+i+"}",r++;s+="]"}),s};window[o]=function(t,i){var s=[];i||(i={}),s.push(i);var r=t;if("object"===e.type(r)&&t[0]&&(r=t[0].id,""===r&&(r=t[0].id=e.jqx.utilities.createId())),window.jqxWidgets&&window.jqxWidgets[r]){if(i&&e.each(window.jqxWidgets[r],function(t){var s=e(this.element).data();s&&s.jqxWidget&&e(this.element)[o](i)}),1==window.jqxWidgets[r].length){var a=e(window.jqxWidgets[r][0].widgetInstance.element).data();if(a&&a.jqxWidget)return window.jqxWidgets[r][0]}var a=e(window.jqxWidgets[r][0].widgetInstance.element).data();if(a&&a.jqxWidget)return window.jqxWidgets[r]}var n=e(t);if(0===n.length)throw new Error("Invalid Selector - "+t+"! Please, check whether the used ID or CSS Class name is correct.");var d=[];return e.each(n,function(t){var i=n[t],a=null;if(!l[o]){var c=i.id;i.id="",a=e(i).clone(),i.id=c}if(e.jqx.applyWidget(i,o,s,void 0),!l[o]){var u=e.data(i,"jqxWidget"),p=a[o]().data().jqxWidget.defineInstance(),m=function(t){var i=e.data(t,"jqxWidget");this.widgetInstance=i;var s=e.extend(this,i);return s.on=function(e,t){s.addHandler(s.host,e,t)},s.off=function(e){s.removeHandler(s.host,e)},s};l[o]=m,e.each(p,function(e,t){Object.defineProperty(m.prototype,e,{get:function(){return this.widgetInstance?this.widgetInstance[e]:t},set:function(t){if(this.widgetInstance&&this.widgetInstance[e]!=t&&this.widgetInstance[e]!=t&&h(this.widgetInstance[e])!=h(t)){var i={};i[e]=t,this.widgetInstance.host[o](i),this.widgetInstance[e]=t}}})})}var u=new l[o](i);d.push(u),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[r]||(window.jqxWidgets[r]=new Array),window.jqxWidgets[r].push(u)}),1===d.length?d[0]:d}}e.fn[o]=function(){var t=Array.prototype.slice.call(arguments,0);if(0==t.length||1==t.length&&"object"==typeof t[0]){if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){var i=(e(this),this),s=e.data(i,o);null==s?e.jqx.applyWidget(i,o,t,void 0):e.jqx.jqxWidgetProxy(o,this,t)})}if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var i=null,s=0;return this.each(function(){var r=e.jqx.jqxWidgetProxy(o,this,t);if(0==s)i=r,s++;else{if(1==s){var a=[];a.push(i),i=a}i.push(r)}}),i};try{e.extend(e.jqx["_"+o].prototype,Array.prototype.slice.call(s,0)[0])}catch(a){}e.extend(e.jqx["_"+o].prototype,{toThemeProperty:function(t,i){return e.jqx.toThemeProperty(this,t,i)}}),e.jqx["_"+o].prototype.refresh=function(){this.base&&this.base.refresh(!0)},e.jqx["_"+o].prototype.createInstance=function(){},e.jqx["_"+o].prototype.applyTo=function(t,i){if(!(i instanceof Array)){var s=[];s.push(i),i=s}e.jqx.applyWidget(t,o,i,this)},e.jqx["_"+o].prototype.getInstance=function(){return this},e.jqx["_"+o].prototype.propertyChangeMap={},e.jqx["_"+o].prototype.addHandler=function(t,i,s,r){e.jqx.addHandler(t,i,s,r)},e.jqx["_"+o].prototype.removeHandler=function(t,i,s){e.jqx.removeHandler(t,i,s)}},e.jqx.toThemeProperty=function(e,t,i){if(""==e.theme)return t;for(var s=t.split(" "),r="",a=0;a<s.length;a++){a>0&&(r+=" ");var o=s[a];r+=null!=i&&i?o+"-"+e.theme:o+" "+o+"-"+e.theme}return r},e.jqx.addHandler=function(t,i,s,r){for(var a=i.split(" "),o=0;o<a.length;o++){var n=a[o];if(window.addEventListener)switch(n){case"mousewheel":e.jqx.browser.mozilla?t[0].addEventListener("DOMMouseScroll",s,!1):t[0].addEventListener("mousewheel",s,!1);continue;case"mousemove":if(!r){t[0].addEventListener("mousemove",s,!1);continue}}void 0==r||null==r?t.on?t.on(n,s):t.bind(n,s):t.on?t.on(n,r,s):t.bind(n,r,s)}},e.jqx.removeHandler=function(t,i,s){if(!i)return void(t.off?t.off():t.unbind());for(var r=i.split(" "),a=0;a<r.length;a++){var o=r[a];if(window.removeEventListener)switch(o){case"mousewheel":e.jqx.browser.mozilla?t[0].removeEventListener("DOMMouseScroll",s,!1):t[0].removeEventListener("mousewheel",s,!1);continue;case"mousemove":if(s){t[0].removeEventListener("mousemove",s,!1);continue}}void 0!=o?void 0==s?t.off?t.off(o):t.unbind(o):t.off?t.off(o,s):t.unbind(o,s):t.off?t.off():t.unbind()}},e.jqx.theme=e.jqx.theme||"",e.jqx.resizeDelay=e.jqx.resizeDelay||10,e.jqx.ready=function(){e(window).trigger("jqxReady")},e.jqx.init=function(){e.each(arguments[0],function(t,i){"theme"==t&&(e.jqx.theme=i),"scrollBarSize"==t&&(e.jqx.utilities.scrollBarSize=i),"touchScrollBarSize"==t&&(e.jqx.utilities.touchScrollBarSize=i),"scrollBarButtonsVisibility"==t&&(e.jqx.utilities.scrollBarButtonsVisibility=i)})},e.jqx.utilities=e.jqx.utilities||{},e.extend(e.jqx.utilities,{scrollBarSize:15,touchScrollBarSize:10,scrollBarButtonsVisibility:"visible",createId:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+e()+e()},setTheme:function(t,i,s){if("undefined"!=typeof s){for(var r=s[0].className.split(" "),a=[],o=[],n=s.children(),l=0;l<r.length;l+=1)r[l].indexOf(t)>=0&&(t.length>0?(a.push(r[l]),o.push(r[l].replace(t,i))):o.push(r[l].replace("-"+i,"")+"-"+i));this._removeOldClasses(a,s),this._addNewClasses(o,s);for(var l=0;l<n.length;l+=1)this.setTheme(t,i,e(n[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},getOffset:function(t){var i=e.jqx.mobile.getLeftPos(t[0]),s=e.jqx.mobile.getTopPos(t[0]);return{top:s,left:i}},resize:function(t,i,s,r){void 0===r&&(r=!0);var a=-1,o=this,n=function(e){if(!o.hiddenWidgets)return-1;for(var t=-1,i=0;i<o.hiddenWidgets.length;i++)if(e.id){if(o.hiddenWidgets[i].id==e.id){t=i;break}}else if(o.hiddenWidgets[i].id==e[0].id){t=i;break}return t};if(this.resizeHandlers){for(var l=0;l<this.resizeHandlers.length;l++)if(t.id){if(this.resizeHandlers[l].id==t.id){a=l;break}}else if(this.resizeHandlers[l].id==t[0].id){a=l;break}if(s===!0){if(-1!=a&&this.resizeHandlers.splice(a,1),0==this.resizeHandlers.length){var h=e(window);h.off?(h.off("resize.jqx"),h.off("orientationchange.jqx"),h.off("orientationchanged.jqx")):(h.unbind("resize.jqx"),h.unbind("orientationchange.jqx"),h.unbind("orientationchanged.jqx")),this.resizeHandlers=null}var d=n(t);return void(-1!=d&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}}else if(s===!0){var d=n(t);return void(-1!=d&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}var o=this,c=function(t,i){if(o.resizeHandlers){var s=function(e){for(var t=-1,i=e.parentNode;i;)t++,i=i.parentNode;return t},r=function(e,t){if(!e.widget||!t.widget)return 0;var i=s(e.widget[0]),r=s(t.widget[0]);try{if(r>i)return-1;if(i>r)return 1}catch(a){}return 0},a=function(t){if(o.hiddenWidgets.length>0){o.hiddenWidgets.sort(r);var s=function(){for(var t=!1,s=new Array,r=0;r<o.hiddenWidgets.length;r++){var a=o.hiddenWidgets[r];e.jqx.isHidden(a.widget)?(t=!0,s.push(a)):a.callback&&a.callback(i)}o.hiddenWidgets=s,t||clearInterval(o.__resizeInterval)};if(0==t)return s(),void(o.__resizeInterval&&clearInterval(o.__resizeInterval));o.__resizeInterval&&clearInterval(o.__resizeInterval),o.__resizeInterval=setInterval(function(){s()},100)}};o.hiddenWidgets&&o.hiddenWidgets.length>0&&a(!1),o.hiddenWidgets=new Array,o.resizeHandlers.sort(r);for(var l=0;l<o.resizeHandlers.length;l++){var h=o.resizeHandlers[l],d=h.widget,c=h.data;if(c&&c.jqxWidget){var u=c.jqxWidget.width,p=c.jqxWidget.height;c.jqxWidget.base&&(void 0==u&&(u=c.jqxWidget.base.width),void 0==p&&(p=c.jqxWidget.base.height)),void 0===u&&void 0===p&&(u=c.jqxWidget.element.style.width,p=c.jqxWidget.element.style.height);var m=!1;if(null!=u&&-1!=u.toString().indexOf("%")&&(m=!0),null!=p&&-1!=p.toString().indexOf("%")&&(m=!0),e.jqx.isHidden(d))-1===n(d)&&(m||t===!0)&&h.data.nestedWidget!==!0&&o.hiddenWidgets.push(h);else if((void 0===t||t!==!0)&&(m&&(h.callback(i),o.hiddenWidgets.indexOf(h)>=0&&o.hiddenWidgets.splice(o.hiddenWidgets.indexOf(h),1)),c.jqxWidget.element)){var f=c.jqxWidget.element.className;if((f.indexOf("dropdownlist")>=0||f.indexOf("datetimeinput")>=0||f.indexOf("combobox")>=0||f.indexOf("menu")>=0)&&c.jqxWidget.isOpened){var v=c.jqxWidget.isOpened();if(v){if(i&&"resize"==i&&e.jqx.mobile.isTouchDevice())continue;c.jqxWidget.close()}}}}}a()}};if(!this.resizeHandlers){this.resizeHandlers=new Array;var h=e(window);h.on?(this._resizeTimer=null,this._initResize=null,h.on("resize.jqx",function(t){void 0!=o._resizeTimer&&clearTimeout(o._resizeTimer),o._initResize?o._resizeTimer=setTimeout(function(){c(null,"resize")},e.jqx.resizeDelay):(o._initResize=!0,c(null,"resize"))}),h.on("orientationchange.jqx",function(e){c(null,"orientationchange")}),h.on("orientationchanged.jqx",function(e){c(null,"orientationchange")})):(h.bind("resize.jqx",function(e){c(null,"orientationchange")}),h.bind("orientationchange.jqx",function(e){c(null,"orientationchange")}),h.bind("orientationchanged.jqx",function(e){c(null,"orientationchange")}))}r&&-1===a&&this.resizeHandlers.push({id:t[0].id,widget:t,callback:i,data:t.data()}),e.jqx.isHidden(t)&&r===!0&&c(!0),e.jqx.resize=function(){c(null,"resize")}},html:function(t,i){if(!e(t).on)return e(t).html(i);try{return e.access(t,function(i){var s=t[0]||{},r=0,a=t.length;if(void 0===i)return 1===s.nodeType?s.innerHTML.replace(rinlinejQuery,""):void 0;var o=/<(?:script|style|link)/i,n="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",l=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,h=/<([\w:]+)/,d=new RegExp("<(?:"+n+")[\\s/>]","i"),c=/^\s+/,u={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if("string"==typeof i&&!o.test(i)&&(e.support.htmlSerialize||!d.test(i))&&(e.support.leadingWhitespace||!c.test(i))&&!u[(h.exec(i)||["",""])[1].toLowerCase()]){i=i.replace(l,"<$1></$2>");try{for(;a>r;r++)s=this[r]||{},1===s.nodeType&&(e.cleanData(s.getElementsByTagName("*")),s.innerHTML=i);s=0}catch(p){}}s&&t.empty().append(i)},null,i,arguments.length)}catch(s){return e(t).html(i)}},hasTransform:function(t){var i="";if(i=t.css("transform"),""==i||"none"==i){if(i=t.parents().css("transform"),""!=i&&"none"!=i)return""!=i&&"none"!=i;var s=e.jqx.utilities.getBrowser();"msie"==s.browser?(i=t.css("-ms-transform"),(""==i||"none"==i)&&(i=t.parents().css("-ms-transform"))):"chrome"==s.browser?(i=t.css("-webkit-transform"),(""==i||"none"==i)&&(i=t.parents().css("-webkit-transform"))):"opera"==s.browser?(i=t.css("-o-transform"),(""==i||"none"==i)&&(i=t.parents().css("-o-transform"))):"mozilla"==s.browser&&(i=t.css("-moz-transform"),(""==i||"none"==i)&&(i=t.parents().css("-moz-transform")))}return(""==i||"none"==i)&&(i=e(document.body).css("transform")),""!=i&&"none"!=i&&null!=i},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i={browser:t[1]||"",version:t[2]||"0"};return e.indexOf("rv:11.0")>=0&&e.indexOf(".net4.0c")>=0&&(i.browser="msie",i.version="11",t[1]="msie"),e.indexOf("edge")>=0&&(i.browser="msie",i.version="12",t[1]="msie"),i[t[1]]=t[1],i}}),e.jqx.browser=e.jqx.utilities.getBrowser(),e.jqx.isHidden=function(e){if(!e||!e[0])return!1;var t=e[0].offsetWidth,i=e[0].offsetHeight;return 0===t||0===i?!0:!1},e.jqx.ariaEnabled=!0,e.jqx.aria=function(t,i,s){if(e.jqx.ariaEnabled)if(void 0==i)e.each(t.aria,function(i,s){var r=t.base?t.base.host.attr(i):t.host.attr(i);if(void 0==r||e.isFunction(r)){var r=t[s.name];e.isFunction(r)&&(r=t[s.name]()),void 0==r&&(r="");try{t.base?t.base.host.attr(i,r.toString()):t.host.attr(i,r.toString())}catch(a){}}else{var o=r;switch(s.type){case"number":o=new Number(r),isNaN(o)&&(o=r);break;case"boolean":o="true"==r?!0:!1;break;case"date":o=new Date(r),("Invalid Date"==o||isNaN(o))&&(o=r)}t[s.name]=o}});else try{t.host?t.base?t.base.host?t.base.host.attr(i,s.toString()):t.attr(i,s.toString()):t.host?t.element.setAttribute?t.element.setAttribute(i,s.toString()):t.host.attr(i,s.toString()):t.attr(i,s.toString()):t.setAttribute&&t.setAttribute(i,s.toString())}catch(r){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=t);t>i;i++)if(i in this&&this[i]===e)return i;return-1}),e.jqx.mobile=e.jqx.mobile||{},e.jqx.position=function(t){var i=parseInt(t.pageX),s=parseInt(t.pageY);if(e.jqx.mobile.isTouchDevice()){var r=e.jqx.mobile.getTouches(t),a=r[0];i=parseInt(a.pageX),s=parseInt(a.pageY)}return{left:i,top:s}},e.extend(e.jqx.mobile,{_touchListener:function(e,t){var i=function(e,t){var i=document.createEvent("MouseEvents");return i.initMouseEvent(e,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),i._pageX=t.pageX,i._pageY=t.pageY,i},s={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=i(s[e.type],e);e.target.dispatchEvent(r);var a=e.target["on"+s[e.type]];"function"==typeof a&&a(e)},setMobileSimulator:function(t,i){if(!this.isTouchDevice()){this.simulatetouches=!0,0==i&&(this.simulatetouches=!1);var s={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=this;if(window.addEventListener){var a=function(){for(var e in s)t.addEventListener&&(t.removeEventListener(e,r._touchListener),t.addEventListener(e,r._touchListener,!1))};e.jqx.browser.msie,a()}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var e="Browser CodeName: "+navigator.appCodeName;if(e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,e+="User-agent header: "+navigator.userAgent,-1!=e.indexOf("Android"))return!0;if(-1!=e.indexOf("IEMobile"))return!0;if(-1!=e.indexOf("Windows Phone"))return!0;if(-1!=e.indexOf("WPDesktop"))return!0;if(-1!=e.indexOf("ZuneWP7"))return!0;if(-1!=e.indexOf("BlackBerry")&&-1!=e.indexOf("Mobile Safari"))return!0;if(-1!=e.indexOf("ipod"))return!0;if(-1!=e.indexOf("nokia")||-1!=e.indexOf("Nokia"))return!0;if(-1!=e.indexOf("Chrome/17"))return!1;if(-1!=e.indexOf("CrOS"))return!1;if(-1!=e.indexOf("Opera")&&-1==e.indexOf("Mobi")&&-1==e.indexOf("Mini")&&-1!=e.indexOf("Platform: Win"))return!1;if(-1!=e.indexOf("Opera")&&-1!=e.indexOf("Mobi")&&-1!=e.indexOf("Opera Mobi"))return!0;var t={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(void 0!=this.touchDevice)return this.touchDevice;this.touchDevice=!1;for(i in t)if(t.hasOwnProperty(i)&&(prefix=t[i],match=e.match(new RegExp("(?:"+prefix+")([^\\s;]+)")),match))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0);var s=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(s.indexOf("Windows Phone")>=0||s.indexOf("WPDesktop")>=0||s.indexOf("IEMobile")>=0||s.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(s.indexOf("Touch")>=0){var r="MSPointerDown"in window||"pointerdown"in window;return r?(this.touchDevice=!0,!0):s.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(a){return this.touchDevice=!1,!1}},getLeftPos:function(e){for(var t=e.offsetLeft;null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetLeft,document.all&&(t+=e.clientLeft));return t},getTopPos:function(t){for(var i=t.offsetTop,s=e(t).coord();null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(i+=t.offsetTop-t.scrollTop,document.all&&(i+=t.clientTop));var r=navigator.userAgent.toLowerCase(),a=(-1!=r.indexOf("windows phone")||-1!=r.indexOf("WPDesktop")||-1!=r.indexOf("ZuneWP7")||-1!=r.indexOf("msie 9")||-1!=r.indexOf("msie 11")||-1!=r.indexOf("msie 10"))&&-1!=r.indexOf("touch");return a?s.top:this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?i:-1!=r.indexOf("version/7")?s.top:((-1!=r.indexOf("version/6")||-1!=r.indexOf("version/5"))&&(i+=e(window).scrollTop()),s.top):i},isChromeMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("android");return t},isOperaMiniMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("opera mini")||-1!=e.indexOf("opera mobi");return t},isOperaMiniBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("opera mini");return t},isNewSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/5")},isSafari4MobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/4")},isWindowsPhone:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10")&&-1!=e.indexOf("touch");return t},isSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t},isIPadSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad");return t},isMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("android");return t},getTouches:function(e){if(e.originalEvent){if(e.originalEvent.touches&&e.originalEvent.touches.length)return e.originalEvent.touches;if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length)return e.originalEvent.changedTouches}return e.touches||(e.touches=new Array,e.touches[0]=void 0!=e.originalEvent?e.originalEvent:e,void 0!=e.originalEvent&&e.pageX&&(e.touches[0]=e),"mousemove"==e.type&&(e.touches[0]=e)),e.touches},getTouchEventName:function(e){if(!this.isWindowsPhone())return e;var t=navigator.userAgent.toLowerCase();if(console.log(t),-1!=t.indexOf("windows phone 7")){if(-1!=e.toLowerCase().indexOf("start"))return"MSPointerDown";if(-1!=e.toLowerCase().indexOf("move"))return"MSPointerMove";if(-1!=e.toLowerCase().indexOf("end"))return"MSPointerUp"}return-1!=e.toLowerCase().indexOf("start")?"pointerdown":-1!=e.toLowerCase().indexOf("move")?"pointermove":-1!=e.toLowerCase().indexOf("end")?"pointerup":void 0},dispatchMouseEvent:function(e,t,i){if(!this.simulatetouches){var s=document.createEvent("MouseEvent");s.initMouseEvent(e,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),null!=i&&i.dispatchEvent(s)}},getRootNode:function(e){for(;1!==e.nodeType;)e=e.parentNode;return e},setTouchScroll:function(e,t){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[t]=e},touchScroll:function(t,i,s,r,a,o){if(null!=t){var n=this,l=0,h=0,d=0,c=0,u=0,p=0;this.scrolling||(this.scrolling=[]),this.scrolling[r]=!1;var m=!1,f=e(t),v=["select","input","textarea"],g=0,x=0;this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[r]=!0;var r=r,b=this.getTouchEventName("touchstart")+".touchScroll",y=this.getTouchEventName("touchend")+".touchScroll",w=this.getTouchEventName("touchmove")+".touchScroll",g=function(t){if(!n.enableScrolling[r])return!0;if(-1===e.inArray(t.target.tagName.toLowerCase(),v)){var i=n.getTouches(t),s=i[0];return 1==i.length&&n.dispatchMouseEvent("mousedown",s,n.getRootNode(s.target)),m=!1,h=s.pageY,u=s.pageX,n.simulatetouches&&void 0!=s._pageY&&(h=s._pageY,u=s._pageX),n.scrolling[r]=!0,l=0,c=0,!0}};f.on?f.on(b,g):f.bind(b,g);var _=function(e){if(!n.enableScrolling[r])return!0;if(!n.scrolling[r])return!0;var t=n.getTouches(e);if(t.length>1)return!0;var i=t[0].pageY,f=t[0].pageX;n.simulatetouches&&void 0!=t[0]._pageY&&(i=t[0]._pageY,f=t[0]._pageX);var v=i-h,g=f-u;x=i,touchHorizontalEnd=f,d=v-l,p=g-c,m=!0,l=v,c=g;var b=null!=a?"hidden"!=a[0].style.visibility:!0,y=null!=o?"hidden"!=o[0].style.visibility:!0;return(b||y)&&(0!==p&&b||0!==d&&y)?(s(1*-p,1*-d,g,v,e),e.preventDefault(),e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),!1):void 0};if(f.on?f.on(w,_):f.bind(w,_),this.simulatetouches){var T=(void 0!=e(window).on||e(window).bind,function(e){n.scrolling[r]=!1});if(void 0!=e(window).on?e(document).on("mouseup.touchScroll",T):e(document).bind("mouseup.touchScroll",T),window.frameElement&&null!=window.top){var j=function(e){n.scrolling[r]=!1};window.top.document&&(e(window.top.document).on?e(window.top.document).on("mouseup",j):e(window.top.document).bind("mouseup",j))}var q=(void 0!=e(document).on||e(document).bind,function(e){if(!n.scrolling[r])return!0;n.scrolling[r]=!1;var t=n.getTouches(e)[0],i=n.getRootNode(t.target);n.dispatchMouseEvent("mouseup",t,i),n.dispatchMouseEvent("click",t,i)});void 0!=e(document).on?e(document).on("touchend",q):e(document).bind("touchend",q)}var I=function(e){if(!n.enableScrolling[r])return!0;var t=n.getTouches(e)[0];if(!n.scrolling[r])return!0;if(n.scrolling[r]=!1,!m){var t=n.getTouches(e)[0],i=n.getRootNode(t.target);return n.dispatchMouseEvent("mouseup",t,i),n.dispatchMouseEvent("click",t,i),!0}n.dispatchMouseEvent("mouseup",t,i)};f.on&&(f.on("dragstart",function(e){e.preventDefault()}),f.on("selectstart",function(e){e.preventDefault()})),f.on?f.on(y+" touchcancel.touchScroll",I):f.bind(y+" touchcancel.touchScroll",I)}}}),e.jqx.cookie=e.jqx.cookie||{},e.extend(e.jqx.cookie,{cookie:function(t,i,s){if(arguments.length>1&&"[object Object]"!==String(i)){if(s=e.extend({},s),(null===i||void 0===i)&&(s.expires=-1),"number"==typeof s.expires){var r=s.expires,a=s.expires=new Date;a.setDate(a.getDate()+r)}return i=String(i),document.cookie=[encodeURIComponent(t),"=",s.raw?i:encodeURIComponent(i),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}s=i||{};var o,n=s.raw?function(e){return e}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?n(o[1]):null}}),e.jqx.string=e.jqx.string||{},e.extend(e.jqx.string,{replace:function(e,t,i){if(t===i)return this;for(var s=e,r=s.indexOf(t);-1!=r;)s=s.replace(t,i),r=s.indexOf(t);return s},contains:function(e,t){return null==e||null==t?!1:-1!=e.indexOf(t)},containsIgnoreCase:function(e,t){return null==e||null==t?!1:-1!=e.toString().toUpperCase().indexOf(t.toString().toUpperCase())},equals:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),t.length==e.length?e.slice(0,t.length)==t:!1)},equalsIgnoreCase:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),t.length==e.length?e.toUpperCase().slice(0,t.length)==t.toUpperCase():!1)},startsWith:function(e,t){return null==e||null==t?!1:e.slice(0,t.length)==t},startsWithIgnoreCase:function(e,t){return null==e||null==t?!1:e.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(e){return 65279==e.charCodeAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},endsWith:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),e.slice(-t.length)==t)},endsWithIgnoreCase:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),e.toUpperCase().slice(-t.length)==t.toUpperCase())}}),e.extend(e.easing,{easeOutBack:function(e,t,i,s,r,a){return void 0==a&&(a=1.70158),s*((t=t/r-1)*t*((a+1)*t+a)+1)+i},easeInQuad:function(e,t,i,s,r){return s*(t/=r)*t+i},easeInOutCirc:function(e,t,i,s,r){return(t/=r/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+i:s/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(e,t,i,s,r){return-s/2*(Math.cos(Math.PI*t/r)-1)+i},easeInCubic:function(e,t,i,s,r){return s*(t/=r)*t*t+i},easeOutCubic:function(e,t,i,s,r){return s*((t=t/r-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,s,r){return(t/=r/2)<1?s/2*t*t*t+i:s/2*((t-=2)*t*t+2)+i},easeInSine:function(e,t,i,s,r){return-s*Math.cos(t/r*(Math.PI/2))+s+i},easeOutSine:function(e,t,i,s,r){return s*Math.sin(t/r*(Math.PI/2))+i},easeInOutSine:function(e,t,i,s,r){return-s/2*(Math.cos(Math.PI*t/r)-1)+i}})}(jqxBaseFramework),function(e){e.extend(e.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),e.fn.extend({ischildof:function(t){for(var i=e(this).parents().get(),s=0;s<i.length;s++)if("string"!=typeof t){var r=i[s];if(void 0!==t&&r==t[0])return!0}else if(void 0!==t&&e(i[s]).is(t))return!0;return!1}}),e.fn.jqxProxy=function(){var t=e(this).data().jqxWidget,i=Array.prototype.slice.call(arguments,0),s=t.element;return s||(s=t.base.element),
e.jqx.jqxWidgetProxy(t.widgetName,s,i)};var t=this.originalVal=e.fn.val;e.fn.val=function(i){if("undefined"==typeof i){if(e(this).hasClass("jqx-widget")){var s=e(this).data().jqxWidget;if(s&&s.val)return s.val()}return t.call(this)}if(e(this).hasClass("jqx-widget")){var s=e(this).data().jqxWidget;if(s&&s.val)return 2!=arguments.length?s.val(i):s.val(i,arguments[1])}return t.call(this,i)},e.fn.modal&&e.fn.modal.Constructor&&(e.fn.modal.Constructor.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(t){if(this.$element[0]!==t.target&&!this.$element.has(t.target).length){if(e(t.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}},this))}),e.fn.coord=function(t){var i,s,r={top:0,left:0},a=this[0],o=a&&a.ownerDocument;if(o){if(i=o.documentElement,!e.contains(i,a))return r;void 0!==typeof a.getBoundingClientRect&&(r=a.getBoundingClientRect());var n=function(t){return e.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1};s=n(o);var l=0,h=0,d=navigator.userAgent.toLowerCase(),c=-1!=d.indexOf("ipad")||-1!=d.indexOf("iphone");if(c&&(l=2),1==t&&"static"!=e(document.body).css("position")){var u=e(document.body).coord();l=-u.left,h=-u.top}return{top:h+r.top+(s.pageYOffset||i.scrollTop)-(i.clientTop||0),left:l+r.left+(s.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}}}(jqxBaseFramework),$.jqx.utilities=$.jqx.utilities||{},$.extend($.jqx.utilities,{loading_width:300,loading_height:60,dropdown_width:"100%",dropdown_height:28,combobox_width:"100%",combobox_height:28,dataTable_pagerHeight:60,dataTable_pagerBtnHeight:28,grid_rowHeight:32,grid_pagerHeight:60,grid_pagerBtnHeight:24,grid_columnsheight:32,grid_columnHeaderPadding:"5px 0",validator_position:"top",validator_hintPositionOffset:0,window_closeButtonSize:24}),function(){function e(t){var i=t.closest(".bh-nav"),s=i.parent().closest(".bh-nav");return 0===s.length?i:e(s)}function t(t){t.on("click","li > a",function(){var t=$(this).closest("li");if(!t.hasClass("bh-disabled")){var i=t.closest(".bh-nav"),s=e(i);s.hasClass("bh-nav-tile")?t.hasClass("bh-nav-dropdown")||(s.find("li").removeClass("bh-active"),t.addClass("bh-active")):(s.find("li").removeClass("bh-active"),t.addClass("bh-active"),t.hasClass("bh-nav-dropdown")&&t.children(".bh-nav").stop().animate().slideToggle(500,function(){t.toggleClass("bh-open")}))}})}function i(e,i){var s="";i.list.map(function(e){if(e.icon)var t='<li><a href = "'+e.location+'"><div><i class="'+e.icon+'"></i>'+e.title+"</div></a></li>";else var t='<li><a href = "'+e.location+'">'+e.title+"</a></li>";if(e.children){t=e.icon?'<li class="bh-nav-dropdown"><a href = "javascript:void(0)"><div><i class="'+e.icon+'"></i>'+e.title+"</div></a>":'<li class="bh-nav-dropdown"><a href = "javascript:void(0)">'+e.title+"</a>";var i="";e.children.map(function(t){i+=t.icon?'<li><a href = "'+t.location+'"><div><i class="'+e.icon+'"></i>'+t.title+"</div></a></li>":'<li><a href = "'+t.location+'">'+t.title+"</a></li>"}),t=t+'<ul class="bh-nav">'+i+"</ul></li>"}s+=t});var r='<aside data-bh-type="sideNav" tabindex="0"><ul class="bh-nav bh-card bh-card-lv1">'+s+"</ul></aside>";e.append(r),t(e)}var s;s=function(){function e(e,t){this.settings=$.extend({},$.fn.bhNav.defaults,t),this.$element=$(e),i(this.$element,this.settings)}return e}(),$.fn.bhNav=function(e){var t;return(t=this.data("nav"))?e===!0?t:("string"===$.type(e)&&t[e](),this):this.each(function(){return $(this).data("nav",new s(this,e))})},$.fn.bhNav.defaults={list:"",mode:"vertical"}}.call(this),function(e){e.jqx.cssroundedcorners=function(e){var t={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in t)if(t.hasOwnProperty(prop)&&e==prop)return t[prop]},e.jqx.jqxWidget("jqxButton","",{}),e.extend(e.jqx._jqxButton.prototype,{defineInstance:function(){var t={cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),t},createInstance:function(t){var i=this;i._setSize(),i._ariaDisabled||i.host.attr("role","button"),i.overrideTheme||(i.host.addClass(i.toThemeProperty(e.jqx.cssroundedcorners(i.roundedCorners))),i.enableDefault&&i.host.addClass(i.toThemeProperty("jqx-button")),i.host.addClass(i.toThemeProperty("jqx-widget"))),i.isTouchDevice=e.jqx.mobile.isTouchDevice(),i._ariaDisabled||e.jqx.aria(this),"arrow"!=i.cursor&&(i.disabled?i.host.css({cursor:"arrow"}):i.host.css({cursor:i.cursor}));var s="mouseenter mouseleave mousedown focus blur";if(i._scrollAreaButton)var s="mousedown";i.isTouchDevice&&(i.addHandler(i.host,e.jqx.mobile.getTouchEventName("touchstart"),function(e){i.isPressed=!0,i.refresh()}),i.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+i.element.id,function(e){i.isPressed=!1,i.refresh()})),i.addHandler(i.host,s,function(e){switch(e.type){case"mouseenter":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!0,i.refresh());break;case"mouseleave":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!1,i.refresh());break;case"mousedown":i.disabled||(i.isPressed=!0,i.refresh());break;case"focus":i.disabled||(i.isFocused=!0,i.refresh());break;case"blur":i.disabled||(i.isFocused=!1,i.refresh())}}),i.mouseupfunc=function(e){i.disabled||(i.isPressed||i.isMouseOver)&&(i.isPressed=!1,i.refresh())},i.addHandler(e(document),"mouseup.button"+i.element.id,i.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var r="";if(window.parent&&document.referrer&&(r=document.referrer),-1!=r.indexOf(document.location.host)){var a=function(e){i.isPressed=!1,i.refresh()};window.top.document&&i.addHandler(e(window.top.document),"mouseup",a)}}}catch(o){}i.propertyChangeMap.roundedCorners=function(t,i,s,r){t.host.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(s))),t.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(r)))},i.propertyChangeMap.width=function(e,t,i,s){e._setSize(),e.refresh()},i.propertyChangeMap.height=function(e,t,i,s){e._setSize(),e.refresh()},i.propertyChangeMap.disabled=function(t,i,s,r){s!=r&&(t.host[0].disabled=r,t.host.attr("disabled",r),t.refresh(),r?t.host.css({cursor:"default"}):t.host.css({cursor:t.cursor}),e.jqx.aria(t,"aria-disabled",t.disabled))},i.propertyChangeMap.rtl=function(e,t,i,s){i!=s&&e.refresh()},i.propertyChangeMap.template=function(e,t,i,s){i!=s&&(e.host.removeClass("jqx-"+i),e.refresh())},i.propertyChangeMap.theme=function(t,i,s,r){t.host.removeClass(),t.enableDefault&&t.host.addClass(t.toThemeProperty("jqx-button")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.overrideTheme||t.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(t.roundedCorners))),t._oldCSSCurrent=null,t.refresh()},i.disabled&&(i.element.disabled=!0,i.host.attr("disabled",!0))},resize:function(e,t){this.width=e,this.height=t,this._setSize()},val:function(){var t=this,i=t.host.find("input");return i.length>0?0==arguments.length||"object"==typeof value?i.val():(i.val(value),t.refresh(),i.val()):0==arguments.length||"object"==typeof value?"button"==t.element.nodeName.toLowerCase()?e(t.element).text():t.element.value:(t.element.value=arguments[0],"button"==t.element.nodeName.toLowerCase()&&e(t.element).text(arguments[0]),void t.refresh())},_setSize:function(){var e=this;null==e.width||-1==e.width.toString().indexOf("px")&&-1==e.width.toString().indexOf("%")?void 0==e.width||isNaN(e.width)||e.host.css("width",e.width):e.host.css("width",e.width),null==e.height||-1==e.height.toString().indexOf("px")&&-1==e.height.toString().indexOf("%")?void 0==e.height||isNaN(e.height)||e.host.css("height",parseInt(e.height)):e.host.css("height",e.height)},_removeHandlers:function(){var t=this;t.removeHandler(t.host,"selectstart"),t.removeHandler(t.host,"click"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.removeHandler(t.host,"mousedown"),t.removeHandler(e(document),"mouseup.button"+t.element.id,t.mouseupfunc),t.isTouchDevice&&(t.removeHandler(t.host,e.jqx.mobile.getTouchEventName("touchstart")),t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+t.element.id)),t.mouseupfunc=null,delete t.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){var t=this;t._removeHandlers();var i=e.data(t.element,"jqxButton");i&&delete i.instance,t.host.removeClass(),t.host.removeData(),t.host.remove(),delete t.set,delete t.get,delete t.call,delete t.element,delete t.host},render:function(){this.refresh()},refresh:function(){var e=this;if(!e.overrideTheme){var t=e.toThemeProperty("jqx-fill-state-focus"),i=e.toThemeProperty("jqx-fill-state-disabled"),s=e.toThemeProperty("jqx-fill-state-normal");e.enableDefault||(s="");var r=e.toThemeProperty("jqx-fill-state-hover"),a=e.toThemeProperty("jqx-fill-state-pressed"),o=e.toThemeProperty("jqx-fill-state-pressed");e.enablePressed||(a="");var n="";if(e.host){if(e.host[0].disabled=e.disabled,e.disabled)return n=s+" "+i,"default"!==e.template&&""!==e.template&&(n+=" jqx-"+e.template),e.host.addClass(n),void(e._oldCSSCurrent=n);n=e.isMouseOver&&!e.isTouchDevice?e.isPressed?o:r:e.isPressed?a:s,e.isFocused&&(n+=" "+t),"default"!==e.template&&""!==e.template&&(n+=" jqx-"+e.template),n!=e._oldCSSCurrent&&(e._oldCSSCurrent&&e.host.removeClass(e._oldCSSCurrent),e.host.addClass(n),e._oldCSSCurrent=n),e.rtl&&(e.host.addClass(e.toThemeProperty("jqx-rtl")),e.host.css("direction","rtl"))}}}}),e.jqx.jqxWidget("jqxLinkButton","",{}),e.extend(e.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(e){var t=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var i=this.height||this.host.height(),s=this.width||this.host.width();this.href=this.host.attr("href"),this.target=this.host.attr("target"),this.content=this.host.text(),this.element.innerHTML="",this.host.append("<input type='button' class='jqx-wrapper'/>");var r=this.host.find("input");r.addClass(this.toThemeProperty("jqx-reset")),r.css({width:s}),r.css({height:i}),r.val(this.content),this.host.find("tr").addClass(this.toThemeProperty("jqx-reset")),this.host.find("td").addClass(this.toThemeProperty("jqx-reset")),this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset")),this.host.css("color","inherit"),this.host.addClass(this.toThemeProperty("jqx-link")),r.css({width:s}),r.css({height:i});var a=void 0==e?{}:e[0]||{};r.jqxButton(a),this.disabled&&(this.host[0].disabled=!0),this.propertyChangeMap.disabled=function(e,t,i,s){e.host[0].disabled=s,e.host.find("input").jqxButton({disabled:s})},this.addHandler(r,"click",function(e){return this.disabled||t.onclick(e),!1})},onclick:function(e){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),e.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),e.extend(e.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(t){var i=this,s=e.jqx.mobile.isTouchDevice(),r=s?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,a=s?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(e(document),r,function(e){null!=i.timeout&&(clearTimeout(i.timeout),i.timeout=null,i.refresh()),void 0!=i.timer&&(clearInterval(i.timer),i.timer=null,i.refresh())}),this.addHandler(this.base.host,a,function(e){null!=i.timer&&clearInterval(i.timer),i.timeout=setTimeout(function(){clearInterval(i.timer),i.timer=setInterval(function(e){i.ontimer(e)},i.delay)},150)}),this.mousemovefunc=function(e){s||0==e.which&&null!=i.timer&&(clearInterval(i.timer),i.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var t=e.jqx.mobile.isTouchDevice(),i=t?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,s=t?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,s),this.removeHandler(e(document),i),this.timer=null,delete this.mousemovefunc,delete this.timer;var r=e.data(this.base.element,"jqxRepeatButton");r&&delete r.instance,e(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(t){var t=new e.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(t)}}),e.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),e.extend(e.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(t){var i=this;i.base.overrideTheme=!0,i.isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),i.propertyChangeMap.roundedCorners=function(t,i,s,r){t.base.host.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(s))),t.base.host.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(r)))},i.propertyChangeMap.toggled=function(e,t,i,s){e.refresh()},i.propertyChangeMap.disabled=function(e,t,i,s){e.base.disabled=s,e.refresh()},i.addHandler(i.base.host,"click",function(e){!i.base.disabled&&i.uiToggle&&i.toggle()}),i.isTouchDevice||(i.addHandler(i.base.host,"mouseenter",function(e){i.base.disabled||i.refresh()}),i.addHandler(i.base.host,"mouseleave",function(e){i.base.disabled||i.refresh()})),i.addHandler(i.base.host,"mousedown",function(e){i.base.disabled||i.refresh()}),i.addHandler(e(document),"mouseup.togglebutton"+i.base.element.id,function(e){i.base.disabled||i.refresh()})},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(e(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),e.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var e=this,t=e.base.toThemeProperty("jqx-fill-state-disabled"),i=e.base.toThemeProperty("jqx-fill-state-normal");e.base.enableDefault||(i="");var s=e.base.toThemeProperty("jqx-fill-state-hover"),r=e.base.toThemeProperty("jqx-fill-state-pressed"),a=e.base.toThemeProperty("jqx-fill-state-pressed"),o="";return e.base.host[0].disabled=e.base.disabled,e.base.disabled?(o=i+" "+t,void e.base.host.addClass(o)):(o=e.base.isMouseOver&&!e.isTouchDevice?e.base.isPressed||e.toggled?a:s:e.base.isPressed||e.toggled?r:i,"default"!==e.base.template&&""!==e.base.template&&(o+=" jqx-"+e.base.template),e.base.host.hasClass(t)&&t!=o&&e.base.host.removeClass(t),e.base.host.hasClass(i)&&i!=o&&e.base.host.removeClass(i),e.base.host.hasClass(s)&&s!=o&&e.base.host.removeClass(s),e.base.host.hasClass(r)&&r!=o&&e.base.host.removeClass(r),e.base.host.hasClass(a)&&a!=o&&e.base.host.removeClass(a),void(e.base.host.hasClass(o)||e.base.host.addClass(o)))}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxCalendar","",{}),e.extend(e.jqx._jqxCalendar.prototype,{defineInstance:function(){var t={disabled:!1,restrictedDates:new Array,multipleMonthRows:1,multipleMonthColumns:1,minDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),navigationDelay:400,stepMonths:1,width:null,height:null,value:e.jqx._jqxDateTimeInput.getDateTime(new Date),firstDayOfWeek:0,showWeekNumbers:!1,showDayNames:!0,enableWeekend:!1,enableOtherMonthDays:!0,showOtherMonthDays:!0,rowHeaderWidth:25,columnHeaderHeight:20,titleHeight:25,dayNameFormat:"firstTwoLetters",monthNameFormat:"default",titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],enableViews:!0,readOnly:!1,culture:"default",enableFastNavigation:!0,enableHover:!0,enableAutoNavigation:!0,enableTooltips:!1,backText:"Back",forwardText:"Forward",specialDates:new Array,keyboardNavigation:!0,selectionMode:"default",selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],todayString:"Today",clearString:"Clear",showFooter:!1,selection:{from:null,to:null},canRender:!0,_checkForHiddenParent:!0,height:null,rtl:!1,view:"month",views:["month","year","decade"],changing:null,change:null,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]};return e.extend(!0,this,t),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(0),this.minDate._setMinutes(0),this.minDate._setSeconds(0),this.minDate._setMilliseconds(0),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(0),this.maxDate._setMinutes(0),this.maxDate._setSeconds(0),this.maxDate._setMilliseconds(0),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),t},createInstance:function(t){this.setCalendarSize(),""===this.element.id&&(this.element.id=e.jqx.utilities.createId()),"date"==e.type(this.value)&&(this.value=e.jqx._jqxDateTimeInput.getDateTime(this.value)),this.element.innerHTML="",this.host.attr("data-role","calendar");var i=(this.element.id,this);if(this.propertyChangeMap.width=function(e,t,s,r){i.setCalendarSize()},this.propertyChangeMap.height=function(e,t,s,r){i.setCalendarSize()},e.global&&e.global.preferCulture(this.culture),"default"!=this.culture){if(e.global)e.global.preferCulture(this.culture),this.localization.calendar=e.global.culture.calendar;else if(Globalize){var s=Globalize.culture(this.culture);this.localization.calendar=s.calendar}this.firstDayOfWeek=this.localization.calendar.firstDay}"Back"!=this.localization.backString&&(this.backText=this.localization.backString),"Forward"!=this.localization.forwardString&&(this.forwardText=this.localization.forwardString),"Today"!=this.localization.todayString&&this.localization.todayString&&(this.todayString=this.localization.todayString),"Clear"!=this.localization.clearString&&this.localization.clearString&&(this.clearString=this.localization.clearString),this.localization.calendar&&void 0!=this.localization.calendar.firstDay&&"default"!=this.culture&&(this.firstDayOfWeek=this.localization.calendar.firstDay),this.setMaxDate(this.max,!1),this.setMinDate(this.min,!1),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.css("outline","none"),this.host.addClass(this.toThemeProperty("jqx-calendar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this._addInput(),-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&-1==this.views.indexOf("month")&&(this.view="decade"),this.addHandler(this.host,"keydown",function(e){var t=!0;return i.keyboardNavigation&&void 0!=i._handleKey&&(t=i._handleKey(e),t||(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault())),t});var r=!1,a=this,o=!1;null!=i.width&&-1!=i.width.toString().indexOf("%")&&(o=!0),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(o=!0),e.jqx.utilities.resize(this.host,function(){var e=a.host.find("#View"+i.element.id);r?a.refreshTitle(e):(r=!0,a.render()),o&&(i.refreshTimer&&clearTimeout(i.refreshTimer),i.refreshTimer=setTimeout(function(){i.refreshControl()},1))},!1,this._checkForHiddenParent);this.propertyChangeMap.disabled=function(e,t,s,r){r?e.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(i.toThemeProperty("jqx-fill-state-disabled")),i.refreshControl()}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.getDate().toString())},setCalendarSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.css({width:this.width}):void 0==this.width||isNaN(this.width)||this.host.css({width:this.width}),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.css({height:this.height}):void 0==this.height||isNaN(this.height)||this.host.css({height:this.height}),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.css("height",this.height)},_getYearAndMonthPart:function(e){if(!e)return new Date(1900,0,1);var t=new Date(e.getFullYear(),e.getMonth(),1);return t},_handleKey:function(t){if(this.readOnly)return!0;var i=t.keyCode,s=this._getSelectedDate();if(void 0==s){if("month"!=this.view||37!=i&&38!=i&&39!=i&&40!=i)return!0;this.selectedDate=new Date(this.value.year,this.value.month-1,1),this._selectDate(this.selectedDate,"key"),s=this.selectedDate}if(t.altKey)return!0;if(this._animating)return!1;if("month"!=this.view&&13==i){var r=this._getSelectedCell();this._setDateAndSwitchViews(r,t,"keyboard")}if("year"==this.view){var a=s.getMonth(),o=this._getYearAndMonthPart(this.getMinDate()),n=this._getYearAndMonthPart(this.getMaxDate());switch(i){case 37:if(0==a){var l=new Date(s.getFullYear()-1,11,1);l>=o?(this.selectedDate=l,this.navigateBackward()):this.selectedDate!=o&&(this.selectedDate=o,this.navigateBackward())}else{var l=new Date(s.getFullYear(),a-1,1);l>=o&&this._selectDate(l,"key")}return!1;case 38:var l=new Date(s.getFullYear(),a-4,1);return o>l&&(l=o),0>a-4?(this.selectedDate=l,this.navigateBackward()):this._selectDate(l,"key"),!1;case 40:var l=new Date(s.getFullYear(),a+4,1);return l>n&&(l=n),a+4>11?(this.selectedDate=l,this.navigateForward()):this._selectDate(l,"key"),!1;case 39:if(11==a){var l=new Date(s.getFullYear()+1,0,1);n>=l?(this.selectedDate=l,this.navigateForward()):this.selectedDate!=n&&(this.selectedDate=n,this.navigateForward())}else{var l=new Date(s.getFullYear(),a+1,1);n>=l&&this._selectDate(l,"key")}return!1}return!0}if("decade"==this.view){var h=this._renderStartDate.getFullYear(),d=this._renderEndDate.getFullYear(),c=s.getFullYear(),u=this.getMinDate().getFullYear(),p=this.getMaxDate().getFullYear();switch(i){case 37:return c-1>=u&&(h>=c?(this.selectedDate=new Date(c-1,s.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(c-1,s.getMonth(),1),"key")),!1;case 38:var m=c-4;return u>c-4&&(m=u),h>m?(this.selectedDate=new Date(m,s.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(m,s.getMonth(),1),"key"),!1;case 40:var m=c+4;return m>p&&(m=p),m>d?(this.selectedDate=new Date(m,s.getMonth(),1),this.navigateForward()):this._selectDate(new Date(m,s.getMonth(),1),"key"),!1;case 39:return p>=c+1&&(c==d?(this.selectedDate=new Date(c+1,s.getMonth(),1),this.navigateForward()):this._selectDate(new Date(c+1,s.getMonth(),1),"key")),!1}return!0}var f=new e.jqx._jqxDateTimeInput.getDateTime(s),v=this.getViewStart(),g=this.getViewEnd(),x=e.data(this.element,"View"+this.element.id);if(void 0==x||null==x)return!0;if(36==i)return f._setDay(1),this._isDisabled(f.dateTime)?!1:(this._selectDate(f.dateTime,"key"),!1);if(35==i){var b=this.value._daysInMonth(this.value.year,this.value.month);return f._setDay(b),this._isDisabled(f.dateTime)?!1:(this._selectDate(f.dateTime,"key"),!1)}var y=1;if(t.ctrlKey&&(y=12),34==i){var w=this.navigateForward(y);if(w){if(f._addMonths(y),this._isDisabled(f.dateTime))return!1;this._selectDate(f.dateTime,"key")}return!1}if(33==i){var w=this.navigateBackward(y);if(w){if(f._addMonths(-y),this._isDisabled(f.dateTime))return!1;this._selectDate(f.dateTime,"key")}return!1}if(38==i){if(f._addDays(-7),f.dateTime<this.getMinDate())return!1;if(f.dateTime<v){var w=this.navigateBackward();if(!w)return!1}if(this._isDisabled(f.dateTime))return!1;this._selectDate(f.dateTime,"key");for(var _=0;_<x.cells.length;_++){var r=x.cells[_],T=r.getDate();if(r.isOtherMonth&&r.isSelected&&T<=f.dateTime){this.value.day=T.getDate(),this.navigateBackward(),this._selectDate(f.dateTime,"key");break}}return!1}if(40==i){if(f._addDays(7),f.dateTime>this.getMaxDate())return!1;if(f.dateTime>g){var w=this.navigateForward();if(!w)return!1}if(this._isDisabled(f.dateTime))return!1;this._selectDate(f.dateTime,"key");for(var _=0;_<x.cells.length;_++){var r=x.cells[_],T=r.getDate();if(r.isOtherMonth&&r.isSelected&&T>=f.dateTime){this.value.day=T.getDate(),this.navigateForward(),this._selectDate(f.dateTime,"key");break}}return!1}if(37==i){if(f._addDays(-1),f.dateTime<this.getMinDate())return!1;if(f.dateTime<v){var w=this.navigateBackward();if(!w)return!1}if(this._isDisabled(f.dateTime))return!1;this._selectDate(f.dateTime,"key");for(var _=0;_<x.cells.length;_++){var r=x.cells[_],T=r.getDate();if(r.isOtherMonth&&r.isSelected&&T<=f.dateTime){if(f.dateTime<this.getMinDate()||f.dateTime>this.getMaxDate())return!1;if(this._isDisabled(f.dateTime))return!1;this.navigateBackward(),this._selectDate(f.dateTime,"key");break}}return!1}if(39==i){if(f._addDays(1),f.dateTime>this.getMaxDate())return!1;if(f.dateTime>g){var w=this.navigateForward();if(!w)return!1}if(this._isDisabled(f.dateTime))return!1;this._selectDate(f.dateTime,"key");for(var _=0;_<x.cells.length;_++){var r=x.cells[_],T=r.getDate();if(r.isOtherMonth&&r.isSelected&&T>=f.dateTime){if(f.dateTime<this.getMinDate()||f.dateTime>this.getMaxDate())return!1;this.navigateForward(),this._selectDate(f.dateTime,"key");break}}return!1}return!0},render:function(){if(this.canRender){this.host.children().remove();var e=this._renderSingleCalendar("View"+this.element.id);this.host.append(e)}},addSpecialDate:function(e,t,i){if(1==this.multipleMonthRows&&1==this.multipleMonthColumns){var s=this.specialDates.length;this.specialDates[s]={Date:e,Class:t,Tooltip:i},this.refreshControl()}},refresh:function(e){this.render()},invalidate:function(){this.refreshControl()},refreshControl:function(){1==this.multipleMonthRows&&1==this.multipleMonthColumns&&this.refreshSingleCalendar("View"+this.element.id,null)},getViewStart:function(){var e=this.getVisibleDate(),t=this.getFirstDayOfWeek(e);return t.dateTime},getViewEnd:function(){var t=this.getViewStart(),i=new e.jqx._jqxDateTimeInput.getDateTime(t);return i._addDays(41),i.dateTime},refreshSingleCalendar:function(e,t){if(this.canRender){var i=this.host.find("#"+e),s=this.getVisibleDate(),r=this.getFirstDayOfWeek(s);this.refreshCalendarCells(i,r,e),this.refreshTitle(i),this.refreshRowHeader(i,e),void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var a=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(a=this.host.height()-this.titleHeight),this.showFooter&&(a-=20);var o=i.find("#cellsTable"+e),n=i.find("#calendarRowHeader"+e);o.css({height:a}),n.css({height:a})}},refreshRowHeader:function(t,i){if(this.showWeekNumbers){var s=this.getVisibleDate(),r=this.getFirstDayOfWeek(s),a=(r.dayOfWeek,this.getWeekOfYear(r)),o=new e.jqx._jqxDateTimeInput.getDateTime(new Date(r.dateTime));o._addDays(5),o.dayOfWeek=o.dateTime.getDay();var n=(this.getWeekOfYear(o),this.rowHeader.find("table"));n.css({width:this.rowHeaderWidth});for(var l=r,h=new Array,d=0;6>d;d++){var c=(a.toString(),new e.jqx._jqxCalendar.cell(l.dateTime)),u=d+1+this.element.id,p=e(n[0].rows[d].cells[0]);c.element=p,c.row=d,c.column=0;var m=p.find("#headerCellContent"+u);m.addClass(this.toThemeProperty("jqx-calendar-row-cell")),m[0].innerHTML=a,h[d]=c,l=new e.jqx._jqxDateTimeInput.getDateTime(new Date(l._addWeeks(1))),a=this.getWeekOfYear(l)}var f=e.data(this.element,t[0].id);f.rowCells=h,this._refreshOtherMonthRows(f,i)}},_refreshOtherMonthRows:function(e,t){if(!this.showOtherMonthDays){this._displayLastRow(!0,t),this._displayFirstRow(!0,t);for(var i=!1,s=!1,r=0;r<e.cells.length;r++){var a=e.cells[r];a.isVisible&&7>r?i=!0:a.isVisible&&r>=e.cells.length-7&&(s=!0)}i||this._displayFirstRow(!1,t),s||this._displayLastRow(!1,t)}},_displayLastRow:function(t,i){var s=this.host.find("#"+i),r=s.find("#calendarRowHeader"+s[0].id).find("table"),a=null;if(this.showWeekNumbers&&r[0].cells)var a=e(r[0].rows[5]);var o=e(s.find("#cellTable"+s[0].id)[0].rows[5]);t?(this.showWeekNumbers&&a&&a.css("display","table-row"),o.css("display","table-row")):(this.showWeekNumbers&&a&&a.css("display","none"),o.css("display","none"))},_displayFirstRow:function(t,i){var s=this.host.find("#"+i),r=s.find("#calendarRowHeader"+s[0].id).find("table"),a=null;if(this.showWeekNumbers&&r[0].cells)var a=e(r[0].rows[0]);var o=e(s.find("#cellTable"+s[0].id)[0].rows[0]);t?(this.showWeekNumbers&&a&&a.css("display","table-row"),o.css("display","table-row")):(this.showWeekNumbers&&a&&a.css("display","none"),o.css("display","none"))},_renderSingleCalendar:function(t,i){if(this.canRender){var s=this.host.find("#"+t.toString());null!=s&&s.remove();var r=e("<div id='"+t.toString()+"'></div>"),a=this.getVisibleDate(),o=this.getFirstDayOfWeek(a),n=new e.jqx._jqxDateTimeInput.getDateTime(o.dateTime);n._addMonths(1);var l=e.jqx._jqxCalendar.monthView(o,n,null,null,null,r);void 0==i||null==i?(this.host.append(r),void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&r.css({height:this.height}):r.css({height:this.height}),void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&r.css({width:this.width}):r.css({width:this.width}),null!=this.width&&-1!=this.width.toString().indexOf("%")&&r.css({width:"100%"}),null!=this.height&&-1!=this.height.toString().indexOf("%")&&r.css({height:"100%"})):i.append(r),e.data(this.element,t,l);var h=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(h=this.host.height()-this.titleHeight),this.showFooter&&(h-=20),this.rowHeaderWidth<0&&(this.rowHeaderWidth=0),this.columnHeaderHeight<0&&(this.columnHeaderHeight=0),this.titleHeight<0&&(this.titleHeight=0);var d=this.rowHeaderWidth,c=this.columnHeaderHeight;this.showWeekNumbers||(d=0),this.showDayNames||(c=0);var u="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>",p="<table role='grid' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+c+"'><td role='gridcell' id='selectCell' width='"+d+"'></td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+h+"' width='"+d+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+h+"'></td></tr></table>",m="<div id='footer' style='margin: 0px; display: none; height:"+f+"px;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>";
r[0].innerHTML=u+p+m,this.header=r.find("#calendarHeader"),this.header[0].id="calendarHeader"+t,this.header.addClass(this.toThemeProperty("calendar-header")),this.columnHeader=r.find("#calendarColumnHeader"),this.columnHeader[0].id="calendarColumnHeader"+t,this.table=r.find("#cellsTable"),this.table[0].id="cellsTable"+t,this.rowHeader=r.find("#calendarRowHeader"),this.rowHeader[0].id="calendarRowHeader"+t,this.selectCell=r.find("#selectCell"),this.selectCell[0].id="selectCell"+t,this.title=r.find("#calendarTitle"),this.title[0].id="calendarTitle"+t,this.leftButton=r.find("#leftNavigationArrow"),this.leftButton[0].id="leftNavigationArrow"+t,this.titleHeader=r.find("#calendarTitleHeader"),this.titleHeader[0].id="calendarTitleHeader"+t,this.rightButton=r.find("#rightNavigationArrow"),this.rightButton[0].id="rightNavigationArrow"+t,this.footer=r.find("#calendarFooter"),this._footer=r.find("#footer"),this._footer[0].id="footer"+t,this.footer[0].id="calendarFooter"+t,this.todayButton=r.find("#todayButton"),this.todayButton[0].id="todayButton"+t,this.doneButton=r.find("#doneButton"),this.doneButton[0].id="doneButton"+t,this.title.addClass(this.toThemeProperty("jqx-calendar-title-container"));var f=20;if(this.showFooter&&this._footer.css("display","block"),r.find("tr").addClass(this.toThemeProperty("jqx-reset")),r.addClass(this.toThemeProperty("jqx-widget-content")),r.addClass(this.toThemeProperty("jqx-calendar-month-container")),this.month=r,this.selectCell.addClass(this.toThemeProperty("jqx-reset")),this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header")),this.showWeekNumbers?this._renderRowHeader(r):(this.table[0].colSpan=3,this.columnHeader[0].colSpan=3,this.rowHeader.css("display","none"),this.selectCell.css("display","none")),this.showFooter){this.footer.css({height:20});var v=e("<a href='javascript:;'>"+this.todayString+"</a>");v.appendTo(this.todayButton);var g=e("<a href='javascript:;'>"+this.clearString+"</a>");g.appendTo(this.doneButton),g.addClass(this.toThemeProperty("jqx-calendar-footer")),v.addClass(this.toThemeProperty("jqx-calendar-footer"));var x=this,b="mousedown";e.jqx.mobile.isTouchDevice()&&(b=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(v,b,function(){return x.today?x.today():x.setDate(new Date,"mouse"),!1}),this.addHandler(g,b,function(){return x.clear?x.clear():x.setDate(null,"mouse"),!1})}"month"!=this.view&&this.header.hide(),this.showDayNames&&"month"==this.view&&this.renderColumnHeader(r),this.oldView=this.view,this.renderCalendarCells(r,o,t),(void 0==i||null==i)&&this.renderTitle(r),this._refreshOtherMonthRows(l,t),r.find("tbody").css({border:"none",background:"transparent"}),void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var y=this;return this.addHandler(this.host,"focus",function(){y.focus()}),r}},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(t){var i=e("<div role='button' style='float: left;'></div>"),s=e("<div role='button' style='float: right;'></div>"),r=this.title;r.addClass(this.toThemeProperty("jqx-reset")),r.addClass(this.toThemeProperty("jqx-widget-header")),r.addClass(this.toThemeProperty("jqx-calendar-title-header"));var a=r.find("td");if(e.jqx.browser.msie&&e.jqx.browser.version<8){if("transparent"!=a.css("background-color")){var o=r.css("background-color");a.css("background-color",o)}if("transparent"!=a.css("background-image")){var n=r.css("background-image"),l=r.css("background-repeat");r.css("background-position");a.css("background-image",n),a.css("background-repeat",l),a.css("background-position","left center scroll")}}else a.css("background-color","transparent");this.disabled&&r.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled")),i.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),i.appendTo(this.leftButton);var h=this.leftButton;s.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),s.addClass(this.toThemeProperty("jqx-icon-arrow-right")),s.appendTo(this.rightButton);var d=this.rightButton;this.enableTooltips&&e(h).jqxTooltip&&(e(h).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText}),e(d).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText}));var c=this.titleHeader,u=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view){var p=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),m=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);u=p+" - "+m}else if("centuries"==this.view){var p=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),m=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);u=p+" - "+m}var f=e("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+u+"</div>");c.append(f),f.addClass(this.toThemeProperty("jqx-calendar-title-content"));var v=parseInt(i.width()),g=t.width()-2*v;c.find(".jqx-calendar-title-content").css({width:g});e.data(i,"navigateLeft",this),e.data(s,"navigateRight",this);var x=e.jqx.mobile.isTouchDevice();if(!this.disabled){var b=this;this.addHandler(c,"mousedown",function(e){if(b.enableViews){if(!b._viewAnimating&&!b._animating){var t=b.view;switch(b.oldView=t,b.view){case"month":b.view="year";break;case"year":b.view="decade"}if(-1==b.views.indexOf("year")&&"year"==b.view&&(b.view="decade"),-1==b.views.indexOf("decade")&&"decade"==b.view&&(b.view=t),t!=b.view){var i="View"+b.element.id,s=b.host.find("#"+i),r=b.getVisibleDate(),a=b.getFirstDayOfWeek(r);b.renderCalendarCells(s,a,i,!0),b.refreshTitle(s),b._raiseEvent("8")}}return!1}}),this.addHandler(i,"mousedown",function(t){if(b._animating)return!1;e.data(i,"navigateLeftRepeat",!0);var s=e.data(i,"navigateLeft");return s.enableFastNavigation&&!x&&s.startRepeat(s,i,!0,b.navigationDelay+200),s.navigateBackward(1,"arrow"),t.stopPropagation(),t.preventDefault(),s._raiseEvent(0,t)}),this.addHandler(i,"mouseup",function(t){e.data(i,"navigateLeftRepeat",!1)}),this.addHandler(i,"mouseleave",function(t){e.data(i,"navigateLeftRepeat",!1)}),this.addHandler(s,"mousedown",function(t){if(b._animating)return!1;e.data(s,"navigateRightRepeat",!0);var i=e.data(s,"navigateRight");return i.enableFastNavigation&&!x&&i.startRepeat(i,s,!1,b.navigationDelay+200),i.navigateForward(1,"arrow"),t.stopPropagation(),t.preventDefault(),i._raiseEvent(1,t)}),this.addHandler(s,"mouseup",function(t){e.data(s,"navigateRightRepeat",!1)}),this.addHandler(s,"mouseleave",function(t){e.data(s,"navigateRightRepeat",!1)})}},refreshTitle:function(t){var i=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view){var s=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),r=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);i=s+" - "+r}else if("centuries"==this.view){var s=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),r=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);i=s+" - "+r}var a=this.titleHeader;if(this.titleHeader){var o=a.find(".jqx-calendar-title-content"),n=e("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+i+"</div>");a.append(n),n.addClass(this.toThemeProperty("jqx-calendar-title-content")),null!=o&&o.remove()}},startRepeat:function(t,i,s,r){var a=window.setTimeout(function(){var o=e.data(i,"navigateLeftRepeat");return s||(o=e.data(i,"navigateRightRepeat")),o?(25>r&&(r=25),void(s?(t.navigateBackward(1,"arrow"),t.startRepeat(t,i,!0,r)):(t.navigateForward(1,"arrow"),a=t.startRepeat(t,i,!1,r)))):void window.clearTimeout(a)},r)},navigateForward:function(e,t){(void 0==e||null==e)&&(e=this.stepMonths);var i=this.value.year;if("decade"==this.view){if(i=this._renderStartDate.getFullYear()+12,this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear())return}else"year"==this.view?i=this.value.year+1:"centuries"==this.view&&(i=this.value.year+100);if("month"!=this.view){var s=this.getMaxDate().getFullYear();if((i>s||i>s)&&(i=s),this.value.year==i){if("decade"!==this.view)return;if(!(this.value.year>this._renderEndDate.getFullYear()))return;this.value.year=i,this.value.month=1,this.value.day=1}this.value.year=i,this.value.month=1,this.value.day=1}var r=this.value.day,a=this.value.month;if(12>=a+e){var o=this.value._daysInMonth(this.value.year,this.value.month+e);r>o&&(r=o)}if("month"==this.view){var n=new Date(this.value.year,this.value.month-1+e,r);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1+e,1))}else var n=new Date(this.value.year,this.value.month-1,r);return this.navigateTo(n)},navigateBackward:function(e,t){(void 0==e||null==e)&&(e=this.stepMonths);var i=this.value.year;if("decade"==this.view?i=this._renderStartDate.getFullYear()-12:"year"==this.view?i=this.value.year-1:"centuries"==this.view&&(i=this.value.year-100),"month"!=this.view){var s=this.getMinDate().getFullYear();if(s>i&&(i=s),"decade"==this.view&&this._renderStartDate&&this._renderStartDate.getFullYear()==i)return;this.value.year=i,this.value.month=1,this.value.day=1}var r=this.value.day,a=this.value.month;if(a-e>=1){var o=this.value._daysInMonth(this.value.year,this.value.month-e);r>o&&(r=o)}if("month"==this.view){var n=new Date(this.value.year,this.value.month-1-e,r);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1-e,1))}else var n=new Date(this.value.year,this.value.month-1,r);return this.navigateTo(n)},_isRestrictedRange:function(e,t){if(e>t)return!0;for(var i=e;i.valueOf()<=t.valueOf();){if(this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_hasUnrestrictedRanges:function(e,t){if(e>t)return!1;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_getNextUnrestrictedDay:function(e,t){if(e>t)return null;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return i;i.setDate(i.getDate()+1)}return null},_isRestrictedDate:function(t){var i=this;if(!e.isArray(i.restrictedDates))return!1;for(var s=0;s<i.restrictedDates.length;s++){var r=i.restrictedDates[s];if("object"==typeof r&&void 0!=r.from&&void 0!=r.to){var a=r.from,o=r.to;if(t.valueOf()>=a.valueOf()&&t.valueOf()<=o.valueOf())return!0}else if(r.getMonth()==t.getMonth()&&r.getDate()==t.getDate()&&r.getFullYear()==t.getFullYear())return!0}return!1},_isDisabled:function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=e.getDay(),s=t[i];return-1==this.selectableDays.indexOf(s)?!0:this._isRestrictedDate(e)?!0:!1},refreshCalendarCells:function(t,i,s){if("year"==this.view||"decade"==this.view||"centuries"==this.view)return void this.refreshViews(t,i,s);for(var r=this.table,a=r.find("#cellTable"+s.toString()),o=i,n=new Array,l=0,h=new e.jqx._jqxDateTimeInput.getDateTime(new Date),d=0;6>d;d++)for(var c=0;7>c;c++){var u=d+1,p=c;this.rtl&&(p=6-p);var m=p+1,f="#cell"+u+m+this.element.id,v=new Date(o.dateTime.getFullYear(),o.dateTime.getMonth(),o.dateTime.getDate()),g=new e.jqx._jqxCalendar.cell(v),x=e(a[0].rows[d].cells[m-1]);x[0].id=f.substring(1),g.element=x,g.row=d,g.column=c,g.isVisible=!0,g.isOtherMonth=!1,g.isToday=!1,g.isWeekend=!1,g.isHighlighted=!1,g.isSelected=!1,o.month!=this.value.month&&(g.isOtherMonth=!0,g.isVisible=this.showOtherMonthDays),this._isRestrictedDate(v)&&(g.isRestricted=!0,g.isDisabled=!0),g.isDisabled||(v<this.getMinDate()||v>this.getMaxDate()||this._isDisabled(v))&&(g.isDisabled=!0),o.month==h.month&&o.day==h.day&&o.year==h.year&&(g.isToday=!0),o.isWeekend()&&(g.isWeekend=!0),e.data(this.element,"cellContent"+f.substring(1),g),e.data(this.element,f.substring(1),g),n[l]=g,l++,e.jqx.utilities.html(x,o.day),this._applyCellStyle(g,x,x),o=new e.jqx._jqxDateTimeInput.getDateTime(new Date(o._addDays(1)))}var b=e.data(this.element,t[0].id);void 0!=b&&null!=b&&(b.cells=n),this.renderedCells=n,this._refreshOtherMonthRows(b,s)},_getDecadeAndCenturiesData:function(){var e=new Array,t=new Array,i=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear();12>i&&(i=12);var s=this.getMinDate(),r=this.getMaxDate(),a=this.value.dateTime.getFullYear();if("decade"==this.view){a+12>r.getFullYear()&&(a=r.getFullYear()-11),a<s.getFullYear()&&(a=s.getFullYear());for(var o=0;i>o;o++){var n=new Date(s.getFullYear()+o,0,1);if(s.getFullYear()<=a&&a<=n.getFullYear()){for(var l=new Date(n.getFullYear(),n.getMonth(),1),h=0;12>h;h++){var d=new Date(l.getFullYear()+h,this.value.dateTime.getMonth(),this.value.dateTime.getDate()),c=d.getFullYear();s.getFullYear()<=c&&c<=r.getFullYear()?(e.push(c),t.push(d),0==h&&(this._renderStartDate=d),this._renderEndDate=d):(e.push(c),t.push(d))}break}}}else if("centuries"==this.view)for(var o=0;i>o;o+=120){var n=new Date(s.getFullYear()+o+120,0,1);if(s.getFullYear()<=a&&a<=n.getFullYear()){var l=new Date(n.getFullYear()-130,n.getMonth(),1);s>l&&(l=s);for(var h=0;12>h;h++){var u=new Date(l.getFullYear()+10*h,l.getMonth(),1);l.getFullYear()>=s.getFullYear()&&u.getFullYear()<=r.getFullYear()&&(e.push("<span style='visibility: hidden;'>-</span>"+u.getFullYear()+"-"+(u.getFullYear()+9)),t.push(u),0==h&&(this._renderCenturyStartDate=u),this._renderCenturyEndDate=new Date(u.getFullYear()+9,0,1))}break}}return{years:e,dates:t}},refreshViews:function(t,i,s){for(var r=new Array,a=t.find("#cellTable"+s.toString()),o=this._getDecadeAndCenturiesData(),n=o.years,l=o.dates,h=0,d=this.getMinDate(),c=this.getMaxDate(),u=0;3>u;u++)for(var p=0;4>p;p++){var m=p;this.rtl&&(m=3-m);var f=new Date(this.value.dateTime);f.setDate(1),f.setMonth(4*u+m);var v=new e.jqx._jqxCalendar.cell(f),g=a[0].rows["row"+(1+u)+this.element.id],x=e(g.cells[p]);v.isSelected=!1,v.isVisible=!0,v.element=x,v.row=u,v.column=p,v.index=r.length;var b="";if("year"==this.view){var y=this.localization.calendar.months.names,w=y[4*u+m];switch(this.monthNameFormat){case"default":w=this.localization.calendar.months.namesAbbr[4*u+m];break;case"shortest":w=this.localization.calendar.months.namesShort[4*u+m];break;case"firstTwoLetters":w=w.substring(0,2);break;case"firstLetter":w=w.substring(0,1)}b=w}else("decade"==this.view||"centuries"==this.view)&&(b=n[4*u+m],void 0==b&&(b="<span style='cursor: default; visibility: hidden;'>2013</span>"),v.setDate(l[4*u+m]));var f=v.getDate();"year"==this.view?f.getMonth()==this.getDate().getMonth()&&f.getFullYear()==this.getDate().getFullYear()&&(v.isSelected=!0):f.getFullYear()==this.getDate().getFullYear()&&(v.isSelected=!0),"year"==this.view?(this._getYearAndMonthPart(f)<this._getYearAndMonthPart(d)&&(v.isDisabled=!0),this._getYearAndMonthPart(f)>this._getYearAndMonthPart(c)&&(v.isDisabled=!0)):(f.getFullYear()<d.getFullYear()&&(v.isDisabled=!0),f.getFullYear()>c.getFullYear()&&(v.isDisabled=!0)),e.jqx.utilities.html(x,b),r[h]=v,h++}var _=e.data(this.element,t[0].id);void 0!=_&&null!=_&&(_.cells=r),this.renderedCells=r,this._applyCellStyles()},_createViewClone:function(){var e=this.host.find(".jqx-calendar-month"),t=e.clone();return t.css("position","absolute"),t.css("top",e.position().top),t},_addCellsTable:function(e,t){var i=this,s=this.showFooter?20:0;"month"!=this.view?t.css({height:this.host.height()-this.titleHeight}):t.css({height:this.host.height()-this.titleHeight-this.columnHeaderHeight-s}),this._viewAnimating=!0;var r=this.host.find(".jqx-calendar-month-container");r.css("position","relative");var a=(this.host.find(".jqx-calendar-month"),this._createViewClone());r.append(a),"month"!=this.view?(this.header.fadeOut(0),this.showWeekNumbers&&this.rowHeader.fadeOut(0),this.showFooter&&this._footer.fadeOut(0)):(this.header.fadeIn(this.navigationDelay+200),this.showWeekNumbers&&this.rowHeader.fadeIn(this.navigationDelay+200),this.showFooter&&this._footer.fadeIn(this.navigationDelay+200)),e.children().remove(),e.append(t),this._animateViews(a,t,function(){i.selectedDate||"range"==i.selectionMode||(i.selectedDate=i.renderedCells[0].getDate());try{i.renderedCells[0].element.focus(),setTimeout(function(){i.renderedCells[0].element.focus()},10)}catch(e){}i._viewAnimating=!1}),t.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(e,t,i){var s=this;return s._viewAnimating=!0,s.oldView==s.view?(e.remove(),t.fadeOut(0),t.fadeIn(0),void i()):(e.fadeOut(this.navigationDelay+100,function(){e.remove()}),t.fadeOut(0),void t.fadeIn(this.navigationDelay+200,function(){i()}))},focus:function(){try{if(this.renderedCells&&this.renderedCells.length>0){var e=this;e.selectedDate||"range"==e.selectionMode||this.setDate(new Date,"mouse"),this.element.focus()}}catch(t){}},renderViews:function(t,i,s){var r=this,a=new Array,o=e("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+s.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),n=this.host.find(".jqx-calendar-month-container");n.css("position","relative");var l=t.find("#cellsTable"+t[0].id);l[0].style.borderColor="transparent";var h=this._getDecadeAndCenturiesData(),d=h.years,c=h.dates,u=0,p=this.getMinDate(),m=this.getMaxDate(),f=new Date(this.value.dateTime);f.setDate(1);for(var v=0;3>v;v++)for(var g=0;4>g;g++){var x=g;this.rtl&&(x=3-x);var b=o[0].rows["row"+(1+v)+this.element.id],y=new Date(f);y.setMonth(4*v+x);var w=new e.jqx._jqxCalendar.cell(y),_=e(b.cells[g]);w.isVisible=!0,w.element=_,w.row=v,w.column=g,w.index=a.length,w.isSelected=!1;var T="";if("year"==this.view){y.getMonth()==this.getDate().getMonth()&&y.getFullYear()==this.getDate().getFullYear()&&(w.isSelected=!0);var j=this.localization.calendar.months.names,q=j[4*v+x];switch(this.monthNameFormat){case"default":q=this.localization.calendar.months.namesAbbr[4*v+x];break;case"shortest":q=this.localization.calendar.months.namesShort[4*v+x];break;case"firstTwoLetters":q=q.substring(0,2);break;case"firstLetter":q=q.substring(0,1)}T=q}else("decade"==this.view||"centuries"==this.view)&&(T=d[4*v+x],w.setDate(c[4*v+x]),w.getDate().getFullYear()==this.getDate().getFullYear()&&(w.isSelected=!0),void 0==T&&(T="<span style='cursor: default; visibility: hidden;'>2013</span>"));var y=w.getDate();if("year"==this.view){var I=new Date(y);I.setDate(1),I.setHours(0,0,0,0),I.setMonth(y.getMonth()+1),I=new Date(I.valueOf()-1),(this._getYearAndMonthPart(y)<this._getYearAndMonthPart(p)||this._getYearAndMonthPart(y)>this._getYearAndMonthPart(m)||!this._hasUnrestrictedRanges(y,I))&&(w.isDisabled=!0)}else{var C=new Date(y);C.setMonth(0),C.setDate(1),C.setHours(0,0,0,0),C.setFullYear(y.getFullYear()+1),C=new Date(C.valueOf()-1),(y.getFullYear()<p.getFullYear()||y.getFullYear()>m.getFullYear()||!this._hasUnrestrictedRanges(y,C))&&(w.isDisabled=!0)}e.jqx.utilities.html(_,T),a[u]=w,u++}e.each(a,function(){var e=this.element,t=this;r.disabled||(r.addHandler(e,"mousedown",function(e){r._setDateAndSwitchViews(t,e,"mouse")}),r.addHandler(e,"mouseover",function(e){var i=r.renderedCells[t.index];("centuries"==r.view||-1==i.element.html().toLowerCase().indexOf("span"))&&(i.isHighlighted=!0,r._applyCellStyle(i,i.element,i.element))}),r.addHandler(e,"mouseout",function(e){var i=r.renderedCells[t.index];("centuries"==r.view||-1==i.element.html().toLowerCase().indexOf("span"))&&(i.isHighlighted=!1,r._applyCellStyle(i,i.element,i.element))}))});var S=e.data(this.element,t[0].id);void 0!=S&&null!=S&&(S.cells=a),this.renderedCells=a,this._addCellsTable(l,o),this._applyCellStyles()},_setDateAndSwitchViews:function(t,i,s){if(!this._viewAnimating&&!this._animating){var r=(this.getDate(),this.renderedCells[t.index].getDate()),a=this.value.dateTime.getDate(),o=new Date(r);-1!=this.views.indexOf("month")?o.setDate(a):(o.setDate(1),r.setDate(1)),o.getMonth()==r.getMonth()&&(r=o);var n=this.getMinDate(),l=this.getMaxDate();if("year"==this.view){if(this._getYearAndMonthPart(r)<this._getYearAndMonthPart(n))return;if(this._getYearAndMonthPart(r)>this._getYearAndMonthPart(l))return}else{if(r.getFullYear()<n.getFullYear())return;if(r.getFullYear()>l.getFullYear())return}switch("range"!=this.selectionMode&&this._selectDate(r),this.oldView=this.view,this.view){case"year":this.view="month";break;case"decade":this.view="year"}-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&(this.view="decade"),"year"==this.view?(this._getYearAndMonthPart(r)<this._getYearAndMonthPart(n)&&(r=n),this._getYearAndMonthPart(r)>this._getYearAndMonthPart(l)&&(r=l)):(r.getFullYear()<n.getFullYear()&&(r=n),r.getFullYear()>l.getFullYear()&&(r=l)),this.changing&&this.selectedDate&&(this.selectedDate.getFullYear()!=r.getFullYear()||this.selectedDate.getMonth()!=r.getMonth()||this.selectedDate.getDate()!=r.getDate())&&(r=this.selectedDate),this.value._setYear(r.getFullYear()),this.value._setDay(r.getDate()),this.value._setMonth(r.getMonth()+1),this.value._setDay(r.getDate());var h=this.getVisibleDate(),d=this.getFirstDayOfWeek(h),c="View"+this.element.id;if(this.renderCalendarCells(this.month,d,c,!0),this.refreshTitle(this.month),this.showWeekNumbers&&this.refreshRowHeader(this.month,c),3==this.views.length&&"month"==this.view)if("range"!=this.selectionMode)this._selectDate(this.selectedDate,"view");else{var u=this;e.each(this.renderedCells,function(t){var i=this,s=i.getDate(),a=e(i.element);if(0==a.length)return!1;var o=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};i.isOtherMonth||o(s).toString()!=o(r).toString()||(u.value._setMonth(r.getMonth()+1),u.value._setDay(r.getDate()),u.value._setYear(r.getFullYear())),i.isSelected=!1,i.isDisabled=!1,o(s)<o(u.selection.from)&&1==u._clicks&&(i.isDisabled=!0),u.getMaxDate()<s&&(i.isDisabled=!0),u.getMinDate()>s&&(i.isDisabled=!0),u._isDisabled(s)&&(i.isDisabled=!0),i.isDisabled||o(s)>=o(u.selection.from)&&o(s)<=o(u.selection.to)&&(i.isSelected=!0)}),this._applyCellStyles()}"month"!=this.view&&("year"==this.oldView||-1==this.views.indexOf("year")&&"decade"==this.view)&&("keyboard"!=s&&this._raiseEvent("3"),this._raiseEvent("5",{selectionType:"mouse"})),this._raiseEvent("8")}},renderCalendarCells:function(t,i,s,r){if("year"==this.view||"decade"==this.view||"centuries"==this.view)return void this.renderViews(t,i,s);var a=e("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='2' cellpadding='1' id=cellTable"+s.toString()+"><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),o=this.table;if(o[0].style.borderColor="transparent",void 0==r){var n=o.find("#cellTable"+s.toString());null!=n&&n.remove(),o.append(a)}var l=i,h=this.showDayNames?1:0,d=this.showWeekNumbers?1:0,c=new Array,u=0,p=(t.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(p=(t.width()-2)/7),p=parseInt(p);for(var m=new e.jqx._jqxDateTimeInput.getDateTime(new Date),f=0;6>f;f++){for(var v=0;7>v;v++){var g=f+1,x=v;this.rtl&&(x=6-x);var b=x+1,y="#cell"+g+b+this.element.id,w=new Date(l.dateTime.getFullYear(),l.dateTime.getMonth(),l.dateTime.getDate()),_=new e.jqx._jqxCalendar.cell(w),T=e(a[0].rows[f].cells[b-1]);T[0].id=y.substring(1),_.isVisible=!0,_.isDisabled=!1,l.month!=this.value.month&&(_.isOtherMonth=!0,_.isVisible=this.showOtherMonthDays),this._isRestrictedDate(w)&&(_.isRestricted=!0,_.isDisabled=!0),_.isDisabled||(w<this.getMinDate()||w>this.getMaxDate()||this._isDisabled(w))&&(_.isDisabled=!0),l.month==m.month&&l.day==m.day&&l.year==m.year&&(_.isToday=!0),l.isWeekend()&&(_.isWeekend=!0),_.element=T,_.row=h,_.column=d,e.jqx.utilities.html(T,l.day),l=new e.jqx._jqxDateTimeInput.getDateTime(new Date(l._addDays(1))),e.data(this.element,"cellContent"+y.substring(1),_),e.data(this.element,""+y.substring(1),_);var j=this;if(this.addHandler(T,"mousedown",function(t){if(!j.readOnly&&!j.disabled){var i=e(t.target),s=e.data(j.element,i[0].id);j._raiseEvent(3,t);if(null!=s&&void 0!=s){var r=s.getDate();if(j.getMinDate()<=r&&r<=j.getMaxDate()&&!s.isDisabled)if(s.isOtherMonth&&j.enableAutoNavigation)s.row<2?j.navigateBackward():j.navigateForward(),j._selectDate(s.getDate(),"mouse",t.shiftKey);else{new Date(j.getDate());j._selectDate(s.getDate(),"mouse",t.shiftKey),j.value._setYear(r.getFullYear()),j.value._setDay(1),j.value._setMonth(r.getMonth()+1),j.value._setDay(r.getDate());var a=j.host.find(".jqx-calendar-month");a.stop(),a.css("margin-left","0px");j.getDate();j._raiseEvent("2"),s.isOtherMonth&&j._raiseEvent("5",{selectionType:"mouse"})}}return!1}}),!j.disabled){var q=function(t,i){if(!j.readOnly){var s=e(t.target),r=e.data(j.element,s[0].id);if(null!=r&&void 0!=r){var a=r.getDate();j.getMinDate()<=a&&a<=j.getMaxDate()&&(r.isHighlighted=i,j._applyCellStyle(r,r.element,s))}}};this.addHandler(T,"mouseenter",function(e){return q(e,!0),!1}),this.addHandler(T,"mouseleave",function(e){return q(e,!1),!1})}d++,c[u]=_,u++}d=0,h++}var I=e.data(this.element,t[0].id);void 0!=I&&null!=I&&(I.cells=c),this.renderedCells=c,void 0!=r&&this._addCellsTable(o,a),this._applyCellStyles(),this._refreshOtherMonthRows(I,s)},setMaxDate:function(t,i){(null==t||"string"!=typeof t||(t=new Date(t),"Invalid Date"!=t))&&(this.maxDate=e.jqx._jqxDateTimeInput.getDateTime(t),i!==!1&&this.render())},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(t,i){(null==t||"string"!=typeof t||(t=new Date(t),"Invalid Date"!=t))&&(this.minDate=e.jqx._jqxDateTimeInput.getDateTime(t),i!==!1&&this.render())},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},navigateTo:function(t,i){if("month"==this.view){var s=this.getMinDate(),r=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if(t<this._getYearAndMonthPart(s)||t>this._getYearAndMonthPart(r))return!1}else if(t&&(t.getFullYear()<this.getMinDate().getFullYear()||t.getFullYear()>this.getMaxDate().getFullYear()))return!1;if(null==t)return!1;if(void 0==i){var a=this;if(this._animating)return;this._animating=!0;var o=this.host.find(".jqx-calendar-month-container");this._viewClone&&(this._viewClone.stop(),this._viewClone.remove()),this._newViewClone&&(this._newViewClone.stop(),this._newViewClone.remove());var n=this.host.find(".jqx-calendar-month");n.stop(),n.css("margin-left","0px");var l=n.clone();this._viewClone=l;var h=new Date(this.value.dateTime);this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1),a.refreshControl(),o.css("position","relative"),l.css("position","absolute"),l.css("top",n.position().top),o.append(l),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.month.css("position","relative"),this.month.css("overflow","hidden"),this.table.css("position","relative"),this.table.css("overflow","hidden"));var d=-this.host.width();h>t&&("month"==this.view&&t.getMonth()!=h.getMonth()?d=this.host.width():t.getFullYear()!=h.getFullYear()&&(d=this.host.width())),l.animate({marginLeft:parseInt(d)+"px"},this.navigationDelay,function(){l.remove()});var c=n.clone();this._newViewClone=c,c.css("position","absolute"),c.css("top",n.position().top),o.append(c),c.css("margin-left",-d),n.css("visibility","hidden"),c.animate({marginLeft:"0px"},this.navigationDelay,function(){c.remove(),n.css("visibility","inherit"),a._animating=!1})}else{this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1);var n=this.host.find(".jqx-calendar-month");n.stop(),n.css("margin-left","0px"),this.refreshControl()}return this._raiseEvent("2"),this._raiseEvent("8"),!0},setDate:function(e){return null!=e&&"string"==typeof e&&(e=new Date(e)),0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e),"range"==this.selectionMode&&this._selectDate(e,"mouse"),!0},val:function(e){return 0!=arguments.length&&(null==e&&this.setDate(null),e instanceof Date&&this.setDate(e),"string"==typeof e&&this.setDate(e)),this.getDate()},getDate:function(){return void 0==this.selectedDate?new Date:this.selectedDate},getValue:function(){return void 0==this.value?new Date:this.value.dateTime},setRange:function(e,t){0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e,"mouse"),this._selectDate(t,"mouse")},getRange:function(){return this.selection},_selectDate:function(t,i,s){if("none"!=this.selectionMode){(null==i||void 0==i)&&(i="none"),(null==s||void 0==s)&&(s=!1);var r=e.data(this.element,"View"+this.element.id);if(void 0!=r&&null!=r){if(this.changing&&t&&this.selectedDate){if(this.selectedDate.getFullYear()!=t.getFullYear()||this.selectedDate.getDate()!=t.getDate()||this.selectedDate.getMonth()!=t.getMonth())var a=this.changing(this.selectedDate,t);a&&(t=a)}var o=this;this.input&&(null!=t?this.input.val(t.toString()):this.input.val(""));var n=this.selectedDate;if(this.selectedDate=t,"month"!=this.view)return n!=t&&this._raiseEvent(7),e.each(this.renderedCells,function(s){var r=this,a=r.getDate(),n=e(r.element);n.find("#cellContent"+n[0].id);if(null==t)r.isSelected=!1,r.isDisabled=!1;else if(r.isSelected=!1,a&&(a.getMonth()==t.getMonth()&&"year"==o.view&&a.getFullYear()==t.getFullYear()||"decade"==o.view&&a.getFullYear()==t.getFullYear())){r.isSelected=!0;try{"none"!=i&&r.element.focus()}catch(l){}}o._applyCellStyle(r,n,n)}),void(this.change&&this.change(t));if("month"==this.view&&"range"==this.selectionMode&&"key"==i){var l=this.getVisibleDate(),h=this.getFirstDayOfWeek(l);this.refreshCalendarCells(this.month,h,"View"+this.element.id)}var d=!1;return e.each(this.renderedCells,function(r){var a=this,n=a.getDate(),l=e(a.element),h=l;if(0==l.length)return!1;if(null==t)a.isSelected=!1,a.isDisabled=!1,0==r&&(o.selection={from:null,to:null},o._raiseEvent("2"),o._raiseEvent("5",{selectionType:i}));else if("range"!=o.selectionMode||"key"==i){if(n.getDate()==t.getDate()&&n.getMonth()==t.getMonth()&&n.getFullYear()==t.getFullYear()&&a.isSelected)return o._applyCellStyle(a,l,h),void o._raiseEvent("5",{selectionType:i});if(a.isSelected&&o._raiseEvent("6",{selectionType:i}),a.isSelected=!1,n.getDate()==t.getDate()&&n.getMonth()==t.getMonth()&&n.getFullYear()==t.getFullYear()){a.isSelected=!0,
0==r&&(o.selection={date:t});try{"none"!=i&&(a.element.focus(),o.host.focus())}catch(c){}a.isOtherMonth||(o.value._setMonth(t.getMonth()+1),o.value._setDay(t.getDate()),o.value._setYear(t.getFullYear()),o._raiseEvent("2"),o._raiseEvent("5",{selectionType:i}))}"range"==o.selectionMode&&(o._clicks=0,o.selection={from:t,to:t})}else if("range"==o.selectionMode){if("view"==i)return a.isSelected=!1,a.isDisabled=!1,o.getMaxDate()<n&&(a.isDisabled=!0),o.getMinDate()>n&&(a.isDisabled=!0),o._isRestrictedDate(n)&&(a.isDisabled=!0,a.isRestricted=!0),!a.isDisabled&&o._isDisabled(n)&&(a.isDisabled=!0),o._applyCellStyle(a,l,h),!0;if(0==r)if("none"!=i)if(void 0==o._clicks&&(o._clicks=0),o._clicks++,s&&o._clicks++,1==o._clicks)o.selection={from:t,to:t};else{var u=o.selection.from,p=t>=u?u:t,m=t>=u?t:u;if(p)var f=new Date(p.getFullYear(),p.getMonth(),p.getDate());if(m)var v=new Date(m.getFullYear(),m.getMonth(),m.getDate(),23,59,59);o.selection={from:f,to:v},o._clicks=0}else(null==o.selection||null==o.selection.from)&&(o.selection={from:t,to:t},void 0==o._clicks&&(o._clicks=0),o._clicks++,2==o._clicks&&(o._clicks=0));var g=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};a.isOtherMonth||g(n).toString()!=g(t).toString()||(o.value._setMonth(t.getMonth()+1),o.value._setDay(t.getDate()),o.value._setYear(t.getFullYear()),o._raiseEvent("2"),o._raiseEvent("5",{selectionType:i})),a.isSelected=!1,a.isDisabled=d,g(n)<g(o.selection.from)&&1==o._clicks&&(a.isDisabled=!0),o.getMaxDate()<n&&(a.isDisabled=!0),o.getMinDate()>n&&(a.isDisabled=!0),o._isRestrictedDate(n)&&(a.isRestricted=!0,a.isDisabled=!0),!a.isDisabled&&o._isDisabled(n)&&(a.isDisabled=!0),a.isDisabled?!o.allowRestrictedDaysInRange&&g(n)>=g(o.selection.from)&&o.selection.to==o.selection.from&&(d=!0):g(n)>=g(o.selection.from)&&g(n)<=g(o.selection.to)&&(a.isSelected=!0)}o._applyCellStyle(a,l,h)}),"range"==o.selectionMode&&0==o._clicks?void o._raiseEvent(7):void("range"!=o.selectionMode&&n!=t&&(o._raiseEvent(7),this.change&&this.change(t)))}}},_getSelectedDate:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t){if("month"!=this.view)return this.selectedDate;for(var i=0;i<t.cells.length;i++){var s=t.cells[i],r=s.getDate();if(s.isSelected)return r}return this.selectedDate?this.selectedDate:void 0}},_getSelectedCell:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t)for(var i=0;i<t.cells.length;i++){var s=t.cells[i];s.getDate();if(s.isSelected)return s}},_applyCellStyle:function(t,i,s){var r=this;(null==s||null!=s&&0==s.length)&&(s=i);var a="";if(a=this.toThemeProperty("jqx-rc-all"),a+=" "+this.toThemeProperty("jqx-item"),(this.disabled||t.isDisabled&&!t.isRestricted)&&(a+=" "+this.toThemeProperty("jqx-calendar-cell-disabled"),a+=" "+this.toThemeProperty("jqx-fill-state-disabled")),!this.disabled&&t.isRestricted&&(a+=" "+this.toThemeProperty("jqx-calendar-cell-restrictedDate")),t.isOtherMonth&&this.enableOtherMonthDays&&t.isVisible&&(a+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth")),t.isWeekend&&this.enableWeekend&&t.isVisible&&t.isVisible&&(a+=" "+this.toThemeProperty("jqx-calendar-cell-weekend")),t.isVisible?(a+=" "+this.toThemeProperty("jqx-calendar-cell"),"month"!=this.view&&s.length>0&&-1!=s.html().toLowerCase().indexOf("span")&&s.css("cursor","default")):a+=" "+this.toThemeProperty("jqx-calendar-cell-hidden"),s.removeAttr("aria-selected"),t.isSelected&&t.isVisible){a+=" "+this.toThemeProperty("jqx-calendar-cell-selected"),a+=" "+this.toThemeProperty("jqx-fill-state-pressed"),s.attr("aria-selected",!0),this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",s[0].id);var o=t.getDate();this._isDisabled(o)&&(a+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid"))}if(t.isHighlighted&&t.isVisible&&this.enableHover&&(t.isDisabled||(a+=" "+this.toThemeProperty("jqx-calendar-cell-hover"),a+=" "+this.toThemeProperty("jqx-fill-state-hover"))),a+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view),t.isToday&&t.isVisible&&(a+=" "+this.toThemeProperty("jqx-calendar-cell-today")),s[0].className=a,this.specialDates.length>0){var n=this;e.each(this.specialDates,function(){void 0!=this.Class&&null!=this.Class&&""!=this.Class?s.removeClass(this.Class):s.removeClass(r.toThemeProperty("jqx-calendar-cell-specialDate"));var i=t.getDate();if(i.getFullYear()==this.Date.getFullYear()&&i.getMonth()==this.Date.getMonth()&&i.getDate()==this.Date.getDate()){if(null==t.tooltip&&null!=this.Tooltip&&(t.tooltip=this.Tooltip,e(s).jqxTooltip)){var a=this.Class;e(s).jqxTooltip({value:{cell:t,specialDate:this.Date},name:n.element.id,content:this.Tooltip,position:"mouse",theme:n.theme,opening:function(e){return s.hasClass(r.toThemeProperty("jqx-calendar-cell-specialDate"))?!0:s.hasClass(a)?!0:!1}})}return s.removeClass(r.toThemeProperty("jqx-calendar-cell-othermonth")),s.removeClass(r.toThemeProperty("jqx-calendar-cell-weekend")),void 0==this.Class||""==this.Class?(s.addClass(r.toThemeProperty("jqx-calendar-cell-specialDate")),!1):(s.addClass(this.Class),!1)}})}},_applyCellStyles:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t)for(var i=0;i<t.cells.length;i++){var s=t.cells[i],r=e(s.element),a=r.find("#cellContent"+r[0].id);0==a.length&&(a=r),this._applyCellStyle(s,r,a)}},getWeekOfYear:function(e){var t=new Date(e.dateTime);dowOffset=this.firstDayOfWeek;var i=new Date(t.getFullYear(),0,1),s=i.getDay()-dowOffset;s=s>=0?s:s+7;var r,a=Math.floor((t.getTime()-i.getTime()-6e4*(t.getTimezoneOffset()-i.getTimezoneOffset()))/864e5)+1;return 4>s?(r=Math.floor((a+s-1)/7)+1,r>52&&(nYear=new Date(t.getFullYear()+1,0,1),nday=nYear.getDay()-dowOffset,nday=nday>=0?nday:nday+7,r=nday<4?1:53)):r=Math.floor((a+s-1)/7),r},renderColumnHeader:function(t){if(this.showDayNames){var i=e("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");i.find("table").addClass(this.toThemeProperty("jqx-reset")),i.find("tr").addClass(this.toThemeProperty("jqx-reset")),i.find("td").css({background:"transparent",padding:1,margin:0,border:"none"}),i.addClass(this.toThemeProperty("jqx-reset")),i.addClass(this.toThemeProperty("jqx-widget-content")),i.addClass(this.toThemeProperty("jqx-calendar-column-header")),this.columnHeader.append(i);var s=this.getVisibleDate(),r=this.getFirstDayOfWeek(s),a=(r.dayOfWeek,this.getWeekOfYear(r),this.firstDayOfWeek),o=this.localization.calendar.days.names,n=new Array,l=r,h=(t.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(h=(t.width()-2)/7);for(var d=0;7>d;d++){var c=o[a];switch(this.rtl&&(c=o[6-a]),this.dayNameFormat){case"default":c=this.localization.calendar.days.namesAbbr[a],this.rtl&&(c=this.localization.calendar.days.namesAbbr[6-a]);break;case"shortest":c=this.localization.calendar.days.namesShort[a],this.rtl&&(c=this.localization.calendar.days.namesShort[6-a]);break;case"firstTwoLetters":c=c.substring(0,2);break;case"firstLetter":c=c.substring(0,1)}var u=new e.jqx._jqxCalendar.cell(l.dateTime),p=d+1,m=p+this.element.id,f=e(i[0].rows[0].cells[d]),v=d;this.enableTooltips&&e(f).jqxTooltip&&e(f).jqxTooltip({name:this.element.id,content:o[a],theme:this.theme,position:"mouse"}),a>=6?a=0:a++,d=v,u.element=f,u.row=0,u.column=d+1;var g=this._textwidth(c),x="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+m+"'>"+c+"</div>";if(f.append(x),f.find("#columnCell"+m).addClass(this.toThemeProperty("jqx-calendar-column-cell")),f.css({width:h}),this.disabled&&f.find("#columnCell"+m).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled")),g>0&&h>0)for(;g>f.width()&&0!=c.length;)c=c.substring(0,c.length-1),e.jqx.utilities.html(f.find("#columnCell"+m),c),g=this._textwidth(c);n[d]=u,l=new e.jqx._jqxDateTimeInput.getDateTime(new Date(l._addDays(1)))}parseInt(this.columnHeader.width())>parseInt(this.host.width())&&this.columnHeader.css({width:this.host.width()});var b=e.data(this.element,t[0].id);b.columnCells=n}},_format:function(t,i,s){var r=!1;try{void 0!=Globalize&&(r=!0)}catch(a){}if(e.global)return e.global.culture.calendar=this.localization.calendar,e.global.format(t,i,this.culture);if(r)try{return Globalize.cultures[this.culture]?(Globalize.cultures[this.culture].calendar=this.localization.calendar,Globalize.format(t,i,this.culture)):Globalize.format(t,i,this.culture)}catch(a){return Globalize.format(t,i)}else if(e.jqx.dataFormat)return e.jqx.dataFormat.formatdate(t,i,this.localization.calendar)},_textwidth:function(t){var i=e("<span>"+t+"</span>");i.addClass(this.toThemeProperty("jqx-calendar-column-cell")),e(this.host).append(i);var s=i.width();return i.remove(),s},_textheight:function(t){var i=e("<span>"+t+"</span>");e(this.host).append(i);var s=i.height();return i.remove(),s},_renderRowHeader:function(t){var i=this.getVisibleDate(),s=this.getFirstDayOfWeek(i),r=(s.dayOfWeek,this.getWeekOfYear(s)),a=new e.jqx._jqxDateTimeInput.getDateTime(new Date(s.dateTime));a._addDays(5),a.dayOfWeek=a.dateTime.getDay();this.getWeekOfYear(a);53==r&&0==a.dateTime.getMonth()&&(r=1);var o=e("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td></td></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr></table>");o.find("table").addClass(this.toThemeProperty("jqx-reset")),o.find("td").addClass(this.toThemeProperty("jqx-reset")),o.find("tr").addClass(this.toThemeProperty("jqx-reset")),o.addClass(this.toThemeProperty("jqx-calendar-row-header")),o.css({width:this.rowHeaderWidth}),this.rowHeader.append(o);for(var n=s,l=new Array,h=0;6>h;h++){var d=r.toString(),c=new e.jqx._jqxCalendar.cell(n.dateTime),u=h+1+this.element.id,p=e(o[0].rows[h].cells[0]);c.element=p,c.row=h,c.column=0;var m="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+u+"'>"+d+"</div>";p.append(m),p.find("#headerCellContent"+u).addClass(this.toThemeProperty("jqx-calendar-row-cell")),l[h]=c,n=new e.jqx._jqxDateTimeInput.getDateTime(new Date(n._addWeeks(1))),r=this.getWeekOfYear(n)}var f=e.data(this.element,t[0].id);f.rowCells=l},getFirstDayOfWeek:function(t){var i=t;(this.firstDayOfWeek<0||this.firstDayOfWeek>6)&&(this.firstDayOfWeek=6);var s=i.dayOfWeek-this.firstDayOfWeek;0>=s&&(s+=7);var r=e.jqx._jqxDateTimeInput.getDateTime(i._addDays(-s));return r},getVisibleDate:function(){var t=new e.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime));t<this.minDate&&(t=this.minDate),t>this.maxDate&&(this.visibleDate=this.maxDate),t.dateTime.setHours(0);var i=t.day,s=e.jqx._jqxDateTimeInput.getDateTime(t._addDays(-i+1));return t=s},destroy:function(e){this.host.removeClass(),0!=e&&this.host.remove()},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t],r=i?i:{};r.owner=this;var a=new e.Event(s);if(a.owner=this,a.args=r,0==t||1==t||2==t||3==t||4==t||5==t||6==t||7==t||8==t){a.args.date=a.args.selectedDate=this.getDate(),a.args.range=this.getRange();var o=this.getViewStart(),n=this.getViewEnd();a.args.view={from:o,to:n}}var l=this.host.trigger(a);return(0==t||1==t)&&(l=!1),l},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},updateSize:function(){var e=this.host.find("#View"+this.element.id);if(e.length>0){this.setCalendarSize(),void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&e.css({height:this.height}):e.css({height:this.height}),void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&e.css({width:this.width}):e.css({width:this.width});var t=this.host.height()-this.titleHeight-this.columnHeaderHeight,i="View"+this.element.id;e.find("#cellsTable"+i).css({height:t}),e.find("#calendarRowHeader"+i).css({height:t}),this.refreshControl()}},resize:function(){this.updateSize()},clear:function(){"range"==this.selectionMode?(this._clicks=1,this.setRange(null,null),this._raiseEvent(7)):this.setDate(null,"mouse"),this._clicks=0,this.selection={from:null,to:null}},today:function(){"range"==this.selectionMode?this.setRange(new Date,new Date):this.setDate(new Date,"mouse")},propertyChangedHandler:function(t,i,s,r){if(void 0!=this.isInitialized&&0!=this.isInitialized&&"enableHover"!=i&&"keyboardNavigation"!=i){if("localization"==i&&this.localization&&(this.localization.backString&&(this.backText=this.localization.backString),this.localization.forwardString&&(this.forwardText=this.localization.forwardString),this.localization.todayString&&(this.todayString=this.localization.todayString),this.localization.clearString&&(this.clearString=this.localization.clearString),this.firstDayOfWeek=this.localization.calendar.firstDay),"culture"==i)try{if(e.global)e.global.preferCulture(t.culture),t.localization.calendar=e.global.culture.calendar;else if(Globalize){var a=Globalize.culture(t.culture);t.localization.calendar=a.calendar}t.localization.calendar&&void 0!=t.localization.calendar.firstDay&&"default"!=t.culture&&(t.firstDayOfWeek=t.localization.calendar.firstDay)}catch(o){}return"views"==i?(-1==t.views.indexOf("month")&&(t.view="year"),-1==t.views.indexOf("year")&&-1==t.views.indexOf("month")&&(t.view="decade"),void t.render()):("showFooter"==i&&t.render(),"width"==i||"height"==i?void t.updateSize():void("theme"==i?e.jqx.utilities.setTheme(s,r,t.host):"rowHeaderWidth"==i||"showWeekNumbers"==i?t.render():(t.view="month",t.render())))}}})}(jqxBaseFramework),function(e){e.jqx._jqxCalendar.cell=function(t){var i={dateTime:new e.jqx._jqxDateTimeInput.getDateTime(t),_date:t,getDate:function(){return this._date},setDate:function(t){this.dateTime=new e.jqx._jqxDateTimeInput.getDateTime(t),this._date=t},isToday:!1,isWeekend:!1,isOtherMonth:!1,isVisible:!0,isSelected:!1,isHighlighted:!1,element:null,row:-1,column:-1,tooltip:null};return i},e.jqx._jqxCalendar.monthView=function(e,t,i,s,r,a){var o={start:e,end:t,cells:i,rowCells:s,columnCells:r,element:a};return o}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxCheckBox","",{}),e.extend(e.jqx._jqxCheckBox.prototype,{defineInstance:function(){var t={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"16px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",keyboardCheck:!0,enableHover:!0,hasInput:!0,rtl:!1,updated:null,disabledContainer:!1,_canFocus:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return e.extend(!0,this,t),t},createInstance:function(e){this.render()},_addInput:function(){if(this.hasInput){this.input&&this.input.remove();var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.checked),this.host.attr("role","checkbox"),e.jqx.aria(this)}},render:function(){this.init=!0;var t=this;this.setSize(),this.propertyChangeMap.width=function(e,i,s,r){t.setSize()},this.propertyChangeMap.height=function(e,i,s,r){t.setSize()},this._removeHandlers(),this.checkbox&&(this.checkbox.remove(),this.checkbox=null),this.checkMark&&(this.checkMark.remove(),this.checkMark=null),this.box&&(this.box.remove(),this.box=null),this.clear&&(this.clear.remove(),this.clear=null),null==this.boxSize&&(this.boxSize=14);var i=parseInt(this.boxSize)+"px",s="16px",r=Math.floor((parseInt(this.boxSize)-14)/2),a=r;r+="px",a+="px","16px"!=this.boxSize?this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="position: relative; left: '+r+"; top: "+a+"; width: "+s+"; height: "+s+';"></span></div></div>'):this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="width: '+i+"; height: "+i+';"></span></div></div>'),this.host.prepend(this.checkbox),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=e('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=e(this.checkbox[0].firstChild.firstChild),this.box=this.checkbox,this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")),this.disabled&&this.disable(),this.disabledContainer||(this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox"))),this.locked&&!this.disabledContainer&&this.host.css("cursor","auto");var o=this.element.getAttribute("checked");("checked"==o||"true"==o||1==o)&&(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),this.init=!1},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.css({width:this.width}):void 0==this.width||isNaN(this.width)||this.host.css({width:this.width}),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.css({height:this.height}):void 0==this.height||isNaN(this.height)||this.host.css({height:this.height})},_addHandlers:function(){var t=this,i=e.jqx.mobile.isTouchDevice(),s="mousedown";i&&(s=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.box,s,function(e){return t.disabled||t.enableContainerClick||t.locked?void 0:(t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1)}),this.disabledContainer||(this.addHandler(this.host,"keydown",function(e){return t.disabled||t.locked||!t.keyboardCheck||32!=e.keyCode?void 0:t._canFocus?(t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1):!0}),this.addHandler(this.host,s,function(e){return t.disabled||!t.enableContainerClick||t.locked?void 0:(t.toggle(),e.preventDefault&&e.preventDefault(),t._canFocus&&t.focus(),!1)}),this.addHandler(this.host,"selectstart",function(e){return!t.disabled&&t.enableContainerClick?(e.preventDefault&&e.preventDefault(),!1):void 0}),this.addHandler(this.host,"mouseup",function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault&&e.preventDefault()}),this.addHandler(this.host,"focus",function(e){return t.disabled||t.locked?void 0:t._canFocus?(t.enableHover&&t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1):!0}),this.addHandler(this.host,"blur",function(e){return t.disabled||t.locked?void 0:t._canFocus?(t.enableHover&&t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1):!0}),this.addHandler(this.host,"mouseenter",function(e){return t.locked&&t.host.css("cursor","arrow"),t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked?(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1):void 0}),this.addHandler(this.host,"mouseleave",function(e){return t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked?(t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1):void 0}),this.addHandler(this.box,"mouseenter",function(){t.locked||t.disabled||t.enableContainerClick||(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){t.disabled||t.enableContainerClick||(t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}))},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){var t=e.jqx.mobile.isTouchDevice(),i="mousedown";t&&(i="touchend"),this.box&&(this.removeHandler(this.box,i),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave")),this.removeHandler(this.host,i),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus")},_render:function(){this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.init||this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},_setState:function(e,t){this.checked!=e&&(this.checked=e,this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-checked"):null==this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-indeterminate"):this.checkMark[0].className=""),(t===!1||t===!0)&&(this.locked=t)},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate()),this.checked)},check:function(){this.checked=!0;var t=this;if(this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=this.groupName&&this.groupName.length>0){var i=e.find(this.toThemeProperty(".jqx-checkbox",!0));e.each(i,function(){var i=e(this).jqxCheckBox("groupName");i==t.groupName&&this!=t.element&&e(this).jqxCheckBox("uncheck")})}this._raiseEvent("0",!0),this._raiseEvent("3",{checked:!0}),void 0!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked))},uncheck:function(){this.checked=!1;var t=this;e.jqx.browser.msie||0==this.animationHideDelay?""!=t.checkMark[0].className&&(t.checkMark[0].className=""):(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){""!=t.checkMark[0].className&&(t.checkMark[0].className="")})),this._raiseEvent("1"),this._raiseEvent("3",{checked:!1}),void 0!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked))},indeterminate:function(){this.checked=null,this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),this._raiseEvent("2"),this._raiseEvent("3",{checked:null}),void 0!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked","undefined"))},toggle:function(){if(!this.disabled&&!this.locked){if(null!=this.groupName&&this.groupName.length>0)return void(1!=this.checked&&(this.checked=!0,this.updateStates()));this.oldChecked=this.checked,1==this.checked?this.checked=this.hasThreeStates?null:!1:this.checked=null!=this.checked,this.updateStates(),void 0!=this.input&&this.input.val(this.checked)}},updateStates:function(){this.checked?this.check():0==this.checked?this.uncheck():null==this.checked&&this.indeterminate()},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled")),e.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(t,i){if(!this.init){var s=this.events[t],r=new e.Event(s);r.owner=this,r.args=i;try{var a=this.host.trigger(r)}catch(o){}return a}},propertyChangedHandler:function(t,i,s,r){if(void 0!=this.isInitialized&&0!=this.isInitialized){if("enableContainerClick"!=i||t.disabled||t.locked||(r?t.host.css("cursor","pointer"):t.host.css("cursor","auto")),"rtl"==i&&(r?(t.box.addClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.addClass(t.toThemeProperty("jqx-rtl"))):(t.box.removeClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.removeClass(t.toThemeProperty("jqx-rtl")))),"boxSize"==i&&t.render(),"theme"==i&&e.jqx.utilities.setTheme(s,r,t.host),"checked"==i&&r!=s)switch(r){case!0:t.check();break;case!1:t.uncheck();break;case null:t.indeterminate()}"disabled"==i&&r!=s&&(r?t.disable():t.enable())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxComboBox","",{}),e.extend(e.jqx._jqxComboBox.prototype,{defineInstance:function(){var t={disabled:!1,width:e.jqx.utilities.combobox_width,height:e.jqx.utilities.combobox_height,items:new Array,selectedIndex:-1,selectedItems:new Array,_selectedItems:new Array,source:null,scrollBarSize:e.jqx.utilities.scrollBarSize,arrowSize:18,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",emptyString:"",openDelay:250,closeDelay:300,animationType:"default",dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",searchMode:"startswithignorecase",autoComplete:!1,remoteAutoComplete:!1,remoteAutoCompleteDelay:500,selectionMode:"default",minLength:2,displayMember:"",valueMember:"",groupMember:"",searchMember:"",keyboardSelection:!0,renderer:null,autoOpen:!1,checkboxes:!1,promptText:"",placeHolder:"",rtl:!1,listBox:null,validateSelection:null,showCloseButtons:!0,renderSelectedItem:null,search:null,popupZIndex:1e5,searchString:null,multiSelect:!1,showArrow:!0,_disabledItems:new Array,touchMode:"auto",autoBind:!0,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete"]};return e.extend(!0,this,t),t},createInstance:function(t){if(this.host.attr("role","combobox"),e.jqx.aria(this,"aria-autocomplete","both"),null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw new Error("jqxComboBox: Missing reference to jqxlistbox.js.");e.jqx.aria(this),""!=this.promptText&&(this.placeHolder=this.promptText),this.render()},render:function(){var t=this,i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var s={title:t.field.title};t.field.id.length?s.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxComboBox":s.id=e.jqx.utilities.createId()+"_jqxComboBox";var r=e("<div></div>",s);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),e(t.field).hide().after(r);var a=t.host.data();if(t.host=r,t.host.data(a),t.element=r[0],t.element.id=t.field.id,t.field.id=s.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var o=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=o}var n=e.jqx.parseSourceTag(t.field);t.source=n.items,-1==t.selectedIndex&&(t.selectedIndex=n.index)}t.removeHandlers(),t.isanimating=!1,t.id=e.jqx.utilities.createId(),t.element.innerHTML="";var l=e("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-top: none; border-bottom: none; float: left; position: absolute;'/><div id='dropdownlistArrow' role='button' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'/></div></div>");if(t.comboStructure=l,null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw"jqxComboBox: Missing reference to jqxlistbox.js.";t.touch=e.jqx.mobile.isTouchDevice(),t.touchMode===!0&&(t.touch=!0),t.host.append(l),t.dropdownlistWrapper=t.host.find("#dropdownlistWrapper"),t.dropdownlistArrow=t.host.find("#dropdownlistArrow"),t.dropdownlistContent=t.host.find("#dropdownlistContent"),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-widget-content")),t.dropdownlistWrapper[0].id="dropdownlistWrapper"+t.element.id,t.dropdownlistArrow[0].id="dropdownlistArrow"+t.element.id,t.dropdownlistContent[0].id="dropdownlistContent"+t.element.id,t.dropdownlistContent.append(e('<input autocomplete="off" style="margin: 0; padding: 0; border: 0;" type="textarea"/>')),t.input=t.dropdownlistContent.find("input"),t.input.addClass(t.toThemeProperty("jqx-combobox-input")),t.input.addClass(t.toThemeProperty("jqx-widget-content")),t.host.attr("tabindex")&&(t.input.attr("tabindex",t.host.attr("tabindex")),t.host.removeAttr("tabindex")),t._addInput(),t.rtl&&(t.input.css({direction:"rtl"}),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content-rtl")));try{var h="listBox"+t.id,d=e(e.find("#"+h));d.length>0&&d.remove(),e.jqx.aria(this,"aria-owns",h),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-multiline",!1),t.listBoxContainer&&t.listBoxContainer.jqxListBox("destroy"),t.container&&t.container.remove();var c=e("<div style='border: none; overflow:hidden; background-color: transparent; position: absolute;' id='listBox"+t.id+"'><div id='innerListBox"+t.id+"'></div></div>");c.hide(),c.appendTo(document.body),t.container=c,t.listBoxContainer=e(e.find("#innerListBox"+t.id));var u=t.width;"auto"!=t.dropDownWidth&&(u=t.dropDownWidth),null==t.dropDownHeight&&(t.dropDownHeight=200),t.container.css({width:parseInt(u,10)}),t.container.css({height:parseInt(t.dropDownHeight)+25}),t.addHandler(t.listBoxContainer,"bindingComplete",function(i){t.listBox||(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance),t._raiseEvent("6")});var p=!0;t.listBoxContainer.jqxListBox({_checkForHiddenParent:!1,allowDrop:!1,allowDrag:!1,checkboxes:t.checkboxes,emptyString:t.emptyString,autoBind:!t.remoteAutoComplete&&t.autoBind,renderer:t.renderer,rtl:t.rtl,itemHeight:t.itemHeight,selectedIndex:t.selectedIndex,incrementalSearch:!1,width:u,scrollBarSize:t.scrollBarSize,autoHeight:t.autoDropDownHeight,height:t.dropDownHeight,groupMember:t.groupMember,searchMember:t.searchMember,displayMember:t.displayMember,valueMember:t.valueMember,source:t.source,theme:t.theme,rendered:function(){if(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.remoteAutoComplete)if(t.autoDropDownHeight?(t.container.css({height:t.listBox.virtualSize.height+25
}),t.listBoxContainer.css({height:t.listBox.virtualSize.height}),t.listBox._arrange()):(t.listBox._arrange(),t.listBox.ensureVisible(0),t.listBox._renderItems(),t.container.css({height:t.listBoxContainer.height()+25})),void 0!=t.searchString&&t.searchString.length>=t.minLength){var i=t.listBoxContainer.jqxListBox("items");i&&i.length>0?t.isOpened()||t.open():t.close()}else t.close();else t.renderSelection("mouse"),t.multiSelect&&t.doMultiSelect(!1);t.rendered&&t.rendered()}}),t.listBoxContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.listBoxContainer.css("border-top-width","1px"),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBox.enableSelection=t.enableSelection,t.listBox.enableHover=t.enableHover,t.listBox.equalItemsWidth=t.equalItemsWidth,t.listBox._arrange(),t.addHandler(t.listBoxContainer,"unselect",function(e){t.multiSelect||t._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),t.addHandler(t.listBoxContainer,"change",function(e){t.multiSelect||(t.selectedIndex=t.listBox.selectedIndex,t._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}))}),"none"==t.animationType?t.container.css("display","none"):t.container.hide(),p=!1}catch(m){throw m}var f=this;f.input.attr("disabled",f.disabled);var v=e.jqx.browser.msie&&e.jqx.browser.version<8;if(v||f.input.attr("placeholder",f.placeHolder),t.propertyChangeMap.disabled=function(t,i,s,r){r?(t.host.addClass(f.toThemeProperty("jqx-combobox-state-disabled")),t.host.addClass(f.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(f.toThemeProperty("jqx-combobox-content-disabled"))):(t.host.removeClass(f.toThemeProperty("jqx-combobox-state-disabled")),t.host.removeClass(f.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.removeClass(f.toThemeProperty("jqx-combobox-content-disabled"))),t.input.attr("disabled",t.disabled),e.jqx.aria(t,"aria-disabled",t.disabled),t.input.attr("disabled",t.disabled)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-combobox-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content-disabled"))),t.host.addClass(t.toThemeProperty("jqx-combobox-state-normal")),t.host.addClass(t.toThemeProperty("jqx-combobox")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.dropdownlistArrowIcon=e("<div></div>"),t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon")),t.dropdownlistArrow.append(t.dropdownlistArrowIcon),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-combobox-arrow-normal")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-rc-l")):t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-rc-r")),t._setSize(),t._updateHandlers(),t.addHandler(t.input,"keyup.textchange",function(e){t._search(e);t.cinput&&t.input&&(t.displayMember?t._updateInputSelection():t.cinput[0].value=t.input[0].value)}),e.jqx.browser.msie&&e.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0){var g=t.host.parents(".jqx-window").css("z-index");c.css("z-index",g+10),t.listBoxContainer.css("z-index",g+10)}t.checkboxes?(t.input.attr("readonly",!0),e.jqx.aria(this,"aria-readonly",!0)):e.jqx.aria(this,"aria-readonly",!1),t.remoteAutoComplete||(t.searchString="")},_addInput:function(){var t=this.host.attr("name");this.cinput=e("<input type='hidden'/>"),this.host.append(this.cinput),t&&this.cinput.attr("name",t)},_updateInputSelection:function(){if(this.cinput){var t=new Array;if(-1==this.selectedIndex)this.cinput.val("");else{var i=this.getSelectedItem();null!=i?(this.cinput.val(i.value),t.push(i.value)):this.cinput.val(this.dropdownlistContent.text())}if(this.checkboxes||this.multiSelect){if(this.multiSelect)var s=this.getSelectedItems();else var s=this.getCheckedItems();var r="";if(null!=s)for(var a=0;a<s.length;a++)r+=a==s.length-1?s[a].value:s[a].value+",",t.push(s[a].value);this.cinput.val(r)}this.field&&this.cinput&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,s){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,s){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))}},_search:function(t){var i=this;if(9!=t.keyCode&&"none"!=i.searchMode&&null!=i.searchMode&&"undefined"!=i.searchMode&&16!=t.keyCode&&17!=t.keyCode&&20!=t.keyCode&&!i.checkboxes){if(i.multiSelect){var s=e("<span style='visibility: hidden; white-space: nowrap;'>"+i.input.val()+"</span>");s.addClass(i.toThemeProperty("jqx-widget")),e(document.body).append(s);var r=s.width()+15;s.remove(),r>i.host.width()&&(r=i.host.width()),25>r&&(r=25),i.input.css("width",r+"px"),0==i.selectedItems.length?(i.input.css("width","100%"),i.input.attr("placeholder",i.placeHolder)):i.input.attr("placeholder","");var a=parseInt(this._findPos(i.host[0])[1])+parseInt(i.host.outerHeight())-1+"px",o=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();null!=o&&o&&(a=e.jqx.mobile.getTopPos(this.element)+parseInt(i.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(a=parseInt(a)-this._getBodyOffset().top+"px")),i.container.css("top",a);var n=parseInt(i.host.height());i.dropdownlistArrow.css({height:n})}if(!i.isanimating){if(t.altKey&&38==t.keyCode)return i.hideListBox("altKey"),!1;if(t.altKey&&40==t.keyCode)return i.isOpened()||i.showListBox("altKey"),!1}if(37==t.keyCode||39==t.keyCode)return!1;if(!t.altKey&&18!=t.keyCode&&!(t.keyCode>=33&&t.keyCode<=40||(t.ctrlKey||i.ctrlKey)&&88!=t.keyCode&&86!=t.keyCode)){var l=i.input.val();if(0==l.length&&!i.autoComplete)return i.listBox.searchString=i.input.val(),i.listBox.clearSelection(),i.hideListBox("search"),void(i.searchString=i.input.val());if(i.remoteAutoComplete){var h=this,d=function(){h.listBox.vScrollInstance.value=0};if(l.length>=h.minLength){if(!t.ctrlKey&&!t.altKey){if(h.searchString!=l){var c=h.listBoxContainer.jqxListBox("source");null==c&&h.listBoxContainer.jqxListBox({source:h.source}),i._searchTimer&&clearTimeout(i._searchTimer),13!=t.keyCode&&27!=t.keyCode&&(i._searchTimer=setTimeout(function(){if(d(),h.autoDropDownHeight&&(h.listBox.autoHeight=!0),h.searchString=h.input.val(),null==h.search)throw"'search' function is not defined";h.search(h.input.val())},i.remoteAutoCompleteDelay))}h.searchString=l}}else i._searchTimer&&clearTimeout(i._searchTimer),d(),h.searchString="",h.listBoxContainer.jqxListBox({source:null})}else{var h=this;if(l!==h.searchString){if("27"!=t.keyCode&&"13"!=t.keyCode){var u=i._updateItemsVisibility(l),p=u.matchItems,m=u.index;if(!i.autoComplete&&!i.removeAutoComplete&&(!i.multiSelect||i.multiSelect&&m>=0)){i.listBox.selectIndex(m);var f=i.listBox.isIndexInView(m);f?i.listBox._renderItems():i.listBox.ensureVisible(m)}i.autoComplete&&0===p.length&&i.hideListBox("search")}if("13"==t.keyCode){var v="block"==i.container.css("display");if(v&&!i.isanimating)return i.hideListBox("keyboard"),void(i._oldvalue=i.listBox.selectedValue)}else if("27"==t.keyCode){var v="block"==i.container.css("display");if(v&&!i.isanimating){if(x.multiSelect)x.input.val(""),x.listBox.selectedValue=null;else{var g=i.listBox.getVisibleItem(i._oldvalue);if(g){var x=this;setTimeout(function(){x.autoComplete&&x._updateItemsVisibility(""),x.listBox.selectIndex(g.index),x.renderSelection("api")},x.closeDelay)}else i.clearSelection()}return i.hideListBox("keyboard"),i.renderSelection("api"),t.preventDefault(),!1}}else{i.isOpened()||i.opening||t.ctrlKey||i.listBox.visibleItems&&i.listBox.visibleItems.length>0&&i.input.val()!=i.searchString&&void 0!=i.searchString&&-1!=m&&i.showListBox("search"),i.searchString=i.input.val(),""==i.searchString&&(i.listBox.itemsByValue[""]||(m=-1,i.multiSelect||i.clearSelection()));var g=i.listBox.getVisibleItem(m);void 0!=g&&i._updateInputSelection()}}}}}},val:function(e){if(!this.input)return"";var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"==typeof e?!1:!0};if(t(e)||0==arguments.length){var i=this.getSelectedItem();return i?i.value:this.input.val()}var i=this.getItemByValue(e);return null!=i?this.selectItem(i):this.input.val(e),this.input.val()},focus:function(){var e=this,t=function(){e.input.focus();var t=e.input.val();e._setSelection(0,t.length)};t(),setTimeout(function(){t()},10)},_setSelection:function(e,t){try{if("selectionStart"in this.input[0])this.input[0].focus(),this.input[0].setSelectionRange(e,t);else{var i=this.input[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}catch(s){}},setContent:function(e){this.input.val(e)},_updateItemsVisibility:function(t){var i=this.getItems();if(void 0==i)return{index:-1,matchItem:new Array};var s=this,r=-1,a=new Array,o=0;e.each(i,function(i){var n="";if(!this.isGroup){n=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem",n=n.toString();var l=!1;switch(s.searchMode){case"containsignorecase":l=e.jqx.string.containsIgnoreCase(n,t);break;case"contains":l=e.jqx.string.contains(n,t);break;case"equals":l=e.jqx.string.equals(n,t);break;case"equalsignorecase":l=e.jqx.string.equalsIgnoreCase(n,t);break;case"startswith":l=e.jqx.string.startsWith(n,t);break;case"startswithignorecase":l=e.jqx.string.startsWithIgnoreCase(n,t);break;case"endswith":l=e.jqx.string.endsWith(n,t);break;case"endswithignorecase":l=e.jqx.string.endsWithIgnoreCase(n,t)}if(s.autoComplete&&!l&&(this.visible=!1),l&&s.autoComplete&&(a[o++]=this,this.visible=!0,r=this.visibleIndex),""==t&&s.autoComplete&&(this.visible=!0,l=!1),s.multiSelect&&(this.disabled=!1,(s.selectedItems.indexOf(this.value)>=0||s._disabledItems.indexOf(this.value)>=0)&&(this.disabled=!0,l=!1)),s.multiSelect){if(l&&!s.autoComplete)return-1===r&&(r=this.visibleIndex),!0}else if(l&&!s.autoComplete)return r=this.visibleIndex,!1}}),this.listBox.searchString=t;var n=this,l=function(){if(n.multiSelect){for(var e=0,t=!1,i=null,s=0;s<n.listBox.items.length;s++)n.listBox.selectedIndexes[s]=-1,n.listBox.items[s].disabled||0==t&&(i=n.listBox.items[s],e=i.visibleIndex,t=!0);n.listBox.selectedIndex=-1,n.listBox.selectedIndex=e,n.listBox.selectedIndexes[e]=e,n.listBox.visibleItems.length>0&&i?n.listBox.selectedValue=i.value:n.listBox.selectedValue=null,n.listBox.ensureVisible(0)}};if(!this.autoComplete)return l(),{index:r,matchItems:a};this.listBox.renderedVisibleItems=new Array;var h=this.listBox.vScrollInstance.value;this.listBox.vScrollInstance.value=0,this.listBox.visibleItems=new Array,this.listBox._renderItems();var d=this.listBox.selectedValue,c=this.listBox.getItemByValue(d);if(this.multiSelect)l();else if(c)if(c.visible){this.listBox.selectedIndex=c.visibleIndex;for(var u=0;u<this.listBox.items.length;u++)this.listBox.selectedIndexes[u]=-1;this.listBox.selectedIndexes[c.visibleIndex]=c.visibleIndex}else{for(var u=0;u<this.listBox.items.length;u++)this.listBox.selectedIndexes[u]=-1;this.listBox.selectedIndex=-1}this.listBox._renderItems();var p=this.listBox._calculateVirtualSize().height;if(h>p&&(h=0,this.listBox.vScrollInstance.refresh()),this.autoDropDownHeight)this._disableSelection=!0,this.listBox.autoHeight!=this.autoDropDownHeight&&this.listBoxContainer.jqxListBox({autoHeight:this.autoDropDownHeight}),this.container.css({height:p+25}),this.listBox.invalidate(),this._disableSelection=!1;else if(p<parseInt(this.dropDownHeight)){var m="hidden"==this.listBox.hScrollBar[0].style.visibility?0:20;this.listBox.height=m+p,this.container.css({height:p+25+m}),this.listBox.invalidate()}else this.listBox.height=parseInt(this.dropDownHeight),this.container.css({height:parseInt(this.dropDownHeight)+25}),this.listBox.invalidate();return this.listBox.vScrollInstance.setPosition(h),{index:r,matchItems:a}},findItems:function(t){var i=this.getItems(),s=this,r=0,a=new Array;return e.each(i,function(i){var o="";if(!this.isGroup){o=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var n=!1;switch(s.searchMode){case"containsignorecase":n=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":n=e.jqx.string.contains(o,t);break;case"equals":n=e.jqx.string.equals(o,t);break;case"equalsignorecase":n=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":n=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":n=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":n=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":n=e.jqx.string.endsWithIgnoreCase(o,t)}n&&(a[r++]=this)}}),a},_resetautocomplete:function(){e.each(this.listBox.items,function(e){this.visible=!0}),this.listBox.vScrollInstance.value=0,this.listBox._addItems(),this.listBox.autoHeight=!1,this.listBox.height=this.dropDownHeight,this.container.css({height:parseInt(this.dropDownHeight)+25}),this.listBoxContainer.css({height:parseInt(this.dropDownHeight)}),this.listBox._arrange(),this.listBox._addItems(),this.listBox._renderItems()},getItems:function(){var e=this.listBox.items;return e},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.css({width:this.width}):void 0==this.width||isNaN(this.width)||this.host.css({width:this.width}),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.css({height:this.height}):void 0==this.height||isNaN(this.height)||this.host.css({height:this.height});var t=!1;if(null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.host.css({width:this.width})),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.host.css({height:this.height})),t){var i=this,s=this.host.outerWidth();"auto"!=this.dropDownWidth&&(s=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:s}),this.container.css({width:parseInt(s,10)}),this._arrange()}var i=this,r=function(){i.multiSelect&&i.host.css({height:i.height}),i._arrange(),i.multiSelect&&i.host.css({height:"auto"})};i.oldWidth=i.host.width(),i.oldHeight=i.host.height(),e.jqx.utilities.resize(this.host,function(){var e=i.host.width(),t=i.host.height();(e!=i.oldWidth||t!=i.oldHeight)&&(r(),i.hideListBox("api")),i.oldWidth=e,i.oldHeight=t})},isOpened:function(){var t=this,i=e.data(document.body,"openedCombojqxListBox"+this.element.id);return"block"!=this.container.css("display")?!1:null!=i&&i==t.listBoxContainer?!0:!1},_updateHandlers:function(){var t=this,i=!1;this.removeHandlers(),this.multiSelect&&(this.addHandler(this.dropdownlistContent,"click",function(e){return e.target.href?!1:(t.input.focus(),void setTimeout(function(){t.input.focus()},10))}),this.addHandler(this.dropdownlistContent,"focus",function(e){return e.target.href?!1:(t.input.focus(),void setTimeout(function(){t.input.focus()},10))})),this.touch||(this.host.parents()&&this.addHandler(this.host.parents(),"scroll.combobox"+this.element.id,function(e){var i=t.isOpened();i&&t.close()}),this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&(i=!0,t.host.addClass(t.toThemeProperty("jqx-combobox-state-hover")),t.dropdownlistArrowIcon.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-combobox-arrow-hover")),t.dropdownlistArrow.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&(t.host.removeClass(t.toThemeProperty("jqx-combobox-state-hover")),t.dropdownlistArrowIcon.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.dropdownlistArrow.removeClass(t.toThemeProperty("jqx-combobox-arrow-hover")),t.dropdownlistArrow.removeClass(t.toThemeProperty("jqx-fill-state-hover")),i=!1)})),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var e=t.isOpened();!e&&t.autoOpen&&(t.open(),t.host.focus())}),this.addHandler(e(document),"mousemove."+t.id,function(e){var i=t.isOpened();if(i&&t.autoOpen){var s=t.host.coord(),r=s.top,a=s.left,o=t.container.coord(),n=o.left,l=o.top;canClose=!0,e.pageY>=r&&e.pageY<=r+t.host.height()+2&&e.pageX>=a&&e.pageX<a+t.host.width()&&(canClose=!1),e.pageY>=l&&e.pageY<=l+t.container.height()-20&&e.pageX>=n&&e.pageX<n+t.container.width()&&(canClose=!1),canClose&&t.close()}}));var s="mousedown";this.touch&&(s=e.jqx.mobile.getTouchEventName("touchstart"));var r=function(i){if(!t.disabled){var s="block"==t.container.css("display");if(!t.isanimating){if(s)return t.hideListBox("api"),e.jqx.mobile.isTouchDevice()||(t.input.focus(),setTimeout(function(){t.input.focus()},10)),!0;if(t.autoDropDownHeight){t.container.css({height:t.listBoxContainer.height()+25});var r=t.listBoxContainer.jqxListBox("autoHeight");r||(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.listBox._arrange(),t.listBox.ensureVisible(0),t.listBox._renderItems(),t.container.css({height:t.listBoxContainer.height()+25}))}if(t.showListBox("api"),e.jqx.mobile.isTouchDevice())return!0;setTimeout(function(){t.input.focus()},10)}}};this.addHandler(this.dropdownlistArrow,s,function(e){r(e)}),this.addHandler(this.dropdownlistArrowIcon,s,function(e){}),this.addHandler(this.host,"focus",function(){t.focus()}),this.addHandler(this.input,"focus",function(e){t.focused=!0,t.host.addClass(t.toThemeProperty("jqx-combobox-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-combobox-content-focus")),e.stopPropagation&&e.stopPropagation()}),this.addHandler(this.input,"blur",function(){t.focused=!1,t.isOpened()||t.opening||("dropDownList"==t.selectionMode&&t._selectOldValue(),t.host.removeClass(t.toThemeProperty("jqx-combobox-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.dropdownlistContent.removeClass(t.toThemeProperty("jqx-combobox-content-focus"))),t._searchTimer&&clearTimeout(t._searchTimer)}),this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.touch&&this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var i="block"==t.container.css("display");if(t.ctrlKey=e.ctrlKey,"none"==t.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&i&&!t.isanimating){if(-1!=t.listBox.selectedIndex){t.renderSelection("mouse");var s=t.listBox.selectedIndex,r=t.listBox.getVisibleItem(s);r&&(t.listBox.selectedValue=r.value),t._setSelection(t.input.val().length,t.input.val().length),t.hideListBox("keyboard")}return"13"==e.keyCode&&(t._oldvalue=t.listBox.selectedValue),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"9"==e.keyCode?!0:!1}if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox("keyboard"):t.showListBox("keyboard")),!1;if(e.altKey&&"block"==t.host.css("display")&&(t.isanimating||(38==e.keyCode?t.isOpened()&&t.hideListBox("altKey"):40==e.keyCode&&(t.isOpened()||t.showListBox("altKey")))),("27"==e.keyCode||"9"==e.keyCode)&&t.isOpened()&&!t.isanimating){if("27"==e.keyCode)if(t.multiSelect)t.listBox.selectedValue=null,t.input.val("");else{var r=t.listBox.getItemByValue(t._oldvalue);r?setTimeout(function(){t.autoComplete&&t._updateItemsVisibility(""),t.listBox.selectIndex(r.index),t.renderSelection("api")},t.closeDelay):t.clearSelection()}return t.hideListBox("keyboard"),"9"==e.keyCode?!0:(t.renderSelection("api"),e.preventDefault(),!1)}var a=e.keyCode;if(i&&!t.disabled&&8!=a)return t.listBox._handleKeyDown(e);if(!t.disabled&&!i){var a=e.keyCode;if(33==a||34==a||35==a||36==a||38==a||40==a)return t.listBox._handleKeyDown(e)}if(8===a&&t.multiSelect&&0===t.input.val().length){var o=t.selectedItems[t.selectedItems.length-1];return t.selectedItems.pop(),t._selectedItems.pop(),o&&(t._raiseEvent("3",{index:o.index,type:"keyboard",item:o}),t._raiseEvent("4",{index:o.index,type:"keyboard",item:o})),t.listBox.selectedValue=null,t.doMultiSelect(),!1}}),this.addHandler(this.listBoxContainer,"checkChange",function(e){t.renderSelection("mouse"),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!t.disabled&&("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(e.args.type),t.multiSelect||t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item}),"mouse"==e.args.type&&(t._oldvalue=t.listBox.selectedValue,!t.checkboxes))){if(t.hideListBox("mouse"),t.touch)return!1;t.input.focus()}}),null!=this.listBox&&null!=this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0;if(e.target&&e.target.className&&e.target.className.indexOf("jqx-fill-state-disabled")>=0)return!0;t.renderSelection("mouse"),t._oldvalue=t.listBox.selectedValue,t.touch||t.ishiding||t.checkboxes||(t.hideListBox("mouse"),t.input.focus()),t.touch===!0&&(t.checkboxes||t.hideListBox("mouse"))}})},_selectOldValue:function(){var e=this;if(-1==e.listBox.selectedIndex)if(e.multiSelect)e.listBox.selectedValue=null,e.input.val("");else{var t=e.listBox.getItemByValue(e._oldvalue);t?setTimeout(function(){e.autoComplete&&e._updateItemsVisibility(""),e.listBox.selectIndex(t.index),e.renderSelection("api")},e.closeDelay):(e.clearSelection(),e.listBox.selectIndex(0),e.renderSelection("api"))}else e.renderSelection("api")},removeHandlers:function(){var t=this;if(null!=this.dropdownlistWrapper&&this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.dropdownlistContent&&(this.removeHandler(this.dropdownlistContent,"click"),this.removeHandler(this.dropdownlistContent,"focus")),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),null!=this.input&&(this.removeHandler(this.input,"focus"),this.removeHandler(this.input,"blur")),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+t.id),this.listBoxContainer&&(this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.listBoxContainer,"select")),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.combobox"+this.element.id),this.dropdownlistArrowIcon&&this.dropdownlistArrow){var i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistArrowIcon,i),this.removeHandler(this.dropdownlistArrow,i)}},getItem:function(e){var t=this.listBox.getItem(e);return t},getItemByValue:function(e){var t=this.listBox.getItemByValue(e);return t},getVisibleItem:function(e){var t=this.listBox.getVisibleItem(e);return t},renderSelection:function(t){if(void 0!=t&&"none"!=t&&this._disableSelection!==!0&&null!=this.listBox&&!this.multiSelect){var i=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.autoComplete&&!this.checkboxes&&void 0!==this.listBox.selectedValue)var i=this.getItemByValue(this.listBox.selectedValue);if(this.checkboxes){var s=this.getCheckedItems();i=null!=s&&s.length>0?s[0]:null}if(null==i){var r=e.jqx.browser.msie&&e.jqx.browser.version<8;return this.input.val(""),this.input.attr("value",""),r||this.input.attr("placeholder",this.placeHolder),void this._updateInputSelection()}this.selectedIndex=this.listBox.selectedIndex;var a=e("<span></span>");void 0!=i.label&&null!=i.label&&i.label.toString().length>0?e.jqx.utilities.html(a,i.label):void 0!=i.value&&null!=i.value&&i.value.toString().length>0?e.jqx.utilities.html(a,i.value):void 0!=i.title&&null!=i.title&&i.title.toString().length>0?e.jqx.utilities.html(a,i.title):e.jqx.utilities.html(a,this.emptyString);a.outerHeight();if(this.checkboxes){for(var o=this.getCheckedItems(),n="",l=0;l<o.length;l++)n+=l==o.length-1?o[l].label:o[l].label+", ";this.input.val(n)}else this.input.val(a.text());if(a.remove(),this._updateInputSelection(),this.renderSelectedItem){var h=this.renderSelectedItem(this.listBox.selectedIndex,i);void 0!=h&&(this.input[0].value=h)}this.input.attr("value",this.input.val()),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(e){this.selectedIndex=-1,this.listBox.clearSelection(),this.input.val(""),this.multiSelect&&(this.listBox.selectedValue="",this.selectedItems=new Array,this._selectedItems=new Array,this.doMultiSelect(!1))},unselectIndex:function(e,t){if(!isNaN(e)&&(this.autoComplete&&this._updateItemsVisibility(""),this.listBox.unselectIndex(e,t),this.renderSelection("mouse"),this.multiSelect)){if(e>=0){var i=this.getItem(e),s=this.selectedItems.indexOf(i.value);s>=0&&(i.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(s,1),this._selectedItems.splice(s,1))}this.doMultiSelect(!1)}},selectIndex:function(e,t,i,s){this.autoComplete&&this._updateItemsVisibility(""),this.listBox.selectIndex(e,t,i,s),this.renderSelection("mouse"),this.selectedIndex=e,this.multiSelect&&this.doMultiSelect()},selectItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&(this.listBox.selectedIndex=-1,this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"),this.multiSelect&&this.doMultiSelect(!1))},unselectItem:function(e){if(this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"),this.multiSelect)){var t=this.getItemByValue(e);if(t){var i=this.selectedItems.indexOf(t.value);i>=0&&(t.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(i,1),this._selectedItems.splice(i,1))}this.doMultiSelect(!1)}},checkItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){this.autoComplete&&this._updateItemsVisibility(""),void 0!=this.listBox&&this.listBox.indeterminateItem(e)},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&this._selectedItems.length>0?this.getSelectedItems()[0].index:this._selectedItems&&this._selectedItems.length>0?this.getSelectedItems()[0].index:void 0:this.listBox.selectedIndex},getSelectedItem:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&this._selectedItems.length>0?this.getSelectedItems()[0]:this._selectedItems&&this._selectedItems.length>0?this.getSelectedItems()[0]:null:this.getVisibleItem(this.listBox.selectedIndex)},getSelectedItems:function(){if(this.remoteAutoComplete&&this.multiSelect)return this._selectedItems;var t=new Array,i=this;return e.each(this.selectedItems,function(){var e=i.getItemByValue(this);if(e)t.push(e);else{var e=i._selectedItems[this];e&&t.push(e)}}),t},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},insertAt:function(e,t){return null==e?!1:this.listBox.insertAt(e,t)},addItem:function(e){return this.listBox.addItem(e)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.push(t.value),this.listBox.disableAt(e)},enableAt:function(e){var t=this.getVisibleItem(e);return t&&this._disabledItems.splice(this._disabledItems.indexOf(t.value),1),this.listBox.enableAt(e)},disableItem:function(e){var e=this.getVisibleItem(e);return e&&this._disabledItems.push(e.value),this.listBox.disableItem(e)},enableItem:function(e){var e=this.getVisibleItem(e);return e&&this._disabledItems.splice(this._disabledItems.indexOf(e.value),1),this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;if(t){var i=e(t).coord(!0);return[i.left,i.top]}},testOffset:function(t,i,s){var r=t.outerWidth(),a=t.outerHeight(),o=e(window).width()+e(window).scrollLeft(),n=e(window).height()+e(window).scrollTop();if(i.left+r>o&&r>this.host.width()){var l=this.host.coord().left,h=r-this.host.width();i.left=l-h+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+a>n&&n>a?Math.abs(a+s+23):0),i},open:function(){this.isOpened()||this.opening||this.showListBox("api")},close:function(){this.isOpened()&&this.hideListBox("api")},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(t){if(!this.listBox.items||0!=this.listBox.items.length){if("search"!=t||this.autoComplete||this.remoteAutoComplete||this.autoDropDownHeight&&this.container.css({height:this.listBoxContainer.height()+25}),(this.autoComplete||this.multiSelect&&!this.remoteAutoComplete)&&"search"!=t&&(this._updateItemsVisibility(""),this.multiSelect))for(var i=this.getVisibleItems(),s=0;s<i.length;s++)if(!i[s].disabled){this.ensureVisible(s);break}if(this.remoteAutoComplete&&this.listBox.clearSelection(),"search"!=t&&(this._oldvalue=this.listBox.selectedValue),e.jqx.aria(this,"aria-expanded",!0),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&-1!=this.width.indexOf("%")&&this.listBox.host.width()!=this.host.outerWidth()){var r=this.host.outerWidth();this.listBoxContainer.jqxListBox({width:r}),this.container.css({width:parseInt(r,10)})}var a,o=this,n=this.listBoxContainer,l=this.listBox,h=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),d=parseInt(Math.round(this.host.coord(!0).left));a=d+"px";var c=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();this.ishiding=!1;var u=e.jqx.utilities.hasTransform(this.host);(u||null!=c&&c)&&(a=e.jqx.mobile.getLeftPos(this.element),h=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(h=parseInt(h)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(a=parseInt(a)-this._getBodyOffset().left+"px")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),
this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus")),this.container.css("left",a),this.container.css("top",h),l._arrange();var p=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var m=this.container.outerWidth(),f=Math.abs(m-this.host.width());m>this.host.width()?this.container.css("left",25+parseInt(Math.round(d))-f+"px"):this.container.css("left",25+parseInt(Math.round(d))+f+"px")}if(this.enableBrowserBoundsDetection){var v=this.testOffset(n,{left:parseInt(this.container.css("left")),top:parseInt(h)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=v.top?(p=!0,n.css("top",23),n.addClass(this.toThemeProperty("jqx-popup-up"))):n.css("top",0),this.container.css("top",v.top),this.container.css("top",v.top),parseInt(this.container.css("left"))!=v.left&&this.container.css("left",v.left)}if("none"==this.animationType)this.container.css("display","block"),e.data(document.body,"openedCombojqxListBoxParent",o),e.data(document.body,"openedCombojqxListBox"+o.element.id,n),n.css("margin-top",0),n.css("opacity",1);else{this.container.css("display","block");var g=n.outerHeight();n.stop(),"fade"==this.animationType?(n.css("margin-top",0),n.css("opacity",0),n.animate({opacity:1},this.openDelay,function(){o.isanimating=!1,o.opening=!1,e.data(document.body,"openedCombojqxListBoxParent",o),e.data(document.body,"openedCombojqxListBox"+o.element.id,n)})):(n.css("opacity",1),p?n.css("margin-top",g):n.css("margin-top",-g),this.isanimating=!0,this.opening=!0,n.animate({"margin-top":4},this.openDelay,function(){o.isanimating=!1,o.opening=!1,e.data(document.body,"openedCombojqxListBoxParent",o),e.data(document.body,"openedCombojqxListBox"+o.element.id,n)}))}l._renderItems(),p?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),n.addClass(this.toThemeProperty("jqx-rc-b-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-t-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),n.addClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-b-expanded"))),n.addClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("0",l)}},doMultiSelect:function(t){this.checkboxes&&(this.multiSelect=!1);var i=this;if(!this.multiSelect){var s=i.dropdownlistContent.find(".jqx-button"),r="mousedown";return this.touch&&(r=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(s,r),this.removeHandler(s.find(".jqx-icon-close"),r),s.remove(),this.selectedItems=new Array,void(this._selectedItems=new Array)}if(this.validateSelection){var a=this.validateSelection(this.listBox.selectedValue);if(!a)return}this.selectedItems;if(this.listBox.selectedValue){if(-1===this.selectedItems.indexOf(this.listBox.selectedValue)){var o=this.getItemByValue(this.listBox.selectedValue);o&&o.visible&&(this.selectedItems.push(this.listBox.selectedValue),this._selectedItems.push(o),this._raiseEvent("2",{index:o.index,item:o}),this._raiseEvent("4",{index:o.index,item:o}))}this.listBox.selectedIndex=0}var n=this.listBox.items;if(n){for(var l=0;l<n.length;l++)n[l].disabled=!1,(this.selectedItems.indexOf(n[l].value)>=0||this._disabledItems.indexOf(this.value)>=0)&&(n[l].disabled=!0);this.listBox._renderItems(),this.searchString="",this.input.val("");var n="",r="mousedown",s=i.dropdownlistContent.find(".jqx-button");this.touch&&(r=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(s,r),this.removeHandler(s.find(".jqx-icon-close"),r),s.remove(),i.input.detach(),this.selectedItems.length>0?(i.input.css("width","25px"),i.input.attr("placeholder","")):(i.input.css("width","100%"),i.input.attr("placeholder",this.placeHolder)),e.each(this.selectedItems,function(t){var s=i.getItemByValue(this);(!s||i.remoteAutoComplete)&&(s=i._selectedItems[t]);var r=e('<div style="overflow: hidden; float: left;"></div>');if(r.addClass(i.toThemeProperty("jqx-button")),r.addClass(i.toThemeProperty("jqx-combobox-multi-item")),r.addClass(i.toThemeProperty("jqx-fill-state-normal")),r.addClass(i.toThemeProperty("jqx-rc-all")),s){var a=s.label;if(i.renderSelectedItem){var o=i.renderSelectedItem(t,s);o&&(a=o)}""==r[0].innerHTML&&(r[0].innerHTML='<a data-value="'+s.value+'" style="float: left;" href="#">'+a+"</a>"),i.rtl&&(r[0].innerHTML='<a data-value="'+s.value+'" style="float: right;" href="#">'+a+"</a>");var n=i.rtl?"left":"right";if(i.showCloseButtons){var l='<div style="position: relative; overflow: hidden; float: '+n+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>';if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(l='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>'),i.rtl){var l='<div style="position: relative; overflow: hidden; float: '+n+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>';e.jqx.browser.msie&&e.jqx.browser.version<8&&(l='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+i.toThemeProperty("jqx-icon-close")+'"></div></div>')}r[0].innerHTML+=l}}else""==r[0].innerHTML&&(r[0].innerHTML='<a href="#"></a>');i.dropdownlistContent.append(r)}),i.dropdownlistContent.append(i.input),i.input.val(""),t!==!1&&(i.input.focus(),setTimeout(function(){i.input.focus()},10));var s=i.dropdownlistContent.find(".jqx-button");this.touchMode===!0&&(r="mousedown"),this.addHandler(s,r,function(t){if(t.target.className.indexOf("jqx-icon-close")>=0)return!0;if(i.disabled)return!0;var s=e(t.target).attr("data-value"),r=i.getItemByValue(s);return r&&(i.listBox.selectedValue=null,i.listBox.clearSelection()),i.listBox.scrollTo(0,0),i.open(),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1}),this.addHandler(s.find(".jqx-icon-close"),r,function(t){if(!i.disabled){var s=e(t.target).parent().parent().find("a").attr("data-value"),r=i.getItemByValue(s);if(r||i.remoteAutoComplete&&!r&&i.selectedItems.indexOf(s)>=0){i.listBox.selectedValue=null;var a=i.selectedItems.indexOf(s),o=r&&r.index>=0?r.index:a;if(a>=0){i.selectedItems.splice(a,1);var n=i._selectedItems[a];n||(n=r),i._selectedItems.splice(a,1),i._raiseEvent("3",{index:o,type:"mouse",item:n}),i._raiseEvent("4",{index:o,type:"mouse",item:n}),i.doMultiSelect()}else for(var l=0;l<i.selectedItems.length;l++){var n=i.selectedItems[l];if(n==s){i.selectedItems.splice(l,1),i._selectedItems.splice(l,1),i._raiseEvent("3",{index:o,type:"mouse",item:r}),i._raiseEvent("4",{index:o,type:"mouse",item:r}),i.doMultiSelect();break}}}}}),i.dropdownlistArrow.css({height:this.host.height()}),i._updateInputSelection()}},hideListBox:function(t){var i=this.listBoxContainer,s=this.listBox,r=this.container;if("none"!=this.container[0].style.display){e.jqx.aria(this,"aria-expanded",!1),("keyboard"==t||"mouse"==t)&&(this.listBox.searchString=""),("keyboard"==t||"mouse"==t&&this.multiSelect)&&this.doMultiSelect();var a=this;if(e.data(document.body,"openedCombojqxListBox"+this.element.id,null),"none"==this.animationType)this.opening=!1,this.container.css("display","none");else if(!this.ishiding){var o=i.outerHeight();i.css("margin-top",0),i.stop(),this.opening=!1,this.isanimating=!0;var n=-o;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(n=o),"fade"==this.animationType?(i.css({opacity:1}),i.animate({opacity:0},this.closeDelay,function(){a.isanimating=!1,r.css("display","none"),a.ishiding=!1})):i.animate({"margin-top":n},this.closeDelay,function(){a.isanimating=!1,r.css("display","none"),a.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.focused||(this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus"))),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),i.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),i.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),i.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this._raiseEvent("1",s)}},closeOpenedListBox:function(t){var i=t.data.me,s=e(t.target),r=t.data.listbox;if(null==r)return!0;if(!e(t.target).ischildof(t.data.me.host)){var a=!1;return e.each(s.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return a=!0,!1;if(-1!=this.className.indexOf("jqx-combobox"))return i.element.id==this.id&&(a=!0),!1}}),null==r||a||i.isOpened()&&(i.hideListBox("api"),i.input.blur()),!0}},loadFromSelect:function(e){this.listBox.loadFromSelect(e),this.clearSelection()},refresh:function(e){this._setSize(),this._arrange(),this.listBox&&this.renderSelection()},resize:function(){this._setSize(),this._arrange()},_arrange:function(){var t=parseInt(this.host.width()),i=parseInt(this.host.height()),s=this.arrowSize,r=this.arrowSize,a=1;this.showArrow||(r=0,s=0,this.dropdownlistArrow.hide(),a=0,this.host.css("cursor","arrow"));var o=t-r-1*a;o>0&&(this.dropdownlistContent[0].style.width=o+"px"),this.rtl&&(this.dropdownlistContent[0].style.width=-1+o+"px"),this.dropdownlistContent[0].style.height=i+"px",this.dropdownlistContent[0].style.left="0px",this.dropdownlistContent[0].style.top="0px",this.dropdownlistArrow[0].style.width=r+1+"px",this.dropdownlistArrow[0].style.height=i+"px",this.dropdownlistArrow[0].style.left=1+o+"px",this.input[0].style.width="100%",this.multiSelect||this.input.css({height:i});var n=this.input.height();0==n&&(n=parseInt(this.input.css("font-size"))+3),-1==this.input[0].className.indexOf("jqx-rc-all")&&this.input.addClass(this.toThemeProperty("jqx-rc-all"));var l=parseInt(i)/2-parseInt(n)/2;if(this.rtl&&(this.dropdownlistArrow.css("left","0px"),this.dropdownlistContent.css("left",this.dropdownlistArrow.width()),e.jqx.browser.msie&&e.jqx.browser.version<=8&&this.dropdownlistContent.css("left",1+this.dropdownlistArrow.width())),this.multiSelect){this.input.css("float","left"),this.dropdownlistWrapper.parent().css("height","auto"),this.dropdownlistContent.css("height","auto"),this.dropdownlistWrapper.css("height","auto"),this.dropdownlistContent.css("position","relative"),this.dropdownlistContent.css("cursor","text"),this.host.css("height","auto"),this.host.css("min-height",this.height),this.dropdownlistContent.css("min-height",this.height);var i=parseInt(this.host.height());this.dropdownlistArrow.css({height:i});var h=parseInt(this.host.css("min-height")),l=parseInt(h)/2-parseInt(n)/2;l>0&&this.input.css("margin-top",l)}},destroy:function(){this.source&&this.source.unbindBindingUpdate&&(this.source.unbindBindingUpdate(this.element.id),this.source.unbindBindingUpdate(this.listBoxContainer[0].id),this.source.unbindDownloadComplete(this.element.id),this.source.unbindDownloadComplete(this.listBoxContainer[0].id)),e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandlers(),this.removeHandler(this.input,"keyup.textchange"),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.cinput.remove(),delete this.cinput,this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,this.dropdownlistArrowIcon.remove(),delete this.dropdownlistArrowIcon,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.dropdownlistContent,delete this.comboStructure,this.container.remove(),delete this.listBox,delete this.container;var t=e.data(this.element,"jqxComboBox");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this;var r=new e.Event(s);r.owner=this,(2==t||3==t||4==t||5==t)&&(r.args=i);var a=this.host.trigger(r);return a},propertyChangedHandler:function(t,i,s,r){if(void 0!=t.isInitialized&&0!=t.isInitialized){if("itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:r}),"renderSelectedItem"==i&&t.renderSelection("mouse"),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:r}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:r}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:r}),"touchMode"===i&&(t.listBoxContainer.jqxListBox({touchMode:r}),t.touch=e.jqx.mobile.isTouchDevice(),t.touchMode===!0&&(t.touch=!0),t._updateHandlers()),"multiSelect"==i&&(r?t.doMultiSelect(!1):(t.doMultiSelect(!1),t.dropdownlistWrapper.parent().css("height","100%"),t.dropdownlistContent.css("height","100"),t.dropdownlistWrapper.css("height","100"),t.dropdownlistContent.css("position","relative"),t.host.css("min-height",null),t._setSize(),t._arrange())),"showArrow"==i&&(t._arrange(),t.multiSelect&&t.doMultiSelect(!1)),"placeHolder"==i&&t.input.attr("placeholder",t.placeHolder),"popupZIndex"==i&&t.listBoxContainer.css({zIndex:t.popupZIndex}),"promptText"==i&&(t.placeHolder=r),"autoOpen"==i&&t._updateHandlers(),"renderer"==i&&(t.listBox.renderer=t.renderer),"itemHeight"==i&&(t.listBox.itemHeight=r),"source"==i&&(t.input.val(""),t.listBoxContainer.jqxListBox({source:t.source}),t.renderSelection("mouse"),null==t.source&&t.clearSelection(),t.multiSelect&&(t.selectedItems=new Array,t._selectedItems=new Array,t.doMultiSelect(!1))),"rtl"==i&&(r?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),("displayMember"==i||"valueMember"==i)&&(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection("mouse")),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.css({height:t.listBoxContainer.height()+25}):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.css({height:parseInt(t.dropDownHeight)+25})),t.listBox._arrange(),t.listBox._updatescrollbars()),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.css({height:parseInt(t.dropDownHeight)+25}))),"dropDownWidth"==i||"scrollBarSize"==i){var a=t.width;"auto"!=t.dropDownWidth&&(a=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:a,scrollBarSize:t.scrollBarSize}),t.container.css({width:parseInt(a)+25})}if("autoComplete"==i&&t._resetautocomplete(),"checkboxes"==i&&(t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),t.checkboxes?(t.input.attr("readonly",!0),e.jqx.aria(t,"aria-readonly",!0)):e.jqx.aria(t,"aria-readonly",!1)),"theme"==i&&null!=r&&(t.listBoxContainer.jqxListBox({theme:r}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),e.jqx.utilities.setTheme(s,r,t.host)),"rtl"==i&&(t.render(),t.refresh()),"width"==i||"height"==i){if(t._setSize(),"width"==i&&"auto"==t.dropDownWidth){var a=t.host.width();t.listBoxContainer.jqxListBox({width:a}),t.container.css({width:parseInt(a)+25})}t._arrange()}"selectedIndex"==i&&(t.listBox.selectIndex(r),t.renderSelection("mouse"))}}})}(jqxBaseFramework),function(e){function t(t){return function(i,s){"string"!=typeof i&&(s=i,i="*");var r,a,o,n=i.toLowerCase().split(x),l=0,h=n.length;if(e.isFunction(s))for(;h>l;l++)r=n[l],o=/^\+/.test(r),o&&(r=r.substr(1)||"*"),a=t[r]=t[r]||[],a[o?"unshift":"push"](s)}}function i(e,t,s,r,a,o){a=a||t.dataTypes[0],o=o||{},o[a]=!0;for(var n,l=e[a],h=0,d=l?l.length:0,c=e===b;d>h&&(c||!n);h++)n=l[h](t,s,r),"string"==typeof n&&(!c||o[n]?n=void 0:(t.dataTypes.unshift(n),n=i(e,t,s,r,n,o)));return!c&&n||o["*"]||(n=i(e,t,s,r,"*",o)),n}function s(t,i){var s,r,a=e.jqx.data.ajaxSettings.flatOptions||{};for(s in i)void 0!==i[s]&&((a[s]?t:r||(r={}))[s]=i[s]);r&&e.extend(!0,t,r)}function r(e,t,i){var s,r,a,o,n=e.contents,l=e.dataTypes,h=e.responseFields;for(r in h)r in i&&(t[h[r]]=i[r]);for(;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("content-type"));if(s)for(r in n)if(n[r]&&n[r].test(s)){l.unshift(r);break}if(l[0]in i)a=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}return a?(a!==l[0]&&l.unshift(a),i[a]):void 0}function a(e,t){var i,s,r,a,o=e.dataTypes.slice(),n=o[0],l={},h=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),o[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(;r=o[++h];)if("*"!==r){if("*"!==n&&n!==r){if(i=l[n+" "+r]||l["* "+r],!i)for(s in l)if(a=s.split(" "),a[1]===r&&(i=l[n+" "+a[0]]||l["* "+a[0]])){i===!0?i=l[s]:l[s]!==!0&&(r=a[0],o.splice(h--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(d){return{state:"parsererror",error:i?d:"No conversion from "+n+" to "+r}}}n=r}return{state:"success",data:t}}function o(){try{return new window.XMLHttpRequest}catch(e){}}function n(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}e.jqx.observableArray=function(t,i){if("string"==typeof t&&(t=e.parseJSON(t)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var s=Object.defineProperty;Object.defineProperty=function(e,t,i){if(s)try{return s(e,t,i)}catch(r){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(e,t,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(e,t,i.set),"value"in i?e[t]=i.value:e[t]||(e[t]=i),e}}Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();var s,r=arguments[1];for(s=0;i>s;s++)s in t&&e.call(r,t[s],s,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i});var r,a=this,o=[];a.notifier=null,a.name="observableArray",a.observing=!0,a.changes=new Array;var i=i;return a.observe=function(){a.observing=!0,1==arguments.length&&(i=arguments[0])},a.unobserve=function(){a.observing=!1},a.toArray=function(){return o.slice(0)},a.toJSON=function(e,t){function i(e){return'"'+e.replace(u,function(e){var t=p[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function s(e){return 10>e?"0"+e:e}function r(e){var t;return t=isFinite(e.valueOf())?e.getUTCFullYear()+"-"+s(e.getUTCMonth()+1)+"-"+s(e.getUTCDate())+"T"+s(e.getUTCHours())+":"+s(e.getUTCMinutes())+":"+s(e.getUTCSeconds())+'Z"':"null"}function a(e){var t,i=e.length,s=[];for(t=0;i>t;t++)s.push(d(t,e)||"null");return"["+s.join(",")+"]"}function n(t){var s,r,a=[];for(s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(""!=s&&e&&-1===e.indexOf(s))continue;r=d(s,t),r&&a.push(i(s)+":"+r)}return"{"+a.join(",")+"}"}function l(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return r(e);case"[object Array]":return a(e)}return n(e)}function h(e,t){switch(t){case"string":return i(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}function d(e,t){var i=t[e],s=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(e),s=typeof i),/(number|float|int|integer|string|boolean)/.test(s)||!i&&"object"===s?h(i,s):l(i)}var c=o;t&&(c=t);var u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return!e&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(c):d("",{"":c})},a.defineIndexProperty=function(t){if(!(t in a)){var i=function(t,i,s,n){var l=t[i],h=l,d=function(){return h},c=function(t){if(l=t,h!==l){var s=h;if(h=l,"function"==typeof r){var d=o.indexOf(n),c="",u=function(t,s){Object.getOwnPropertyNames(t).forEach(function(r){var a=e.type(t[r]);"array"==a||"object"==a?u(t[r],s+"."+r):i===r&&(c=s+"."+r)})};u(n,d),r({object:a,type:"update",path:c,index:d,name:i,newValue:l,oldValue:s})}}return h=l,l};t[i]&&"length"!=i&&(Object.defineProperty?Object.defineProperty(t,i,{get:d,set:c}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(t,i,d),Object.prototype.__defineSetter__.call(t,i,c)))},s=function(t,r,a){var o=e.type(t);/(number|float|int|integer|string|boolean)/.test(o)||void 0!==t&&Object.getOwnPropertyNames(t).forEach(function(o){var n=e.type(t[o]);"array"==n||"object"==n?(i(t,o,r+"."+o,a),s(t[o],r+"."+o,a)):i(t,o,r+"."+o,a)})};Object.defineProperty(a,t,{configurable:!0,enumerable:!0,get:function(){return o[t]},set:function(e){var i=o[t];a.toJSON(null,i)!=a.toJSON(null,e)&&(o[t]=e,"function"==typeof r&&r({object:a,type:"update",path:t.toString(),index:t,name:"index",newValue:e,oldValue:i}),s(e,t,e))}}),s(a[t],t,a[t])}},a.push=function(){for(var e,t=0,i=arguments.length;i>t;t++)e=o.length,o.push(arguments[t]),a.defineIndexProperty(e),"function"==typeof r&&r({object:a,type:"add",name:"length",index:e,newValue:o.length,oldValue:e});return o.length},a.pop=function(){if(~o.length){var e=o.length-1,t=o.pop();return delete a[e],"function"==typeof r&&r({object:a,type:"delete",name:"length",index:e,newValue:o.length,oldValue:e}),t}},a.unshift=function(){for(var e=o.length,t=0,i=arguments.length;i>t;t++)o.splice(t,0,arguments[t]),a.defineIndexProperty(o.length-1);return"function"==typeof r&&r({object:a,type:"add",index:0,name:"length",newValue:o.length,oldValue:e}),o.length},a.shift=function(){var e=o.length;if(~o.length){var t=o.shift();return 0===o.length&&delete a[e],"function"==typeof r&&r({object:a,type:"delete",index:e,name:"length",newValue:o.length,oldValue:e}),t}},a.slice=function(t,i,s){var r=o.slice(t,i),a=new e.jqx.observableArray(r,s);return a},a.splice=function(t,i,s){var n,l=[];for(t=~t?t:o.length-t,i=(null==i?o.length-t:i)||0;i--;)n=o.splice(t,1)[0],l.push(n),delete a[o.length],"function"==typeof r&&r({object:a,type:"delete",index:t,name:"length",newValue:-1,oldValue:t});for(var h=2,d=arguments.length;d>h;h++)o.splice(t,0,arguments[h]),defineIndexProperty(o.length-1),"function"==typeof r&&r({object:a,type:"add",index:t,name:"length",newValue:o.length-1,oldValue:t}),t++;var c=new e.jqx.observableArray(l,s);return c},Object.defineProperty(a,"length",{configurable:!1,enumerable:!0,get:function(){return o.length},set:function(e){var t=Number(e);if(!(t%1===0&&t>=0))throw new RangeError("Invalid array length");return t<o.length?a.splice(t):t>o.length&&a.push.apply(a,new Array(t-o.length)),e}}),e.jqx.observableArray.prototype.fromArray=function(t,i){var s=new e.jqx.observableArray(t,i);return s},e.jqx.observableArray.prototype.clone=function(){var t=new e.jqx.observableArray(o,i);return t.observing=a.observing,t.changes=a.changes,t.notifier=a.notifier,t},a.remove=function(e){if(0>e||e>=a.length)throw new Error("Invalid index : "+e);if(a.hasOwnProperty(e)){var t=a[e];return a[e]=void 0,o[e]=void 0,"function"==typeof r&&r({object:a,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0}return!1},a.concat=function(t,i){var s=o.concat(t),r=new e.jqx.observableArray(s,i);return r},Object.getOwnPropertyNames(Array.prototype).forEach(function(e){if(!(e in a)){var t=function(){var t=a.observing;a.observing=!1;var i=o[e],s=i.apply(o,arguments);return a.observing=t,s};Object.defineProperty(a,e,{configurable:!1,enumerable:!0,writeable:!1,value:t})}}),a.set=function(t,i){if("string"==e.type(t)&&t.split(".").length>1){for(var s=t.split("."),r=a,o=0;o<s.length;o++){if(0===o&&s[o]>=a.length)throw new Error("Invalid Index: "+t);o<s.length-1?r=r[s[o]]:r[s[o]]=i}return!0}return t>=a.length?a.push(i):a[t]=i,!0},a.get=function(e){return a[e]},t instanceof Array&&a.push.apply(a,t),r=function(){a.observing&&(arguments&&arguments[0]&&a.changes.push(arguments[0]),i&&i.apply(a,arguments),a.notifier&&a.notifier.apply(a,arguments))},a},e.jqx.formatDate=function(t,i,s){var r=e.jqx.dataFormat.formatdate(t,i,s);return r},e.jqx.formatNumber=function(t,i,s){var r=e.jqx.dataFormat.formatnumber(t,i,s);return r},e.jqx.dataAdapter=function(t,i){if(void 0!=t&&(void 0!==t.dataFields&&(t.datafields=t.dataFields),void 0!==t.dataType&&(t.datatype=t.dataType),void 0!==t.localData&&(t.localdata=t.localData),void 0!==t.sortColumn&&(t.sortcolumn=t.sortColumn),void 0!==t.sortDirection&&(t.sortdirection=t.sortDirection),void 0!==t.sortOrder&&(t.sortdirection=t.sortOrder),void 0!==t.formatData&&(t.formatdata=t.formatData),void 0!==t.processData&&(t.processdata=t.processData),void 0!==t.pageSize&&(t.pagesize=t.pageSize),void 0!==t.pageNum&&(t.pagenum=t.pageNum),void 0!==t.updateRow&&(t.updaterow=t.updateRow),void 0!==t.addRow&&(t.addrow=t.addRow),void 0!==t.deleteRow&&(t.deleterow=t.deleteRow),void 0!==t.contentType&&(t.contenttype=t.contentType),void 0!=t.totalRecords&&(t.totalrecords=t.totalRecords),void 0!=t.loadError&&(t.loadError=t.loadError),void 0!=t.sortComparer&&(t.sortcomparer=t.sortComparer)),this._source=t,this._options=i||{},void 0!=t.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),void 0!=t.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),void 0!=t.loadComplete&&(this._options.loadComplete=this._source.loadComplete),void 0!=t.autoBind&&(this._options.downloadComplete=this._source.autoBind),void 0!=t.formatData&&(this._options.formatData=this._source.formatData),void 0!=t.loadError&&(this._options.loadError=this._source.loadError),void 0!=t.beforeSend&&(this._options.beforeSend=this._source.beforeSend),void 0!=t.contentType&&(this._options.contentType=this._source.contentType),void 0!=t.async&&(this._options.async=this._source.async),void 0!=t.loadServerData&&(this._options.loadServerData=this._source.loadServerData),void 0!=t.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,void 0!=t&&null!=t.localdata&&"function"==typeof t.localdata){var s=t.localdata();if(null!=s){t._localdata=t.localdata;var r=this;t._localdata.subscribe&&(r._oldlocaldata=[],t._localdata.subscribe(function(t){var i=function(t){return e.isArray(t)?e.makeArray(i(e(t))):e.extend(!0,{},t)};(0==r.suspendKO||void 0==r.suspendKO||0==r._oldlocaldata.length)&&(r._oldlocaldata=i(t))},t._localdata,"beforeChange"),t._localdata.subscribe(function(e){if(0==r.suspendKO||void 0==r.suspendKO){var i="";r._oldrecords=r.records,0==r._oldlocaldata.length&&(t.localdata=t._localdata()),0==r._oldlocaldata.length?i="change":e&&(r._oldlocaldata.length==e.length&&(i="update"),r._oldlocaldata.length>e.length&&(i="remove"),r._oldlocaldata.length<e.length&&(i="add")),r.dataBind(null,i)}},t._localdata,"change"),r._knockoutdatasource=!0),t.localdata=s}}1==this._options.autoBind&&this.dataBind()},e.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,i,s){var r=e.jqx.dataFormat.formatdate(t,i,s);return r},formatNumber:function(t,i,s){var r=e.jqx.dataFormat.formatnumber(t,i,s);return r},dataBind:function(t,i){if(1!=this.isUpdating){var s=this._source;if(s){s.generatedfields&&(s.datafields=null,s.generatedfields=null),e.jqx.dataFormat.datescache=new Array,null!=s.dataFields&&(s.datafields=s.dataFields),void 0==s.recordstartindex&&(s.recordstartindex=0),void 0==s.recordendindex&&(s.recordendindex=0),void 0==s.loadallrecords&&(s.loadallrecords=!0),void 0==s.root&&(s.root=""),void 0==s.record&&(s.record=""),void 0!=s.sort&&(this.sort=s.sort),void 0!=s.filter?this.filter=s.filter:this.filter=null,void 0!=s.sortcolumn&&(this.sortcolumn=s.sortcolumn),void 0!=s.sortdirection&&(this.sortdirection=s.sortdirection),void 0!=s.sortcomparer&&(this.sortcomparer=s.sortcomparer),this.records=new Array;var r=this._options||{};if(this.virtualmode=void 0!=r.virtualmode?r.virtualmode:!1,this.totalrecords=void 0!=r.totalrecords?r.totalrecords:0,this.pageable=void 0!=r.pageable?r.pageable:!1,this.pagesize=void 0!=r.pagesize?r.pagesize:0,this.pagenum=void 0!=r.pagenum?r.pagenum:0,this.cachedrecords=void 0!=r.cachedrecords?r.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=r.updaterow?r.updaterow:null,this.addrow=void 0!=r.addrow?r.addrow:null,this.deleterow=void 0!=r.deleterow?r.deleterow:null,this.cache=void 0!=r.cache?r.cache:!1,this.unboundmode=!1,void 0!=s.formatdata&&(r.formatData=s.formatdata),void 0!=s.data&&(void 0==r.data&&(r.data={}),e.extend(r.data,s.data)),void 0!=s.mapchar?this.mapChar=s.mapchar?s.mapchar:">":this.mapChar=r.mapChar?r.mapChar:">",(r.unboundmode||s.unboundmode)&&(this.unboundmode=r.unboundmode||s.unboundmode),void 0!=s.cache&&(this.cache=s.cache),this.koSubscriptions)for(var a=0;a<this.koSubscriptions.length;a++)this.koSubscriptions[a].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var o=this,n=s.datatype;("csv"===s.datatype||"tab"===s.datatype||"tsv"===s.datatype||"text"==s.datatype)&&(n="text");var l=void 0!=r.async?r.async:!0;switch(void 0!=s.async&&(l=s.async),n){case"local":case"array":case"observablearray":case"observableArray":default:if(void 0==s.localdata&&s.length){s.localdata=new Array;for(var h=0;h<s.length;h++)s.localdata[s.localdata.length]=s[h],s[h].uid=h}s.beforeprocessing&&e.isFunction(s.beforeprocessing)&&s.beforeprocessing(s.localdata);var d=s.localdata.length;if(this.totalrecords=this.virtualmode?s.totalrecords||d:d,this.unboundmode){this.totalrecords=this.unboundmode?s.totalrecords||d:d;
var c=s.datafields?s.datafields.length:0;if(c>0)for(var h=0;h<this.totalrecords;h++){for(var u={},p=0;c>p;p++)u[s.datafields[p].name]="";u.uid=h,s.localdata[s.localdata.length]=u}}void 0==this.totalrecords&&(this.totalrecords=0);var c=s.datafields?s.datafields.length:0,m=function(t,i){for(var r={},a=0;i>a;a++){var n=s.datafields?s.datafields[a]:{},l="";if(void 0!=n&&null!=n){if(n.map){if(e.isFunction(n.map))l=n.map(t);else{var h=n.map.split(o.mapChar);if(h.length>0){for(var d=t,c=0;c<h.length;c++)d&&(d=d[h[c]]);l=d}else l=t[n.map]}void 0!=l&&null!=l?l=l.toString():void 0==l&&null!=l&&(l="")}var u=!1;""==l&&(u=!0,l=t[n.name],void 0!=l&&null!=l&&(s._localdata&&l.subscribe?l=l():"array"!=n.type&&(l=l.toString()))),"[object Object]"==l&&n.map&&u&&(l=""),l=o.getvaluebytype(l,n),void 0!=n.displayname?r[n.displayname]=l:r[n.name]=l}}return r};if(s._localdata){this._changedrecords=[],this.records=new Array;var f=s._localdata();if(e.each(f,function(t,r){if("string"==typeof r)o.records.push(r);else{var a={},n=0,l=this;e.each(this,function(i,r){var h=null,d="string",u=i;if(c>0){for(var p=!1,m=!1,f=0;c>f;f++){var v=s.datafields[f];if(void 0!=v&&v.name==i){p=!0,h=v.map,d=v.type,u=v.name;break}if(void 0!=v&&v.map&&v.map.indexOf(i)>=0){p=!0,h=v.map,d=v.type,u=v.name,m=!0;var g=l[i];if(null!=h){var x=h.split(o.mapChar);if(x.length>0){for(var b=l,y=0;y<x.length;y++)b=b[x[y]];g=b}else g=l[h]}"string"!=d&&(g=o.getvaluebytype(g,{type:d})),a[u]=g,void 0!=a[u]&&(n+=a[u].toString().length+a[u].toString().substr(0,1))}}if(!p)return!0;if(m)return!0}var w=e.isFunction(l[i]);if(w){var g=l[i]();if("string"!=d&&(g=o.getvaluebytype(g,{type:d})),a[i]=g,l[i].subscribe){var _=t;o.koSubscriptions[o.koSubscriptions.length]=l[i].subscribe(function(e){var t=_;a[i]=e;var s={index:t,oldrecord:a,record:a};return o._changedrecords.push(s),o.isUpdating?void 0:(o.callBindingUpdate("update"),o._changedrecords=[],!1)})}}else{var g=l[i];if(null!=h){var x=h.split(o.mapChar);if(x.length>0){for(var b=l,y=0;y<x.length;y++)b=b[x[y]];g=b}else g=l[h]}"string"!=d&&(g=o.getvaluebytype(g,{type:d})),a[u]=g,void 0!=a[u]&&(n+=a[u].toString().length+a[u].toString().substr(0,1))}});var h=o.getid(s.id,l,t);if(a.uid=h,o.records.push(a),a._koindex=n,o._oldrecords){var d=o.records.length-1;if("update"==i&&o._oldrecords[d]._koindex!=n){var u={index:d,oldrecord:o._oldrecords[d],record:a};o._changedrecords.push(u)}}}}),"add"==i)for(var d=o.records.length,h=0;d>h;h++){for(var u=o.records[h],v=!1,g=0;g<o._oldrecords.length;g++)if(o._oldrecords[g]._koindex===u._koindex){v=!0;break}v||o._changedrecords.push({index:h,oldrecord:null,record:u,position:0!=h?"last":"first"})}else if("remove"==i)for(var d=o._oldrecords.length,h=0;d>h;h++){var x=o._oldrecords[h];o.records[h]?o.records[h]._koindex!=x._koindex&&o._changedrecords.push({index:h,oldrecord:x,record:null}):o._changedrecords.push({index:h,oldrecord:x,record:null})}}else if(e.isArray(s.localdata))if(0==c){var b=0,y=new Array;e.each(s.localdata,function(t,i){var r=e.extend({},this);if("string"==typeof i)return o.records=s.localdata,!1;var a=o.getid(s.id,r,t);if("object"==typeof a&&(a=t),r.uid=a,0==t){for(var n in this){b++;var l=e.type(this[n]);y.push({name:n,type:l})}c=b,s.datafields=y,s.generatedfields=y}if(c>0){var h=m(r,c);h.uid=a,o.records[o.records.length]=h}else o.records[o.records.length]=r})}else e.each(s.localdata,function(t){var i=this,r=m(i,c),a=o.getid(s.id,r,t);"object"==typeof a&&(a=t);var i=e.extend({},r);i.uid=a,o.records[o.records.length]=i});else{this.records=new Array;var b=0,y=new Array;e.each(s.localdata,function(t){var i=o.getid(s.id,this,t);if(0==c&&!("string"==typeof this||this instanceof String)){for(var r in this){b++;var a=e.type(this[r]);y.push({name:r,type:a})}c=b,s.datafields=y,s.generatedfields=y}if(c>0){var n=this,l=m(n,c);l.uid=i,o.records[o.records.length]=l}else this.uid=i,o.records[o.records.length]=this})}if(this.originaldata=s.localdata,this.cachedrecords=this.records,this.addForeignValues(s),r.uniqueDataFields){var w=this.getUniqueRecords(this.records,r.uniqueDataFields);this.records=w,this.cachedrecords=w}if(r.beforeLoadComplete){var _=r.beforeLoadComplete(o.records,this.originaldata);void 0!=_&&(o.records=_,o.cachedrecords=_)}if(r.autoSort&&r.autoSortField){var T=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[r.autoSortField]},o.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(t=t.toString(),i=i.toString(),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(i>t)return-1;if(t>i)return 1}catch(s){}return 0}),Object.prototype.toString=T}o.loadedData=s.localdata,o.buildHierarchy(),e.isFunction(r.loadComplete)&&r.loadComplete(s.localdata,o.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=s.localdata&&!s.url){if(e.isFunction(s.beforeprocessing)&&s.beforeprocessing(s.localdata),"xml"===s.datatype?o.loadxml(s.localdata,s.localdata,s):"text"===n?o.loadtext(s.localdata,s):"ics"===n?o.loadics(s.localdata,s):o.loadjson(s.localdata,s.localdata,s),o.addForeignValues(s),r.uniqueDataFields){var w=o.getUniqueRecords(o.records,r.uniqueDataFields);o.records=w,o.cachedrecords=w}if(r.beforeLoadComplete){var _=r.beforeLoadComplete(o.records,this.originaldata);void 0!=_&&(o.records=_,o.cachedrecords=_)}return o.loadedData=s.localdata,o.buildHierarchy.call(o),e.isFunction(r.loadComplete)&&r.loadComplete(s.localdata,o.records),void o.callBindingUpdate(i)}var j=void 0!=r.data?r.data:{};if(s.processdata&&s.processdata(j),e.isFunction(r.processData)&&r.processData(j),e.isFunction(r.formatData)){var q=r.formatData(j);void 0!=q&&(j=q)}var I="application/x-www-form-urlencoded";r.contentType&&(I=r.contentType);var C="GET";s.type&&(C=s.type),r.type&&(C=r.type);var S=n;if("ics"==n&&(S="text"),s.url&&s.url.length>0)e.isFunction(r.loadServerData)?o._requestData(j,s,r):this.xhr=e.jqx.data.ajax({dataType:S,cache:this.cache,type:C,url:s.url,async:l,timeout:s.timeout,contentType:I,data:j,success:function(t,i,a){if(e.isFunction(s.beforeprocessing)){var l=s.beforeprocessing(t,i,a);void 0!=l&&(t=l)}if(e.isFunction(r.downloadComplete)){var l=r.downloadComplete(t,i,a);void 0!=l&&(t=l)}if(null==t)return o.records=new Array,o.cachedrecords=new Array,o.originaldata=new Array,o.callDownloadComplete(),void(e.isFunction(r.loadComplete)&&r.loadComplete(new Array));var h=t;if(t.records&&(h=t.records),void 0!=t.totalrecords?s.totalrecords=t.totalrecords:void 0!=t.totalRecords&&(s.totalrecords=t.totalRecords),"xml"===s.datatype?o.loadxml(null,h,s):"text"===n?o.loadtext(h,s):"ics"===n?o.loadics(h,s):o.loadjson(null,h,s),o.addForeignValues(s),r.uniqueDataFields){var d=o.getUniqueRecords(o.records,r.uniqueDataFields);o.records=d,o.cachedrecords=d}if(r.beforeLoadComplete){var c=r.beforeLoadComplete(o.records,t);void 0!=c&&(o.records=c,o.cachedrecords=c)}o.loadedData=t,o.buildHierarchy.call(o),o.callDownloadComplete(),e.isFunction(r.loadComplete)&&r.loadComplete(t,i,a,o.records)},error:function(t,i,a){e.isFunction(s.loaderror)&&s.loaderror(t,i,a),e.isFunction(r.loadError)&&r.loadError(t,i,a),t=null,o.callDownloadComplete()},beforeSend:function(t,i){e.isFunction(r.beforeSend)&&r.beforeSend(t,i),e.isFunction(s.beforesend)&&s.beforesend(t,i)}});else if(o.buildHierarchy(new Array),o.callDownloadComplete(),e.isFunction(r.loadComplete)){if(!D)var D={};r.loadComplete(D)}}this.callBindingUpdate(i)}}},buildHierarchy:function(e){var t=this._source,i=new Array;if(t.datafields){if(t.hierarchy&&!t.hierarchy.reservedNames)t.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(t.hierarchy){var s=t.hierarchy.reservedNames;s.leaf||(s.leaf="leaf"),s.parent||(s.parent="parent"),s.expanded||(s.expanded="expanded"),s.checked||(s.checked="checked"),s.selected||(s.selected="selected"),s.level||(s.level="level"),s.data||(s.data="data")}if(t.hierarchy){var r=this,s=t.hierarchy.reservedNames;if(t.hierarchy.root){if("xml"==t.dataType){var i=this.getRecordsHierarchy("uid","parentuid","records",null,e);return this.hierarchy=i,i}this.hierarchy=this.records;for(var a=t.hierarchy.root,o=0;o<this.records.length;o++){var n=this.records[o];if(n){var l=function(e){if(t.hierarchy.record)e.records=e[a][t.hierarchy.record];else{var i=a.split(r.mapChar),o=null;if(i.length>1){for(var n=e,l=0;l<i.length;l++)void 0!=n&&(n=n[i[l]]);o=n}else o=e[a];e.records=o}(null==e.records||e.records&&0==e.records.length)&&(e[s.leaf]=!0)};l(n),n[s.level]=0;var h=this.getid(t.id,n,o);n.uid=h,n[s.parent]=null,n[s.data]=n,void 0===n[s.expanded]&&(n[s.expanded]=!1);var d=function(e,i){if(!i)return void(e.records=new Array);for(var a=0;a<i.length;a++){var o=i[a];if(o){l(o),o[s.level]=e[s.level]+1,o[s.parent]=e,o[s.data]=o;var n=r.getid(t.id,o,a);n==a&&null==t.id?o.uid=e.uid+"_"+n:o.uid=n,void 0===o[s.expanded]&&(o[s.expanded]=!1),d(o,o.records)}}};d(n,n.records)}}return this.hierarchy}if(t.hierarchy.keyDataField&&t.hierarchy.parentDataField){var i=this.getRecordsHierarchy(t.hierarchy.keyDataField.name,t.hierarchy.parentDataField.name,"records",null,e);return this.hierarchy=i,i}if(t.hierarchy.groupingDataFields){for(var c=new Array,o=0;o<t.hierarchy.groupingDataFields.length;o++)c.push(t.hierarchy.groupingDataFields[o].name);var i=this.getGroupedRecords(c,"records","label",null,"data",null,"parent",e);return this.hierarchy=i,i}}}},addRecord:function(e,t,i,s){var r=this,a=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(void 0!=e){if(void 0==i){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||s)){var o=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;null==o&&(o=a()),e[o.level]=0,"last"==t?this.hierarchy.push(e):"number"==typeof t&&isFinite(t)?this.hierarchy.splice(t,0,e):this.hierarchy.splice(0,0,e)}else"last"==t?this.records.push(e):"number"==typeof t&&isFinite(t)?this.records.splice(t,0,e):this.records.splice(0,0,e);return!0}if(this.hierarchy.length>0){var n=function(s){if(s)for(var o=0;o<s.length;o++){var l=s[o];if(l.uid==i){var h=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;return null==h&&(h=a()),e[h.parent]=l,e[h.level]=l[h.level]+1,l.records?l[h.leaf]=!1:(l.records=new Array,l[h.leaf]=!1),"last"==t?l.records.push(e):"number"==typeof t&&isFinite(t)?l.records.splice(t,0,e):l.records.splice(0,0,e),!0}l.records&&n(l.records)}};n(this.hierarchy)}}return!1},deleteRecord:function(e){var t=this;if(this.hierarchy.length>0){var i=function(s){if(s)for(var r=0;r<s.length;r++){var a=s[r];if(a.uid==e){s.splice(r,1),t.recordids[e]&&delete t.recordids[e];var o=function(e){for(var i=0;i<e.length;i++){for(var s=e[i].uid,r=0;r<t.records.length;r++){var a=t.records[r];if(a.uid==s){t.records.splice(r,1);break}}e[i].records&&o(e[i].records)}};a.records&&o(a.records);for(var n=0;n<t.records.length;n++){var a=t.records[n];if(a.uid==e){t.records.splice(n,1);break}}return!0}a.records&&i(a.records)}};i(this.hierarchy)}else for(var s=0;s<this.records.length;s++){var r=this.records[s];if(r.uid==e)return this.records.splice(s,1),!0}return!1},addForeignValues:function(e){for(var t=this,i=e.datafields?e.datafields.length:0,s=0;i>s;s++){var r=e.datafields[s];if(void 0!=r)if(void 0!=r.values){void 0==r.value&&(r.value=r.name),void 0==r.values.value&&(r.values.value=r.value);var a,o,n=new Array;t.pageable&&t.virtualmode?(a=t.pagenum*t.pagesize,o=a+t.pagesize,o>t.totalrecords&&(o=t.totalrecords)):t.virtualmode?(a=e.recordstartindex,o=e.recordendindex,o>t.totalrecords&&(o=t.totalrecords)):(a=0,o=t.records.length);for(var l=a;o>l;l++){var h=t.records[l],d=r.name,c=h[r.value];if(void 0!=n[c])h[d]=n[c];else for(var u=0;u<r.values.source.length;u++){var p=r.values.source[u],m=p[r.values.value];if(void 0==m&&(m=p.uid),m==c){var f=p[r.values.name];h[d]=f,n[c]=f;break}}}}else if(void 0!=r.value)for(var l=0;l<t.records.length;l++){var h=t.records[l];h[r.name]=h[r.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(t,i,s){var r=this,a=function(t){if(t.totalrecords&&(i.totalrecords=t.totalrecords,r.totalrecords=t.totalrecords),t.records&&(r.records=t.records,r.cachedrecords=t.records),r.addForeignValues(i),s.uniqueDataFields){var a=r.getUniqueRecords(r.records,s.uniqueDataFields);r.records=a,r.cachedrecords=a}if(s.beforeLoadComplete){var o=s.beforeLoadComplete(r.records,data);void 0!=o&&(r.records=o,r.cachedrecords=o)}for(var n=0;n<r.records.length;n++){var l=r.records[n];void 0!=l&&void 0==l.uid&&(l.uid=r.getid(i.id,l,n))}r.buildHierarchy.call(r),e.isFunction(s.loadComplete)&&s.loadComplete(t),r.callDownloadComplete()};s.loadServerData(t,i,a)},getUniqueRecords:function(e,t){if(e&&t)for(var i=e.length,s=t.length,r=new Array,a=new Array,o=0;i>o;o++){var n=e[o],l="";if(void 0!=n){for(var h=0;s>h;h++){var d=t[h];l+=n[d]+"_"}a[l]||(r[r.length]=n),a[l]=!0}}return r},getAggregatedData:function(t,i,s,r){var a=s;a||(a=this.records);var o={},n=new Array,l=a.length;if(0!=l&&void 0!=l){for(var h=0;l>h;h++)for(var d=a[h],c=0;c<t.length;c++){var u=t[c],p=d[u.name];if(u.aggregates){o[u.name]=o[u.name]||{},n[u.name]=n[u.name]||0,n[u.name]++;var m=function(t){for(obj in t){var i=o[u.name][obj];null==i&&(o[u.name][obj]=0,i=0),e.isFunction(t[obj])&&(i=t[obj](i,p,u.name,d,r)),o[u.name][obj]=i}},f=parseFloat(p);f=isNaN(f)?!1:!0,f&&(p=parseFloat(p)),"number"==typeof p&&isFinite(p)?e.each(u.aggregates,function(){var e=o[u.name][this];if(null==e&&(e=0,"min"==this&&(e=9999999999999),"max"==this&&(e=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(p);else if("product"==this)0==h?e=parseFloat(p):e*=parseFloat(p);else if("min"==this)e=Math.min(e,parseFloat(p));else if("max"==this)e=Math.max(e,parseFloat(p));else if("count"==this)e++;else if("object"==typeof this)return void m(this);o[u.name][this]=e}):e.each(u.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===p)return!0;var e=o[u.name][this];return null==e&&(e=0),o[u.name][this]=e,!0}"object"==typeof this&&m(this)})}}for(var c=0;c<t.length;c++){var u=t[c];if(o[u.name]||(o[u.name]={},e.each(u.aggregates,function(e){o[u.name][this]=0})),void 0!=o[u.name].avg){var p=o[u.name].avg,v=n[u.name];0===v||void 0==v?o[u.name].avg=0:o[u.name].avg=p/v}else void 0!=o[u.name].count&&(o[u.name].count=l);(o[u.name].stdev||o[u.name].stdevp||o[u.name]["var"]||o[u.name].varp)&&e.each(u.aggregates,function(e){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var t=o[u.name][this],i=l,s=t/l,r=0,n=0;l>n;n++){var h=a[n],d=h[u.name];r+=(d-s)*(d-s)}var c="stdevp"==this||"varp"==this?i:i-1;0==c&&(c=1),"var"==this||"varp"==this?o[u.name][this]=r/c:("stdevp"==this||"stdev"==this)&&(o[u.name][this]=Math.sqrt(r/c))}}),u.formatStrings&&e.each(u.aggregates,function(t){var s=u.formatStrings[t];if(s)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var r=o[u.name][this];o[u.name][this]=e.jqx.dataFormat.formatnumber(r,s,i)}else if("object"==typeof this)for(obj in this){var r=o[u.name][obj];o[u.name][obj]=e.jqx.dataFormat.formatnumber(r,s,i)}})}return o}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(t,i,s,r,a,o,n,l,h){var d=this;h||(h=0);for(var c=new Array,u=0;u<t.length;u++)c[u]=d.generatekey();i||(i="items"),s||(s="group"),a||(a="record"),n||(n="parentItem"),void 0===o&&(o="value");var p=new Array,m=0,f=new Array,v=t.length;new Array;if(!l)var l=this.records;for(var g=l.length,x=function(t){var i=t;return r&&e.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},b=0;g>b;b++){var y=x(l[b]);id=y[d.uniqueId];var w=new Array,_=0;for(u=0;v>u;u++){var T=t[u],j=y[T];null!=j&&(w[_++]={value:j,hash:c[u]})}if(w.length!=v)break;for(var q=null,I="",C=-1,S=0;S<w.length;S++){C++;var D=w[S].value,k=w[S].hash;if(I=I+"_"+k+"_"+D,void 0==f[I]||null==f[I]){if(null==q){q={level:0},q[n]=null,q[s]=D,q[a]=y,void 0!==y.expanded?q.expanded=y.expanded:q.expanded=!1,o&&(q[o]=y[o]),q[i]=new Array;var P=p.length+h;(!this._source.id||"number"==typeof y.uid||isFinite(y.uid))&&(P="Row"+P),q.uid=P,p[m++]=q}else{var H={level:q.level+1};H[n]=q,H[s]=D,H[i]=new Array,H[a]=y,void 0!==y.expanded?H.expanded=y.expanded:H.expanded=!1,o&&(H[o]=y[o]),H.uid=q.uid+"_"+q[i].length,q[i][q[i].length]=H,q=H}f[I]=q}else q=f[I]}y&&(y.leaf=!0),null!=q?(null==this._source.id&&(void 0==y.uid?y.uid=q.uid+"_"+q[i].length:-1==y.uid.toString().indexOf(q.uid)&&(y.uid=q.uid+"_"+y.uid)),y[n]=q,y.level=q.level+1,q[i][q[i].length]=y):void 0==y.uid&&(y.uid=this.generatekey())}return p},getRecordsHierarchy:function(t,i,s,r,a){var o=new Array,n=this.records;if(a&&(n=a),0==this.records.length)return null;for(var l=null!=s?s:"items",h=[],d=n,c=d.length,u=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,p=function(t){var i=t;return r&&e.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},m=0;c>m;m++){var f=e.extend({},d[m]),v=f[i],g=f[t];h[g]={parentid:v,item:f}}for(var m=0;c>m;m++){var f=e.extend({},d[m]),v=f[i],g=f[t];if(void 0!=h[v]){var f={parentid:v,item:h[g].item},x=h[v].item;x[l]||(x[l]=[]);var b=x[l].length,y=f.item;u?void 0==y[u.parent]&&(y[u.parent]=x):void 0==y.parent&&(y.parent=x);var w=p(y);x[l][b]=w,h[v].item=x,h[g]=f}else{var y=h[g].item;u?void 0==y[u.parent]&&(y[u.parent]=null):void 0==y.parent&&(y.parent=null);var w=p(y);u?w[u.level]=0:w.level=0,o[o.length]=w}}if(0!=o.length){var _=function(e,t){for(var i=0;i<t.length;i++){u?t[i][u.level]=e:t[i].level=e;var s=t[i][l];s&&s.length>0?_(e+1,s):u?t[i][u.leaf]=!0:t[i].leaf=!0}};_(0,o)}return o},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var i=this._bindingUpdate[t];null!=i.func&&i.func(e)}},getid:function(t,i,s){if(null==t||void 0==t.name||!t.name){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){var r=e(i).attr(t);if(null!=r&&r.toString().length>0)return e.trim(r).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"");var a=t.split(this.mapChar);if(a.length>1){for(var o=i,n=0;n<a.length;n++)void 0!=o&&(o=o[a[n]]);if(void 0!=o)return o}else if(void 0!=i[t])return i[t]}return s}var r=e(i).attr(t.name);if(null!=r&&r.toString().length>0)return r;if(t.map)try{var r=e(i).attr(t.map);if(null!=r&&r.toString().length>0)return r;if(e(t.map,i).length>0)return e(t.map,i).text();if(e(t.name,i).length>0)return e(t.name,i).text()}catch(l){return s}},loadjson:function(t,i,s){"string"==typeof t&&(t=e.parseJSON(t)),void 0==s.root&&(s.root=""),void 0==s.record&&(s.record="");var t=t||i;t||(t=[]);var r=this;if(""!=s.root){var a=s.root.split(r.mapChar);if(a.length>1){for(var o=t,n=0;n<a.length;n++)void 0!=o&&(o=o[a[n]]);t=o}else if(void 0!==t[s.root]?t=t[s.root]:t[0]&&void 0!==t[0][s.root]?t=t[0][s.root]:e.each(t,function(e){return this==s.root?(t=this,!1):void(void 0!=this[s.root]&&(t=this[s.root]))}),!t){var a=s.root.split(r.mapChar);if(a.length>0){for(var o=t,n=0;n<a.length;n++)void 0!=o&&(o=o[a[n]]);t=o}}}else if(!t.length)for(obj in t)if(e.isArray(t[obj])){t=t[obj];break}if(null!=t&&void 0==t.length&&(t=e.makeArray(t)),null==t||void 0==t||"undefined"==t||void 0==t.length)return void console.log("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0==t.length)return void(this.totalrecords=0);var l=t.length;this.totalrecords=this.virtualmode?s.totalrecords||l:l,this.records=new Array,this.originaldata=new Array;var h=this.records,d=this.pageable?this.pagesize*this.pagenum:s.recordstartindex;this.recordids=new Array,s.loadallrecords&&(d=0,l=this.totalrecords);var c=0;this.virtualmode&&(d=this.pageable?this.pagesize*this.pagenum:s.recordstartindex,c=d,d=0,l=this.totalrecords);var u=s.datafields?s.datafields.length:0;if(0==u){var p=t[0],m=new Array;for(obj in p){var f=obj;m[m.length]={name:f}}s.datafields=m,s.generatedfields=s.datafields,u=m.length}for(var v=d,g=d;l>g;g++){var x=t[g];if(void 0==x)break;if(!s.record||""==s.record||(x=x[s.record],void 0!=x)){var b=this.getid(s.id,x,g);if("object"==typeof b&&(b=g),!this.recordids[b]){this.recordids[b]=x;for(var y={},w=0;u>w;w++){var _=s.datafields[w],T="";if(void 0!=_&&null!=_){if(_.map){if(e.isFunction(_.map))T=_.map(x);else{var a=_.map.split(r.mapChar);if(a.length>0){for(var j=x,n=0;n<a.length;n++)void 0!=j&&(j=j[a[n]]);T=j}else T=x[_.map]}void 0!=T&&null!=T?T=this.getvaluebytype(T,_):void 0==T&&null!=T&&(T="")}if(""==T&&!_.map&&(T=x[_.name],void 0==T&&null!=T&&(T=""),void 0!=_.value&&void 0!=T)){var q=T[_.value];void 0!=q&&(T=q)}if(T=this.getvaluebytype(T,_),void 0!=_.displayname?y[_.displayname]=T:y[_.name]=T,"array"===_.type){var I=function(t){if(t)for(var i=0;i<t.length;i++){var a=t[i];if(a)for(var o=0;u>o;o++){var n=s.datafields[o],l="";if(void 0!=n&&null!=n){if(n.map){if(e.isFunction(n.map))l=n.map(a);else{var h=n.map.split(r.mapChar);if(h.length>0){for(var d=a,c=0;c<h.length;c++)void 0!=d&&(d=d[h[c]]);l=d}else l=a[n.map]}void 0!=l&&null!=l?l=this.getvaluebytype(l,n):void 0==l&&null!=l&&(l="")}if(""==l&&!n.map&&(l=a[n.name],void 0==l&&null!=l&&(l=""),void 0!=n.value&&void 0!=l)){var p=l[n.value];void 0!=p&&(l=p)}l=this.getvaluebytype(l,n),void 0!=n.displayname?a[n.displayname]=l:a[n.name]=l,"array"===n.type&&I.call(this,l)}}}};I.call(this,T)}}}(s.recordendindex<=0||d<s.recordendindex)&&(h[c+v]=e.extend({},y),h[c+v].uid=b,this.originaldata[c+v]=e.extend({},h[g]),v++)}}}this.records=h,this.cachedrecords=this.records},loadxml:function(t,i,s){"string"==typeof t&&(t=i=e(e.parseXML(t)),t=null),void 0==s.root&&(s.root=""),void 0==s.record&&(s.record="");var t;t=e.jqx.browser.msie&&i&&void 0!=i.xml?e(s.root+" "+s.record,e.parseXML(i.xml)):t||e(s.root+" "+s.record,i),t||(t=[]);var r=t.length;if(0!=t.length){this.totalrecords=this.virtualmode?s.totalrecords||r:r,this.records=new Array,this.originaldata=new Array;var a=this.records,o=this.pageable?this.pagesize*this.pagenum:s.recordstartindex;this.recordids=new Array,s.loadallrecords&&(o=0,r=this.totalrecords);var n=0;this.virtualmode&&(o=this.pageable?this.pagesize*this.pagenum:s.recordstartindex,n=o,o=0,r=this.totalrecords);var l=s.datafields?s.datafields.length:0;if(0==l){var h=t[0],d=new Array;for(obj in h){var c=obj;d[d.length]={name:c}}s.datafields=d,s.generatedfields=s.datafields,l=d.length}for(var u=o,p=!1,m=o;r>m;m++){var f=t[m];if(void 0==f)break;var v=this.getid(s.id,f,m);if(!this.recordids[v]){this.recordids[v]=f;var g={},x=!1;s.hierarchy&&s.hierarchy.root&&(x=!0);for(var b=0;l>b;b++){var y=s.datafields[b],w="";if(void 0!=y&&null!=y){if(y.map)if(e.isFunction(y.map))w=y.map(f);else{var _=y.map.indexOf("[");if(0>_)if(w=e(y.map,f),1==w.length)w=w.text();else{p=!0;for(var T=new Array,j=0;j<w.length;j++)T.push(e(w[j]).text());w=T,x&&T.length>0&&(w=T[0])}else{var q=y.map.substring(0,_-1),I=y.map.indexOf("]"),C=y.map.substring(_+1,I);w=e(q,f).attr(C),void 0==w&&(w=e(f).attr(C)),void 0==w&&(w="")}""==w&&(w=e(f).attr(y.map),void 0==w&&(w=""))}if(""==w){if(w=e(y.name,f),1==w.length)w=w.text();else{for(var T=new Array,j=0;j<w.length;j++)T.push(e(w[j]).text());w=T,x&&T.length>0&&(w=T[0])}""==w&&(w=e(f).attr(y.name),void 0==w&&(w="")),""==w&&f.nodeName&&f.nodeName==y.name&&f.firstChild&&(w=e(f.firstChild).text())}w=this.getvaluebytype(w,y),void 0!=y.displayname?g[y.displayname]=w:g[y.name]=w}}(s.recordendindex<=0||o<s.recordendindex)&&(a[n+u]=e.extend({},g),a[n+u].uid=v,this.originaldata[n+u]=e.extend({},a[m]),u++)}}if(s.hierarchy&&s.hierarchy.root)for(var m=o;r>m;m++){var f=t[m],S=a[m];if(e(f).parent().length>0){var v=this.getid(s.id,e(f).parents(s.hierarchy.record+":first"));S.parentuid=v}else S.parentuid=null}this.records=a,this.cachedrecords=this.records}},loadics:function(e,t){if(null!=e){var i=t.rowDelimiter||this.rowDelimiter||"\n",s=e.split(i),r=s.length,a=e.split("\r");1==r&&a.length>1&&(s=a,r=s.length),this.records=new Array,this.originaldata=new Array;var o=this.records;this.recordids=new Array;for(var n=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/,i=t.exec(e);if(!i)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(i[1],i[2]-1,i[3],i[5]||0,i[6]||0,i[7]||0))},l=0;r>l;l++){var h=s[l];if("BEGIN:VEVENT"!=h)if(h.indexOf("SUMMARY")>=0)c.SUMMARY=h.substring(h.indexOf("SUMMARY")+8);else if(h.indexOf("LOCATION")>=0)c.LOCATION=h.substring(h.indexOf("LOCATION")+9);else if(h.indexOf("DESCRIPTION")>=0)c.DESCRIPTION=h.substring(h.indexOf("DESCRIPTION")+12);else if(h.indexOf("RRULE")>=0)c.RRULE=h.substring(h.indexOf("RRULE")+6);else if(h.indexOf("EXDATE")>=0){var d=h.substring(h.indexOf("EXDATE")+7);c.EXDATE=d}else h.indexOf("DTEND")>=0?c.DTEND=n(h.substring(h.indexOf("DTEND")+6)):h.indexOf("DTSTART")>=0?c.DTSTART=n(h.substring(h.indexOf("DTSTART")+8)):h.indexOf("UID")>=0?c.uid=c.UID=h.substring(h.indexOf("UID")+4):h.indexOf("STATUS")>=0?c.STATUS=h.substring(h.indexOf("STATUS")+7):"END:VEVENT"!=h||o.push(c);else var c={}}this.records=o,this.cachedrecords=this.records}},loadtext:function(t,i){if(null!=t){var s=i.rowDelimiter||this.rowDelimiter||"\n",r=t.split(s),a=r.length,o=t.split("\r");1==a&&o.length>1&&(r=o,a=r.length),this.totalrecords=this.virtualmode?i.totalrecords||a:a,this.records=new Array,this.originaldata=new Array;var n=this.records,l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex;this.recordids=new Array,i.loadallrecords&&(l=0,a=this.totalrecords);var h=0;this.virtualmode&&(l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,h=l,l=0,a=this.totalrecords);var d=i.datafields.length,c=i.columnDelimiter||this.columnDelimiter;c||(c="tab"===i.datatype||"tsv"===i.datatype?"	":",");for(var u=l;a>u;u++){var p=r[u],m=null;if(!this.recordids[m]){null==i.id&&(m=u,this.recordids[m]=p);for(var f={},v=r[u].split(c),g=0;d>g;g++)if(!(g>=v.length)){var x=i.datafields[g],b=v[g];x.map&&e.isFunction(x.map)&&(b=x.map(p)),x.type&&(b=this.getvaluebytype(b,x));var y=x.map||x.name||g.toString();f[y]=b,null!=i.id&&i.id===x.name&&(m=b,this.recordids[m]=p)}null==m&&(m=u),n[h+u]=e.extend({},f),n[h+u].uid=m,this.originaldata[h+u]=e.extend({},n[u])}}this.records=n,this.cachedrecords=this.records}},getvaluebytype:function(t,i){var s=t;if(null==t)return t;if(e.isArray(t)&&"array"!=i.type){for(var r=0;r<t.length;r++)t[r]=this.getvaluebytype(t[r],i);return t}if("date"==i.type)if("NaN"==t)t="";else{var a=new Date(t);if("string"==typeof t&&i.format){var o=e.jqx.dataFormat.parsedate(t,i.format);null!=o&&(a=o)}t=("NaN"==a.toString()||"Invalid Date"==a.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):a,null==t&&(t=s)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{var t=parseFloat(t);isNaN(t)&&(t=s)}else if("int"==i.type||"integer"==i.type){var t=parseInt(t);isNaN(t)&&(t=s)}else("bool"==i.type||"boolean"==i.type)&&(null!=t&&void 0!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t?!0:0==t&&""!==t?!1:"");return t}},e.jqx.dataFormat={},e.extend(e.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;s>i;i++)if(e[i]===t)return i;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return"undefined"==typeof e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!this.isString(t)&&this.isValue(t)?!1:this.isValue(t)?(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===t):!0},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){var e={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return e},expandFormat:function(e,t){t=t||"F";var i,s=e.patterns,r=t.length;if(1===r){if(i=s[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,s=e.getTime(),r=0,a=t.length;a>r;r++)if(i=t[r].start,null===i||s>=i)return r;return 0},toUpper:function(e){return e.split("").join(" ").toUpperCase()},toUpperArray:function(e){for(var t=[],i=0,s=e.length;s>i;i++)t[i]=this.toUpper(e[i]);return t},getEraYear:function(e,t,i,s){var r=e.getFullYear();return!s&&t.eras&&(r-=t.eras[i].offset),r},toUpper:function(e){return e?e.toUpperCase():""},getDayIndex:function(e,t,i){var s,r=e.days,a=e._upperDays;return a||(e._upperDays=a=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr),this.toUpperArray(r.namesShort)]),t=t.toUpperCase(),i?(s=this.arrayIndexOf(a[1],t),-1===s&&(s=this.arrayIndexOf(a[2],t))):s=this.arrayIndexOf(a[0],t),s},getMonthIndex:function(e,t,i){var s=e.months,r=e.monthsGenitive||e.months,a=e._upperMonths,o=e._upperMonthsGen;a||(e._upperMonths=a=[this.toUpperArray(s.names),this.toUpperArray(s.namesAbbr)],
e._upperMonthsGen=o=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr)]),t=this.toUpper(t);var n=this.arrayIndexOf(i?a[1]:a[0],t);return 0>n&&(n=this.arrayIndexOf(i?o[1]:o[0],t)),n},appendPreOrPostMatch:function(e,t){for(var i=0,s=!1,r=0,a=e.length;a>r;r++){var o=e.charAt(r);switch(o){case"'":s?t.push("'"):i++,s=!1;break;case"\\":s&&t.push("\\"),s=!s;break;default:t.push(o),s=!1}}return i},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var i="";return t&&t.target&&(i="target="+t.target),""!=i?"<a "+i+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,i){return this.formatnumber(e,t,i)},formatnumber:function(e,t,i){if((void 0==i||null==i||""==i)&&(i=this.defaultcalendar()),""===t||null===t)return e;this.isNumber(e)||(e*=1);var s;t.length>1&&(s=parseInt(t.slice(1),10));var r={},a=t.charAt(0).toUpperCase();switch(r.thousandsSeparator=i.thousandsseparator,r.decimalSeparator=i.decimalseparator,a){case"D":case"d":case"F":case"f":r.decimalPlaces=s;break;case"N":case"n":r.decimalPlaces=0;break;case"C":case"c":r.decimalPlaces=s,"before"==i.currencysymbolposition?r.prefix=i.currencysymbol:r.suffix=i.currencysymbol;break;case"P":case"p":r.suffix=i.percentsymbol,r.decimalPlaces=s;break;default:throw"Bad number format specifier: "+a}if(this.isNumber(e)){var o,n=0>e,l=e+"",h=r.decimalSeparator?r.decimalSeparator:".";if(this.isNumber(r.decimalPlaces)){var d=r.decimalPlaces,c=Math.pow(10,d);if(l=(e*c).toFixed(0)/c+"",o=l.lastIndexOf("."),d>0)for(0>o?(l+=h,o=l.length-1):"."!==h&&(l=l.replace(".",h));l.length-1-o<d;)l+="0"}else{var l=e+"";o=l.lastIndexOf("."),o>0&&void 0==d&&"."!==h&&(l=l.replace(".",h))}if(r.thousandsSeparator){var u=r.thousandsSeparator;o=l.lastIndexOf(h),o=o>-1?o:l.length;for(var p=l.substring(o),m=-1,f=o;f>0;f--)m++,m%3===0&&f!==o&&(!n||f>1)&&(p=u+p),p=l.charAt(f-1)+p;l=p}return l=r.prefix?r.prefix+l:l,l=r.suffix?l+r.suffix:l}return e},tryparsedate:function(t,i){(void 0==i||null==i)&&(i=this.defaultcalendar());var s=this;if(""==t)return null;if(null==t||t.substring||(t=t.toString()),null!=t&&"/Date("==t.substring(0,6)){var r=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,a=new Date(+t.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==a){var o=t.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),a=null;o&&(a=new Date(1*o[1]+36e5*o[2]+6e4*o[3]))}if(null==a||"Invalid Date"==a||isNaN(a)){var n=r.exec(t);if(n){var l=new Date(parseInt(n[1]));if(n[2]){var h=parseInt(n[3]);"-"===n[2]&&(h=-h);var d=l.getUTCMinutes();l.setUTCMinutes(d-h)}if(!isNaN(l.valueOf()))return l}}return a}patterns=i.patterns;for(prop in patterns)if(a=s.parsedate(t,patterns[prop],i)){if("ISO"==prop){var c=s.parsedate(t,patterns.ISO2,i);if(c)return c}return a}if(null!=t){for(var c=null,u=[":","/","-"],p=!0,m=0;m<u.length;m++)-1!=t.indexOf(u[m])&&(p=!1);if(p){var f=new Number(t);if(!isNaN(f))return new Date(f)}}if("string"===e.type(t)){var v=s;t=v.trim(t);var g=[":","/","-"," ",","],x=function(e,t,i){return i.replace(new RegExp(e,"g"),t)};t=x(", ",",",t);var b="",y=t;t.indexOf(":")>=0?(b=t.substring(t.indexOf(":")-2),b=v.trim(b),y=t.substring(0,t.indexOf(":")-2)):t.toUpperCase().indexOf("AM")>=0?(b=t.substring(t.toUpperCase().indexOf("AM")-2),b=v.trim(b),y=t.substring(0,t.toUpperCase().indexOf("AM")-2)):t.toUpperCase().indexOf("PM")>=0&&(b=t.substring(t.toUpperCase().indexOf("PM")-2),b=v.trim(b),y=t.substring(0,t.toUpperCase().indexOf("PM")-2));var w=new Date,_=!1;if(y){for(var T=0;T<g.length;T++)if(y.indexOf(g[T])>=0){u=y.split(g[T]);break}for(var j=new Array,q=new Array,I=new Array,C=null,S=null,T=0;T<u.length;T++){var m=u[T],D=v.parsedate(m,"d",i)||v.parsedate(m,"dd",i)||v.parsedate(m,"ddd",i)||v.parsedate(m,"dddd",i);if(D&&m.length<=2){C=T,j.push(D.getDate());break}}for(var T=0;T<u.length;T++){var m=u[T],k=v.parsedate(m,"M",i)||v.parsedate(m,"MM",i)||v.parsedate(m,"MMM",i)||v.parsedate(m,"MMMM",i);if(k){if(void 0!=C&&C==T)continue;if(q.push(k.getMonth()),m.length>2){S=T;break}}}for(var T=0;T<u.length;T++){var m=u[T],P=v.parsedate(m,"yyyy",i);if(P){if(void 0!=C&&C==T)continue;if(void 0!=S&&S==T)continue;I.push(P.getFullYear())}}for(var H=new Array,M=0;M<j.length;M++)for(var o=0;o<q.length;o++)for(var B=0;B<I.length;B++){var l=new Date(I[B],q[o],j[M]);I[B]<1970&&l.setFullYear(I[B]),NaN!=l.getTime()&&H.push(l)}H.length>0&&(w=H[0],_=!0)}if(b){var E=b.indexOf(":")>=0?b.split(":"):b,z=v.parsedate(b,"h:mm tt",i)||v.parsedate(b,"h:mm:ss tt",i)||v.parsedate(b,"HH:mm:ss.fff",i)||v.parsedate(b,"HH:mm:ss.ff",i)||v.parsedate(b,"HH:mm:ss.tttt",i)||v.parsedate(b,"HH:mm:ss",i)||v.parsedate(b,"HH:mm",i)||v.parsedate(b,"HH",i),O=0,A=0,L=0,N=0;z&&NaN!=z.getTime()?(O=z.getHours(),A=z.getMinutes(),L=z.getSeconds(),N=z.getMilliseconds()):(1==E.length&&(O=parseInt(E[0])),2==E.length&&(O=parseInt(E[0]),A=parseInt(E[1])),3==E.length&&(O=parseInt(E[0]),A=parseInt(E[1]),E[2].indexOf(".")>=0?(L=parseInt(E[2].toString().split(".")[0]),N=parseInt(E[2].toString().split(".")[1])):L=parseInt(E[2])),4==E.length&&(O=parseInt(E[0]),A=parseInt(E[1]),L=parseInt(E[2]),N=parseInt(E[3]))),!w||isNaN(O)||isNaN(A)||isNaN(L)||isNaN(N)||(w.setHours(O,A,L,N),_=!0)}if(_)return w}return null},getparseregexp:function(e,t){var i=e._parseRegExp;if(i){var s=i[t];if(s)return s}else e._parseRegExp=i={};for(var r,a=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],n=[],l=0,h=0,d=this.getTokenRegExp();null!==(r=d.exec(a));){var c=a.slice(l,r.index);if(l=d.lastIndex,h+=this.appendPreOrPostMatch(c,o),h%2)o.push(r[0]);else{var u,p=r[0],m=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+m+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}u&&o.push(u),n.push(r[0])}}this.appendPreOrPostMatch(a.slice(l),o),o.push("$");var f=o.join("").replace(/\s+/g,"\\s+"),v={regExp:f,groups:n};return i[t]=v},outOfRange:function(e,t,i){return t>e||e>i},expandYear:function(e,t){var i=new Date,s=this.getEra(i);if(100>t){var r=e.twoDigitYearMax;r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r;var a=this.getEraYear(i,e,s);t+=a-a%100,t>r&&(t-=100)}return t},parsedate:function(e,t,i){(void 0==i||null==i)&&(i=this.defaultcalendar()),e=this.trim(e);var s=i,r=this.getparseregexp(s,t),a=new RegExp(r.regExp).exec(e);if(null===a)return null;for(var o,n=r.groups,l=null,h=null,d=null,c=null,u=null,p=0,m=0,f=0,v=0,g=null,x=!1,b=0,y=n.length;y>b;b++){var w=a[b+1];if(w){var _=n[b],T=_.length,j=parseInt(w,10);switch(_){case"dd":case"d":if(c=j,this.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":if(d=this.getMonthIndex(s,w,3===T),this.outOfRange(d,0,11))return null;break;case"M":case"MM":if(d=j-1,this.outOfRange(d,0,11))return null;break;case"y":case"yy":case"yyyy":if(h=4>T?this.expandYear(s,j):j,this.outOfRange(h,0,9999))return null;break;case"h":case"hh":if(p=j,12===p&&(p=0),this.outOfRange(p,0,11))return null;break;case"H":case"HH":if(p=j,this.outOfRange(p,0,23))return null;break;case"m":case"mm":if(m=j,this.outOfRange(m,0,59))return null;break;case"s":case"ss":if(f=j,this.outOfRange(f,0,59))return null;break;case"tt":case"t":if(x=s.PM&&(w===s.PM[0]||w===s.PM[1]||w===s.PM[2]),!x&&(!s.AM||w!==s.AM[0]&&w!==s.AM[1]&&w!==s.AM[2]))return null;break;case"f":case"ff":case"fff":if(v=j*Math.pow(10,3-T),this.outOfRange(v,0,999))return null;break;case"ddd":case"dddd":if(u=this.getDayIndex(s,w,3===T),this.outOfRange(u,0,6))return null;break;case"zzz":var q=w.split(/:/);if(2!==q.length)return null;if(o=parseInt(q[0],10),this.outOfRange(o,-12,13))return null;var I=parseInt(q[1],10);if(this.outOfRange(I,0,59))return null;g=60*o+(this.startsWith(w,"-")?-I:I);break;case"z":case"zz":if(o=j,this.outOfRange(o,-12,13))return null;g=60*o;break;case"g":case"gg":var C=w;if(!C||!s.eras)return null;C=trim(C.toLowerCase());for(var S=0,D=s.eras.length;D>S;S++)if(C===s.eras[S].name.toLowerCase()){l=S;break}if(null===l)return null}}}var k,P=new Date,H=s.convert;if(k=P.getFullYear(),null===h?h=k:s.eras&&(h+=s.eras[l||0].offset),null===d&&(d=0),null===c&&(c=1),H){if(P=H.toGregorian(h,d,c),null===P)return null}else{if(P.setFullYear(h,d,c),P.getDate()!==c)return null;if(null!==u&&P.getDay()!==u)return null}if(x&&12>p&&(p+=12),P.setHours(p,m,f,v),null!==g){var M=P.getMinutes()-(g+P.getTimezoneOffset());P.setHours(P.getHours()+parseInt(M/60,10),M%60)}return P},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,i){return this.formatdate(e,t,i)},formatdate:function(e,t,i){function s(e,t){var i,s=e+"";return t>1&&s.length<t?(i=u[t-2]+s,i.substr(i.length-t,t)):i=s}function r(e,t){if(c)return c[t];if(void 0!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}if((void 0==i||null==i)&&(i=this.defaultcalendar()),"string"==typeof e)return e;var a=e.toString()+"_"+t;if(this.datescache&&this.datescache[a])return this.datescache[a];if(!t||!t.length||"i"===t){var o;return o=this.formatDate(e,i.patterns.F,i)}var n=i.eras,l="s"===t;t=this.expandFormat(i,t),o=[];for(var h,d,c,u=["0","00","000"],p=0,m=this.getTokenRegExp();;){var f=m.lastIndex,v=m.exec(t),g=t.slice(f,v?v.index:t.length);if(p+=this.appendPreOrPostMatch(g,o),!v)break;if(p%2)o.push(v[0]);else{var x=v[0],b=x.length;switch(x){case"ddd":case"dddd":var y=3===b?i.days.namesAbbr:i.days.names;o.push(y[e.getDay()]);break;case"d":case"dd":d=!0,o.push(s(r(e,2),b));break;case"MMM":case"MMMM":var w=r(e,1);o.push(i.months[3===b?"namesAbbr":"names"][w]);break;case"M":case"MM":o.push(s(r(e,1)+1,b));break;case"y":case"yy":case"yyyy":w=this.getEraYear(e,i,this.getEra(e,n),l),4>b&&(w%=100),o.push(s(w,b));break;case"h":case"hh":h=e.getHours()%12,0===h&&(h=12),o.push(s(h,b));break;case"H":case"HH":o.push(s(e.getHours(),b));break;case"m":case"mm":o.push(s(e.getMinutes(),b));break;case"s":case"ss":o.push(s(e.getSeconds(),b));break;case"t":case"tt":w=e.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",o.push(1===b?w.charAt(0):w);break;case"f":case"ff":case"fff":o.push(s(e.getMilliseconds(),3).substr(0,b));break;case"z":case"zz":h=e.getTimezoneOffset()/60,o.push((0>=h?"+":"-")+s(Math.floor(Math.abs(h)),b));break;case"zzz":h=e.getTimezoneOffset()/60,o.push((0>=h?"+":"-")+s(Math.floor(Math.abs(h)),2)+":"+s(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&o.push(i.eras[this.getEra(e,n)].name);break;case"/":o.push(i["/"]);break;default:throw"Invalid date format pattern '"+x+"'."}}}var _=o.join("");return this.datescache||(this.datescache=new Array),this.datescache[a]=_,_}}),e.jqx.data={};var l,h,d=/#.*$/,c=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,u=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,p=/^(?:GET|HEAD)$/,m=/^\/\//,f=/\?/,v=/([?&])_=[^&]*/,g=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,x=/\s+/,b=(e.fn.load,{}),y={},w=["*/"]+["*"];try{h=location.href}catch(_){h=document.createElement("a"),h.href="",h=h.href}l=g.exec(h.toLowerCase())||[],e.extend(e.jqx.data,{ajaxSetup:function(t,i){return i?s(t,e.jqx.data.ajaxSettings):(i=t,t=e.jqx.data.ajaxSettings),s(t,i),t},ajaxSettings:{url:h,isLocal:u.test(l[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":w},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:t(b),ajaxTransport:t(y),ajax:function(t,s){function o(t,i,s,o){var l,d,c,u,p,m=i;2!==E&&(E=2,T&&clearTimeout(T),_=void 0,h=o||"",O.readyState=t>0?4:0,s&&(u=r(C,O,s)),t>=200&&300>t||304===t?(C.ifModified&&(p=O.getResponseHeader("Last-Modified"),p&&(e.lastModified[n]=p),p=O.getResponseHeader("Etag"),p&&(e.etag[n]=p)),304===t?(m="notmodified",l=!0):(l=a(C,u),m=l.state,d=l.data,c=l.error,l=!c)):(c=m,(!m||t)&&(m="error",0>t&&(t=0))),O.status=t,O.statusText=(i||m)+"",l?k.resolveWith(S,[d,m,O]):k.rejectWith(S,[O,m,c]),O.statusCode(H),H=void 0,q&&D.trigger("ajax"+(l?"Success":"Error"),[O,C,l?d:c]),P.fireWith(S,[O,m]),q&&(D.trigger("ajaxComplete",[O,C]),--e.active||e.event.trigger("ajaxStop")))}"object"==typeof t&&(s=t,t=void 0),s=s||{};var n,h,u,_,T,j,q,I,C=e.jqx.data.ajaxSetup({},s),S=C.context||C,D=S!==C&&(S.nodeType||S instanceof e)?e(S):e.event,k=e.Deferred(),P=e.Callbacks("once memory"),H=C.statusCode||{},M={},B={},E=0,z="canceled",O={readyState:0,setRequestHeader:function(e,t){if(!E){var i=e.toLowerCase();e=B[i]=B[i]||e,M[e]=t}return this},getAllResponseHeaders:function(){return 2===E?h:null},getResponseHeader:function(e){var t;if(2===E){if(!u)for(u={};t=c.exec(h);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return E||(C.mimeType=e),this},abort:function(e){return e=e||z,_&&_.abort(e),o(0,e),this}};if(k.promise(O),O.success=O.done,O.error=O.fail,O.complete=P.add,O.statusCode=function(e){if(e){var t;if(2>E)for(t in e)H[t]=[H[t],e[t]];else t=e[O.status],O.always(t)}return this},C.url=((t||C.url)+"").replace(d,"").replace(m,l[1]+"//"),C.dataTypes=e.trim(C.dataType||"*").toLowerCase().split(x),null==C.crossDomain&&(j=g.exec(C.url.toLowerCase()),C.crossDomain=!(!j||j[1]===l[1]&&j[2]===l[2]&&(j[3]||("http:"===j[1]?80:443))==(l[3]||("http:"===l[1]?80:443)))),C.data&&C.processData&&"string"!=typeof C.data&&(C.data=e.param(C.data,C.traditional)),i(b,C,s,O),2===E)return O;if(q=C.global,C.type=C.type.toUpperCase(),C.hasContent=!p.test(C.type),q&&0===e.active++&&e.event.trigger("ajaxStart"),!C.hasContent&&(C.data&&(C.url+=(f.test(C.url)?"&":"?")+C.data,delete C.data),n=C.url,C.cache===!1)){var A=e.now(),L=C.url.replace(v,"$1_="+A);C.url=L+(L===C.url?(f.test(C.url)?"&":"?")+"_="+A:"")}(C.data&&C.hasContent&&C.contentType!==!1||s.contentType)&&O.setRequestHeader("Content-Type",C.contentType),C.ifModified&&(n=n||C.url,e.lastModified[n]&&O.setRequestHeader("If-Modified-Since",e.lastModified[n]),e.etag[n]&&O.setRequestHeader("If-None-Match",e.etag[n])),O.setRequestHeader("Accept",C.dataTypes[0]&&C.accepts[C.dataTypes[0]]?C.accepts[C.dataTypes[0]]+("*"!==C.dataTypes[0]?", "+w+"; q=0.01":""):C.accepts["*"]);for(I in C.headers)O.setRequestHeader(I,C.headers[I]);if(C.beforeSend&&(C.beforeSend.call(S,O,C)===!1||2===E))return O.abort();z="abort";for(I in{success:1,error:1,complete:1})O[I](C[I]);if(_=i(y,C,s,O)){O.readyState=1,q&&D.trigger("ajaxSend",[O,C]),C.async&&C.timeout>0&&(T=setTimeout(function(){O.abort("timeout")},C.timeout));try{E=1,_.send(M,o)}catch(N){if(!(2>E))throw N;o(-1,N)}}else o(-1,"No Transport");return O},active:0,lastModified:{},etag:{}});var T=[],j=/\?/,q=/(=)\?(?=&|$)|\?\?/,I=e.now();e.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=T.pop()||e.expando+"_"+I++;return this[t]=!0,t}}),e.jqx.data.ajaxPrefilter("json jsonp",function(t,i,s){var r,a,o,n=t.data,l=t.url,h=t.jsonp!==!1,d=h&&q.test(l),c=h&&!d&&"string"==typeof n&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&q.test(n);return"jsonp"===t.dataTypes[0]||d||c?(r=t.jsonpCallback=e.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a=window[r],d?t.url=l.replace(q,"$1"+r):c?t.data=n.replace(q,"$1"+r):h&&(t.url+=(j.test(l)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||e.error(r+" was not called"),o[0]},t.dataTypes[0]="json",window[r]=function(){o=arguments},s.always(function(){window[r]=a,t[r]&&(t.jsonpCallback=i.jsonpCallback,T.push(r)),o&&e.isFunction(a)&&a(o[0]),o=a=void 0}),"script"):void 0}),e.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),e.jqx.data.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(s,r){t=document.createElement("script"),t.async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,s){(s||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=void 0,s||r(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(0,1)}}}});var C,S=window.ActiveXObject?function(){for(var e in C)C[e](0,1)}:!1,D=0;e.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&o()||n()}:o,function(t){e.extend(e.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(e.jqx.data.ajaxSettings.xhr()),e.support.ajax&&e.jqx.data.ajaxTransport(function(t){if(!t.crossDomain||e.support.cors){var i;return{send:function(s,r){var a,o,n=t.xhr();if(t.username?n.open(t.type,t.url,t.async,t.username,t.password):n.open(t.type,t.url,t.async),t.xhrFields)for(o in t.xhrFields)n[o]=t.xhrFields[o];t.mimeType&&n.overrideMimeType&&n.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(o in s)n.setRequestHeader(o,s[o])}catch(l){}n.send(t.hasContent&&t.data||null),i=function(s,o){var l,h,d,c,u;try{if(i&&(o||4===n.readyState))if(i=void 0,a&&(n.onreadystatechange=e.noop,S&&delete C[a]),o)4!==n.readyState&&n.abort();else{l=n.status,d=n.getAllResponseHeaders(),c={},u=n.responseXML,u&&u.documentElement&&(c.xml=u);try{c.text=n.responseText}catch(p){}try{h=n.statusText}catch(p){h=""}l||!t.isLocal||t.crossDomain?1223===l&&(l=204):l=c.text?200:404}}catch(m){o||r(-1,m)}c&&r(l,h,c,d)},t.async?4===n.readyState?setTimeout(i,0):(a=++D,S&&(C||(C={},e(window).unload(S)),C[a]=i),n.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}}),e.jqx.filter=function(){this.operator="and";var t=1,i=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],s=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],a=["EQUAL","NOT_EQUAL"],o=new Array,n=new Array;this.evaluate=function(e){for(var i=!0,s=0;s<o.length;s++){var r=o[s].evaluate(e);i=0==s?r:n[s]==t||"or"==n[s]?i||r:i&&r}return i},this.getfilterscount=function(){return o.length},this.setoperatorsbyfiltertype=function(e,t){switch(e){case"numericfilter":s=t;break;case"stringfilter":i=t;break;case"datefilter":r=t;break;case"booleanfilter":a=t}},this.getoperatorsbyfiltertype=function(e){var t=new Array;switch(e){case"numericfilter":t=s.slice(0);break;case"stringfilter":t=i.slice(0);break;case"datefilter":t=r.slice(0);break;case"booleanfilter":t=a.slice(0)}return t};var l=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()};this.createfilter=function(e,t,i,s,r,a){if(null==e||void 0==e)return null;switch(e){case"numericfilter":return new c(t,i.toUpperCase());case"stringfilter":return new h(t,i.toUpperCase());case"datefilter":return new u(t,i.toUpperCase(),r,a);case"booleanfilter":return new d(t,i.toUpperCase());case"custom":return new p(t,i.toUpperCase(),s)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<o.length;t++){var i={value:o[t].filtervalue,condition:o[t].comparisonoperator,operator:n[t],type:o[t].type};o[t].data&&(i.id=o[t].data),e[t]=i}return e},this.addfilter=function(e,t){o[o.length]=t,t.key=l(),n[n.length]=e},this.removefilter=function(e){for(var t=0;t<o.length;t++)if(o[t].key==e.key){o.splice(t,1),n.splice(t,1);break}},this.getoperatorat=function(e){return void 0==e||null==e?null:0>e||e>o.length?null:n[e]},this.setoperatorat=function(e,t){return void 0==e||null==e?null:0>e||e>o.length?null:void(n[t]=t)},this.getfilterat=function(e){return void 0==e||null==e?null:0>e||e>o.length?null:o[e]},this.setfilterat=function(e,t){return void 0==e||null==e?null:0>e||e>o.length?null:(t.key=l(),void(o[e]=t))},this.clear=function(){o=new Array,n=new Array};var h=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="stringfilter",this.evaluate=function(t){var i=this.filtervalue,s=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NULL"==s)return!0;if("EQUAL"==s&&t==i)return!0;if("NOT_EQUAL"==s&&t!=i)return!0;if("EMPTY"!=s)return!1;if(""==t)return!0}var r="";try{r=t.toString()}catch(a){return!0}var o=function(t,i){switch(s){case"EQUAL":return e.jqx.string.equalsIgnoreCase(t,i);case"EQUAL_CASE_SENSITIVE":return e.jqx.string.equals(t,i);case"NOT_EQUAL":return!e.jqx.string.equalsIgnoreCase(t,i);case"NOT_EQUAL_CASE_SENSITIVE":return!e.jqx.string.equals(t,i);case"CONTAINS":return e.jqx.string.containsIgnoreCase(t,i);case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t,i);case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t,i);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t,i);case"EMPTY":return""==t;case"NOT_EMPTY":return""!=t;case"NOT_NULL":return null!=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t,i);case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t,i);case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t,i);case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t,i);default:return!1}},n=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var l=o(r,i);if(l)return l;var h=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,d=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,c=i.indexOf(" and ")>=0?i.split(" and "):new Array,u=i.indexOf(" or ")>=0?i.split(" or "):new Array,p=i.indexOf("|")>=0?i.split("|"):new Array;if(p.length>0)for(var m=0;m<p.length;m++)p[m]=e.trim(p[m]);var f=i.indexOf(" ")>=0?i.split(" "):new Array;if(f.length>0)for(var m=0;m<f.length;m++)f[m]=e.trim(f[m]);if(h=h.concat(f),h=h.concat(c),d=d.concat(p),d=d.concat(u),h.length>0)for(var m=0;m<h.length;m++)!h[m].indexOf(" OR ")>=0&&n.push(h[m]);if(d.length>0)for(var m=0;m<d.length;m++)!d[m].indexOf(" AND ")>=0&&n.push(d[m]);for(var v=void 0,g=0;g<n.length;g++){var t=n[g],l=o(r,t),x=g<h.length?"and":"or";v=void 0==v?l:"or"==x?v||l:v&&l}return v}return o(r,i)}},d=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,i=this.comparisonoperator;if(null==e||void 0==e)return"NULL"==i?!0:!1;var s=e;switch(i){case"EQUAL":return s==t||s.toString()==t.toString();case"NOT_EQUAL":return s!=t&&s.toString()!=t.toString();default:return!1}}},c=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="numericfilter",this.evaluate=function(t){var i=this.filtervalue,s=this.comparisonoperator;if(null===t||void 0===t||""===t){if("NOT_NULL"==s)return!1;if("NULL"==s)return!0;switch(s){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==s)return!1;if("NOT_NULL"==s)return!0;var r=t;try{r=parseFloat(r)}catch(a){if(""!=t.toString())return!1}var o=function(t,i){switch(s){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i;case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return i>t;case"LESS_THAN_OR_EQUAL":return i>=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},n=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var l=o(r,i);if(l)return l;i=i.toString();var h=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,d=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,c=i.indexOf(" and ")>=0?i.split(" and "):new Array,u=i.indexOf(" or ")>=0?i.split(" or "):new Array;h=h.concat(c),d=d.concat(u);var p=i.indexOf("|")>=0?i.split("|"):new Array;if(p.length>0)for(var m=0;m<p.length;m++)p[m]=e.trim(p[m]);if(d=d.concat(p),h.length>0)for(var m=0;m<h.length;m++)!h[m].indexOf(" OR ")>=0&&n.push(h[m]);if(d.length>0)for(var m=0;m<d.length;m++)!d[m].indexOf(" AND ")>=0&&n.push(d[m]);for(var f=void 0,v=0;v<n.length;v++){var t=n[v];if(t&&t.indexOf&&t.indexOf("..")>=0){var g=t.toString().split("..");2==g.length&&(l=r>=g[0]&&r<=g[1])}else var l=o(r,t);var x=v<h.length?"and":"or";f=void 0==f?l:"or"==x?f||l:f&&l}return f}return i&&i.indexOf&&i.indexOf("..")>=0&&(n=i.toString().split(".."),2==n.length)?r>=n[0]&&r<=n[1]:o(r,i)}},u=function(t,i,s,r){this.filtervalue=t,this.type="datefilter";var a=this;if(void 0!=s&&void 0!=r){var o=e.jqx.dataFormat.parsedate(t,s,r);if(null!=o)this.filterdate=o;else{var n=e.jqx.dataFormat.tryparsedate(t,r);null!=n&&(this.filterdate=n)}}else{var l=new Date(t);"NaN"==l.toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l}if(!this.filterdate){var l=new Date(t);"NaN"==l.toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l}this.comparisonoperator=i,this.evaluate=function(t){var i=this.filtervalue,o=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NOT_NULL"==o)return!1;if("NULL"==o)return!0;switch(o){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==o)return!1;if("NOT_NULL"==o)return!0;var n=new Date;n.setFullYear(1900,0,1),n.setHours(12,0,0,0);try{var l=new Date(t);t="NaN"==l.toString()||"Invalid Date"==l.toString()?e.jqx.dataFormat.tryparsedate(t):l,n=t;var h=!1;if(void 0!=s&&void 0!=r&&(s.indexOf("t")>=0||s.indexOf("T")>=0||s.indexOf(":")>=0||s.indexOf("f")>=0)&&(h=!0,i&&-1==i.toString().indexOf(":"))){var d=e.jqx.dataFormat.tryparsedate(i.toString()+":00",r);null!=d&&(a.filterdate=d)}h||(n.setHours(0),n.setMinutes(0),n.setSeconds(0))}catch(c){if(""!=t.toString())return!1}if(null!=a.filterdate)i=a.filterdate;else if(i&&i.indexOf&&(-1!=i.indexOf(":")||!isNaN(parseInt(i)))){var u=new Date(n);u.setHours(12,0,0,0);for(var p=i.split(":"),m=0;m<p.length;m++)0==m&&u.setHours(p[m]),1==m&&u.setMinutes(p[m]),2==m&&u.setSeconds(p[m]);i=u}h&&i&&i.setFullYear&&n&&n.getFullYear&&-1==s.indexOf("d")&&-1==s.indexOf("M")&&-1==s.indexOf("y")&&i.setFullYear(n.getFullYear(),n.getMonth(),n.getDate());var f=function(t,i){switch(null==t&&(t=""),o){case"EQUAL":return t.toString()==i.toString();case"NOT_EQUAL":return t.toString()!=i.toString();case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return i>t;case"LESS_THAN_OR_EQUAL":return i>=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},v=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var d=f(n,i);if(d)return d;var g=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,x=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,b=i.indexOf(" and ")>=0?i.split(" and "):new Array,y=i.indexOf(" or ")>=0?i.split(" or "):new Array;g=g.concat(b),x=x.concat(y);var w=i.indexOf("|")>=0?i.split("|"):new Array;if(w.length>0)for(var m=0;m<w.length;m++)w[m]=e.trim(w[m]);if(x=x.concat(w),g.length>0)for(var m=0;m<g.length;m++)!g[m].indexOf(" OR ")>=0&&v.push(g[m]);if(x.length>0)for(var m=0;m<x.length;m++)!x[m].indexOf(" AND ")>=0&&v.push(x[m]);for(var _=void 0,T=0;T<v.length;T++){var t=v[T];if(t&&t.indexOf&&t.indexOf("..")>=0){var j=t.toString().split("..");2==j.length&&(d=n>=j[0]&&n<=j[1])}else var d=f(n,t);var q=T<g.length?"and":"or";_=void 0==_?d:"or"==q?_||d:_&&d}return _}return i&&i.indexOf&&i.indexOf("..")>=0&&(v=i.toString().split(".."),2==v.length)?n>=v[0]&&n<=v[1]:f(n,i)}},p=function(e,t,i){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e,t){return i(this.filtervalue,e,this.comparisonoperator)}}},e.jqx.longInt=function(){var e=this;e.longObj=new Object;var t=e.longObj;return t.mathObj=new Object,t.mathObj.Long=new Object,t.mathObj.Long=function(e,t){this.lowBits=0|e,this.highBits=0|t},t.mathObj.Long.IntCache={},t.mathObj.Long.fromInt=function(e){if(e>=-128&&128>e){var i=t.mathObj.Long.IntCache[e];if(i)return i}var s=new t.mathObj.Long(0|e,0>e?-1:0);return e>=-128&&128>e&&(t.mathObj.Long.IntCache[e]=s),s},t.mathObj.Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?t.mathObj.Long.ZERO:e<=-t.mathObj.Long.TWO_PWR_63_DBL_?t.mathObj.Long.MIN_VALUE:e+1>=t.mathObj.Long.TWO_PWR_63_DBL_?t.mathObj.Long.MAX_VALUE:0>e?t.mathObj.Long.fromNumber(-e).negate():new t.mathObj.Long(e%t.mathObj.Long.TWO_PWR_32_DBL_|0,e/t.mathObj.Long.TWO_PWR_32_DBL_|0)},t.mathObj.Long.fromBits=function(e,i){return new t.mathObj.Long(e,i)},t.mathObj.Long.fromString=function(e,i){if(0===e.length)throw new Error("number format error: empty string");var s=i||10;if(2>s||s>36)throw new Error("radix out of range: "+s);if("-"===e.charAt(0))return t.mathObj.Long.fromString(e.substring(1),s).negate();if(e.indexOf("-")>=0)throw new Error('number format error: interior "-" character: '+e);for(var r=t.mathObj.Long.fromNumber(Math.pow(s,8)),a=t.mathObj.Long.ZERO,o=0;o<e.length;o+=8){var n=Math.min(8,e.length-o),l=parseInt(e.substring(o,o+n),s);if(8>n){var h=t.mathObj.Long.fromNumber(Math.pow(s,n));a=a.multiply(h).add(t.mathObj.Long.fromNumber(l))}else a=a.multiply(r),a=a.add(t.mathObj.Long.fromNumber(l))}return a},t.mathObj.Long.TWO_PWR_16_DBL_=65536,t.mathObj.Long.TWO_PWR_24_DBL_=1<<24,t.mathObj.Long.TWO_PWR_32_DBL_=t.mathObj.Long.TWO_PWR_16_DBL_*t.mathObj.Long.TWO_PWR_16_DBL_,t.mathObj.Long.TWO_PWR_31_DBL_=t.mathObj.Long.TWO_PWR_32_DBL_/2,t.mathObj.Long.TWO_PWR_48_DBL_=t.mathObj.Long.TWO_PWR_32_DBL_*t.mathObj.Long.TWO_PWR_16_DBL_,t.mathObj.Long.TWO_PWR_64_DBL_=t.mathObj.Long.TWO_PWR_32_DBL_*t.mathObj.Long.TWO_PWR_32_DBL_,t.mathObj.Long.TWO_PWR_63_DBL_=t.mathObj.Long.TWO_PWR_64_DBL_/2,t.mathObj.Long.ZERO=t.mathObj.Long.fromInt(0),t.mathObj.Long.ONE=t.mathObj.Long.fromInt(1),t.mathObj.Long.NEG_ONE=t.mathObj.Long.fromInt(-1),t.mathObj.Long.MAX_VALUE=t.mathObj.Long.fromBits(-1,2147483647),t.mathObj.Long.MIN_VALUE=t.mathObj.Long.fromBits(0,-2147483648),
t.mathObj.Long.TWO_PWR_24_=t.mathObj.Long.fromInt(1<<24),t.mathObj.Long.prototype.toInt=function(){return this.lowBits},t.mathObj.Long.prototype.toNumber=function(){return this.highBits*t.mathObj.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},t.mathObj.Long.prototype.toString=function(i){var s=i||10;if(2>s||s>36)throw new Error("radix out of range: "+s);if(this.isZero())return"0";var r,a;if(this.isNegative()){if(this.equals(t.mathObj.Long.MIN_VALUE)){var o=t.mathObj.Long.fromNumber(s),n=this.div(o);return r=n.multiply(o).subtract(this),n.toString(s)+r.toInt().toString(s)}switch(s){case 2:case 8:case 16:return a="-"+this.negate().toString(2),e._negativeBinary(a,s);default:return a="-"+this.negate().toString(s)}}var l=t.mathObj.Long.fromNumber(Math.pow(s,6));for(r=this,a="";;){var h=r.div(l),d=r.subtract(h.multiply(l)).toInt(),c=d.toString(s);if(r=h,r.isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},t.mathObj.Long.prototype.getHighBits=function(){return this.highBits},t.mathObj.Long.prototype.getLowBits=function(){return this.lowBits},t.mathObj.Long.prototype.getLowBitsUnsigned=function(){return this.lowBits>=0?this.lowBits:t.mathObj.Long.TWO_PWR_32_DBL_+this.lowBits},t.mathObj.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(t.mathObj.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.highBits?this.highBits:this.lowBits,i=31;i>0&&0===(e&1<<i);i--);return 0!==this.highBits?i+33:i+1},t.mathObj.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},t.mathObj.Long.prototype.isNegative=function(){return this.highBits<0},t.mathObj.Long.prototype.isOdd=function(){return 1===(1&this.lowBits)},t.mathObj.Long.prototype.equals=function(e){return this.highBits===e.highBits&&this.lowBits===e.lowBits},t.mathObj.Long.prototype.notEquals=function(e){return this.highBits!==e.highBits||this.lowBits!==e.lowBits},t.mathObj.Long.prototype.lessThan=function(e){return this.compare(e)<0},t.mathObj.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},t.mathObj.Long.prototype.greaterThan=function(e){return this.compare(e)>0},t.mathObj.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},t.mathObj.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.subtract(e).isNegative()?-1:1},t.mathObj.Long.prototype.negate=function(){return this.equals(t.mathObj.Long.MIN_VALUE)?t.mathObj.Long.MIN_VALUE:this.not().add(t.mathObj.Long.ONE)},t.mathObj.Long.prototype.add=function(e){var i=this.highBits>>>16,s=65535&this.highBits,r=this.lowBits>>>16,a=65535&this.lowBits,o=e.highBits>>>16,n=65535&e.highBits,l=e.lowBits>>>16,h=65535&e.lowBits,d=0,c=0,u=0,p=0;return p+=a+h,u+=p>>>16,p&=65535,u+=r+l,c+=u>>>16,u&=65535,c+=s+n,d+=c>>>16,c&=65535,d+=i+o,d&=65535,t.mathObj.Long.fromBits(u<<16|p,d<<16|c)},t.mathObj.Long.prototype.subtract=function(e){return this.add(e.negate())},t.mathObj.Long.prototype.multiply=function(e){if(this.isZero())return t.mathObj.Long.ZERO;if(e.isZero())return t.mathObj.Long.ZERO;if(this.equals(t.mathObj.Long.MIN_VALUE))return e.isOdd()?t.mathObj.Long.MIN_VALUE:t.mathObj.Long.ZERO;if(e.equals(t.mathObj.Long.MIN_VALUE))return this.isOdd()?t.mathObj.Long.MIN_VALUE:t.mathObj.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(t.mathObj.Long.TWO_PWR_24_)&&e.lessThan(t.mathObj.Long.TWO_PWR_24_))return t.mathObj.Long.fromNumber(this.toNumber()*e.toNumber());var i=this.highBits>>>16,s=65535&this.highBits,r=this.lowBits>>>16,a=65535&this.lowBits,o=e.highBits>>>16,n=65535&e.highBits,l=e.lowBits>>>16,h=65535&e.lowBits,d=0,c=0,u=0,p=0;return p+=a*h,u+=p>>>16,p&=65535,u+=r*h,c+=u>>>16,u&=65535,u+=a*l,c+=u>>>16,u&=65535,c+=s*h,d+=c>>>16,c&=65535,c+=r*l,d+=c>>>16,c&=65535,c+=a*n,d+=c>>>16,c&=65535,d+=i*h+s*l+r*n+a*o,d&=65535,t.mathObj.Long.fromBits(u<<16|p,d<<16|c)},t.mathObj.Long.prototype.div=function(e){if(e.isZero())throw new Error("division by zero");if(this.isZero())return t.mathObj.Long.ZERO;var i,s;if(this.equals(t.mathObj.Long.MIN_VALUE)){if(e.equals(t.mathObj.Long.ONE)||e.equals(t.mathObj.Long.NEG_ONE))return t.mathObj.Long.MIN_VALUE;if(e.equals(t.mathObj.Long.MIN_VALUE))return t.mathObj.Long.ONE;var r=this.shiftRight(1);if(i=r.div(e).shiftLeft(1),i.equals(t.mathObj.Long.ZERO))return e.isNegative()?t.mathObj.Long.ONE:t.mathObj.Long.NEG_ONE;s=this.subtract(e.multiply(i));var a=i.add(s.div(e));return a}if(e.equals(t.mathObj.Long.MIN_VALUE))return t.mathObj.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var o=t.mathObj.Long.ZERO;for(s=this;s.greaterThanOrEqual(e);){i=Math.max(1,Math.floor(s.toNumber()/e.toNumber()));for(var n=Math.ceil(Math.log(i)/Math.LN2),l=48>=n?1:Math.pow(2,n-48),h=t.mathObj.Long.fromNumber(i),d=h.multiply(e);d.isNegative()||d.greaterThan(s);)i-=l,h=t.mathObj.Long.fromNumber(i),d=h.multiply(e);h.isZero()&&(h=t.mathObj.Long.ONE),o=o.add(h),s=s.subtract(d)}return o},t.mathObj.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},t.mathObj.Long.prototype.not=function(){return t.mathObj.Long.fromBits(~this.lowBits,~this.highBits)},t.mathObj.Long.prototype.and=function(e){return t.mathObj.Long.fromBits(this.lowBits&e.lowBits,this.highBits&e.highBits)},t.mathObj.Long.prototype.or=function(e){return t.mathObj.Long.fromBits(this.lowBits|e.lowBits,this.highBits|e.highBits)},t.mathObj.Long.prototype.xor=function(e){return t.mathObj.Long.fromBits(this.lowBits^e.lowBits,this.highBits^e.highBits)},t.mathObj.Long.prototype.shiftLeft=function(e){if(e&=63,0===e)return this;var i=this.lowBits;if(32>e){var s=this.highBits;return t.mathObj.Long.fromBits(i<<e,s<<e|i>>>32-e)}return t.mathObj.Long.fromBits(0,i<<e-32)},t.mathObj.Long.prototype.shiftRight=function(e){if(e&=63,0===e)return this;var i=this.highBits;if(32>e){var s=this.lowBits;return t.mathObj.Long.fromBits(s>>>e|i<<32-e,i>>e)}return t.mathObj.Long.fromBits(i>>e-32,i>=0?0:-1)},t.mathObj.Long.prototype.shiftRightUnsigned=function(e){if(e&=63,0===e)return this;var i=this.highBits;if(32>e){var s=this.lowBits;return t.mathObj.Long.fromBits(s>>>e|i<<32-e,i>>>e)}return 32===e?t.mathObj.Long.fromBits(i,0):t.mathObj.Long.fromBits(i>>>e-32,0)},t},e.jqx.math=function(){var t=new Object,i=new e.jqx.longInt;return t.getDecimalNotation=function(e,t){function i(e){for(var t="-0123456789",i="",s="",r=0;r<e.length;r++){var a=t.indexOf(e.charAt(r));s+=-1!==a?i[a]:e[r]}return s}function s(e){if("0"===e)return parseInt(e).toExponential();var t;"-"===e.charAt(0)?(t="-",e=e.slice(1,e.length)):t="";for(var i=e.length-1;"0"===e.charAt(e.length-1);)e=e.slice(0,e.length-1);var s=e.slice(1,e.length);return""!==s&&(s="."+s),t+""+e.charAt(0)+s+"e+"+i}function r(e){var t=e.indexOf("e"),s=e.slice(t+1),r=e.slice(0,t+1);return r=r.replace("e","10"),r+=i(s),r=r.replace("+","")}function a(e){var t=e.indexOf("e"),s=e.slice(t+1),r=e.slice(0,t),a=parseInt(s,10)%3;r*=Math.pow(10,a);var o=e.slice(0,t).length-a-2;o>=0&&(r=r.toFixed(o));var n=r+"10"+i((parseInt(s,10)-a).toString());return n}if("decimal"===t)return e;e=e.toString();var o=s(e);return"scientific"===t?r(o):"engineering"===t?a(o):o},e.extend(t,i.mathObj.Long),t}}(jqxBaseFramework),function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.aggregates=null,this.aggregatesRenderer=null,this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){var i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){var s=this;if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"validation")&&(this.validation=e.jqx.get(i,"validation")),e.jqx.hasProperty(i,"autoCellHeight")&&(this.autoCellHeight=e.jqx.get(i,"autoCellHeight")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsFormat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=e.jqx.get(i,"minWidth")),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=e.jqx.get(i,"maxWidth")),e.jqx.hasProperty(i,"cellsRenderer")&&(this.cellsRenderer=e.jqx.get(i,"cellsRenderer")),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")&&(this.initeditor=e.jqx.get(i,"initEditor")),e.jqx.hasProperty(i,"createEditor")&&(this.createeditor=e.jqx.get(i,"createEditor")),e.jqx.hasProperty(i,"destroyEditor")&&(this.destroyeditor=e.jqx.get(i,"destroyEditor")),e.jqx.hasProperty(i,"getEditorValue")&&(this.geteditorvalue=e.jqx.get(i,"getEditorValue")),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")&&(this.cellclassname=e.jqx.get(i,"cellClassName")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesRenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var r in i)if(!s.hasOwnProperty(r)&&!s.hasOwnProperty(r.toLowerCase()))throw t.host.remove(),new Error("jqxDataTable: Invalid property name - "+r+".")}},this._initfields(i),this}e.jqx.jqxWidget("jqxDataTable","",{}),e.extend(e.jqx._jqxDataTable.prototype,{defineInstance:function(){var t={altRows:!1,aggregatesHeight:34,autoShowLoadElement:!0,autoRowHeight:!0,columnsHeight:30,columns:[],columnGroups:null,columnsResize:!1,columnsReorder:!1,dataview:null,disabled:!1,editable:!1,editSettings:{saveOnPageChange:!0,saveOnBlur:!0,saveOnSelectionChange:!0,cancelOnEsc:!0,saveOnEnter:!0,editSingleCell:!1,editOnDoubleClick:!0,editOnF2:!0},enableHover:!0,enableBrowserSelection:!1,filterHeight:30,filterable:!1,filterMode:"default",groupsRenderer:null,groups:new Array,headerZIndex:359,height:null,handleKeyboardNavigation:null,indentWidth:25,initRowDetails:!1,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed.",localization:null,pagerHeight:e.jqx.utilities.dataTable_pagerHeight,pageSize:10,pageSizeOptions:["5","10","20"],pageable:!1,pagerPosition:"bottom",pagerMode:"default",pageSizeMode:"default",pagerButtonsCount:5,useDefaultPagerRenderer:!0,pagerRenderer:null,ready:null,rendertoolbar:null,rowDetails:!1,renderStatusBar:null,rendered:null,rendering:null,rtl:!1,sortable:!1,showtoolbar:!1,showstatusbar:!1,statusBarHeight:34,serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:e.jqx.utilities.scrollBarSize,touchScrollBarSize:e.jqx.utilities.touchScrollBarSize,showAggregates:!1,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,beginEdit:null,endEdit:null,autokoupdates:!0,columnsVirtualization:!1,exportSettings:{columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,recordsInView:!0,fileName:"jqxDataTable"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},toolbarHeight:34,tableZIndex:369,_updating:!1,touchmode:"auto",width:null,that:this,incrementalSearch:!0,events:["bindingComplete","sort","filter","pageChanged","pageSizeChanged","rowClick","rowDoubleClick","cellValueChanged","rowBeginEdit","rowEndEdit","rowSelect","rowUnselect","rowCheck","rowUncheck","columnResized","columnReordered","rowExpand","rowCollapse","cellBeginEdit","cellEndEdit"]};return e.extend(!0,this,t),this.that=this,t},createInstance:function(t){var i=this;if(i.useDefaultPagerRenderer&&i.pageable&&"advanced"==i.pagerMode&&(i.pagerHeight=36,i.pagerRenderer=i.extend_getPagerDom),15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),"table"==i.element.nodeName.toLowerCase()||e(i.element).children("table").length>0){var s=i.host.find("tbody tr"),r=i.host.find("th"),a=new Array;0===r.length&&(r=s[0],s.splice(0,1)),i.localizestrings&&(i.localizestrings(),null!=i.localization&&i.localizestrings(i.localization,!1));for(var o=[],n=0;n<s.length;n++){for(var l=s[n],h={},d=0;d<r.length;d++){var c=e.trim(e(r[d]).text());if(0===n){var u={name:c};if(i.columns[d]&&i.columns[d].cellsFormat){var p=i.columns[d].cellsFormat.toLowerCase();(-1!=p.indexOf("p")||-1!=p.indexOf("c")||-1!=p.indexOf("n")||-1!=p.indexOf("f"))&&(u.type="number"),(-1!=p.indexOf("d")||-1!=p.indexOf("m")||-1!=p.indexOf("y")||-1!=p.indexOf("h")||-1!=p.indexOf("m")||-1!=p.indexOf("s")||-1!=p.indexOf("t"))&&(u.type="date")}a.push(u)}var m=e(l).find("td:eq("+d+")"),f=a[d].type;if(f){var v=i.getvaluebytype(e.trim(m.text()),a[d]);h[c]=v}else h[c]=e.trim(m.text())}o[o.length]=h}i.host.wrap("<div></div>");var g=i.host.parent(),x=i.host.data();x.jqxDataTable.host=g,x.jqxDataTable.element=g[0],i.host.parent()[0].id=i.element.id;try{i.host.parent()[0].style=i.element.style}catch(b){}i.element=g[0],i.host=g,i.host.data(x);var y={dataFields:a,localdata:o,datatype:"array"},w=new e.jqx.dataAdapter(y);i.source=w}i.source&&!i.source.dataBind&&(i.source=new e.jqx.dataAdapter(i.source));var _=i.source._source.datafields;_&&_.length>0&&(i._camelCase=void 0!==i.source._source.dataFields,i.selectionMode=i.selectionMode.toLowerCase()),null==i.host.attr("tabindex")&&i.host.attr("tabindex","0"),i.host.attr("role","grid"),i.host.attr("align","left"),i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content")),i._testmodules()||(i.render(!0),e.jqx.utilities.resize(i.host,function(){var t=e(window).width(),s=e(window).height(),r=i.host.width(),a=i.host.height();(i._lastHostWidth!=r||i._lastHostHeight!=a)&&i._updatesize(i._lastHostWidth!=r,i._lastHostHeight!=a),i._lastWidth=t,i._lastHeight=s,i._lastHostWidth=r,i._lastHostHeight=a}))},extend_getPagerDom:function(){var e='<div class="bh-pager"><div class="bh-pull-left"><a href="javascript:void(0);" class="bh-pager-btn waves-effect" pager-flag="prev"><i class="iconfont icon-keyboardarrowleft"></i></a><a href="javascript:void(0);" class="bh-pager-btn waves-effect" pager-flag="next"><i class="iconfont icon-keyboardarrowright"></i></a><span class="bh-pager-num">1-10 of 200</span><label class="bh-pager-label"></label><input type="text" class="bh-form-control bh-pager-input" pager-flag="gotoPage"/><span></span></div><div class="bh-pull-right"><div pager-flag="pagerOptionSel" class="bh-pull-right"></div><label class="bh-pull-right bh-pager-label"></label></div></div>';return e},extend_ready:function(){var t=e(this.element),i=t.jqxDataTable("pageSizeOptions"),s=this.pagerdiv.find('[pager-flag="pagerOptionSel"]'),r=this.pagerdiv.find('[pager-flag="prev"]'),a=this.pagerdiv.find('[pager-flag="next"]'),o=this.pagerdiv.find('[pager-flag="gotoPage"]');if(s.length>0){for(var n=t.jqxDataTable("pageSize"),l=0,h=0,d=i.length;d>h;h++)if(i[h]==n){l=h;break}s.jqxDropDownList&&(s.jqxDropDownList({source:i,selectedIndex:l,width:"60",height:"26",dropDownHeight:"100"}),s.on("change",function(e){var i=e.args;if(i){var s=i.item,r=s.value;t.jqxDataTable({pageSize:parseInt(r)})}}))}r.length>0&&r.unbind("click").bind("click",function(){t.jqxDataTable("goToPrevPage")}),a.length>0&&a.unbind("click").bind("click",function(){t.jqxDataTable("goToNextPage")}),o.length>0&&o.unbind("keydown").bind("keydown",function(i){var i=i||window.event;if(13==i.keyCode&&""!=e(this).val()){var s=parseInt(e(this).val()-1);t.jqxDataTable("goToPage",s)}}),t.jqxDataTable("extend_refreshPagerNum"),t.on("pageChanged",function(){t.jqxDataTable("extend_refreshPagerNum")}),t.on("pageSizeChanged",function(){t.jqxDataTable("extend_refreshPagerNum")})},extend_refreshPagerNum:function(){var t=this.getPageInformation(),i=e(this.element);if(t){var s=t.pagenum,r=t.pagesize,a=t.totalrecords;i.find('[pager-flag="gotoPage"]').val(s+1);var o=s*r==0?1:s*r,n=a>=(s+1)*r?(s+1)*r:a,l=o+"-"+n+" of "+a;i.find(".bh-pager-num").text(l)}},getvaluebytype:function(t,i){var s=t;if(null==t)return t;if(","==this.gridlocalization.decimalseparator&&t.indexOf(this.gridlocalization.decimalseparator)>=0&&(t=t.replace(this.gridlocalization.decimalseparator,".")),t.indexOf(this.gridlocalization.currencysymbol)>=0&&(t=t.replace(this.gridlocalization.currencysymbol,"")),t.indexOf(this.gridlocalization.percentagesymbol)>=0&&(t=t.replace(this.gridlocalization.percentagesymbol,"")),e.isArray(t)&&"array"!=i.type){for(var r=0;r<t.length;r++)t[r]=this.getvaluebytype(t[r],i);return t}if("date"==i.type)if("NaN"==t)t="";else{var a=new Date(t);if("string"==typeof t&&i.format){var o=e.jqx.dataFormat.parsedate(t,i.format);null!=o&&(a=o)}t=("NaN"==a.toString()||"Invalid Date"==a.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):a,null==t&&(t=s)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{var t=parseFloat(t);isNaN(t)&&(t=s)}else if("int"==i.type||"integer"==i.type){var t=parseInt(t);isNaN(t)&&(t=s)}else("bool"==i.type||"boolean"==i.type)&&(null!=t&&void 0!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t?!0:0==t&&""!==t?!1:"");return t},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var t=e('<div class="jqx-widget jqx-loader jqx-rc-all jqx-fill-state-normal jqx-rc-t jqx-rc-b jqx-popup" style="width: 300px; height: 60px;"><div class="bh-loader-icon-line  bh-loader-icon-line-border"><i></i><i></i><i></i><i></i><i></i></div></div>');this.dataloadelement.append(t),this.host.prepend(this.dataloadelement)},_builddataloadelement1:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");if(t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t),this.dataloadelement.css({width:this.width}),this.dataloadelement.css({height:this.height}),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var i=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(i=!0),i?(this.host.css({height:100}),this.dataloadelement.css({height:100})):(this.host.css({height:this.height}),this.dataloadelement.css({height:this.height}));var s=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(s=!0),s?(this.host.css({width:300}),this.dataloadelement.css({width:300})):(this.host.css({width:this.width}),this.dataloadelement.css({width:this.width}))}},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_testmodules:function(){var t="",i=this,s=function(){""!=t.length&&(t+=",")};if(this.host.jqxScrollBar||(s(),t+=" jqxscrollbar.js"),this.host.jqxButton||(s(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(s(),t+=" jqxdata.js"),""!=t||this.editable||this.filterable||this.pageable){var r=[],a=function(e){switch(e){case"checkbox":i.host.jqxCheckBox||r.checkbox||(r.checkbox=!0,s(),t+=" jqxcheckbox.js");break;case"dropdownlist":i.host.jqxDropDownList||r.dropdownlist?i.host.jqxListBox||r.listbox||(s(),r.listbox=!0,t+=" jqxlistbox.js"):(s(),r.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};if((this.filterable&&"simple"!=this.filterMode||"advanced"==this.pagerMode&&this.pageable)&&a("dropdownlist"),""!=t)throw new Error("jqxDataTable: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus(),this.host.focus();var e=this;setTimeout(function(){e.wrapper.focus(),e.host.focus()},25),this.focused=!0}catch(t){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},isBindingCompleted:function(){return!this._loading},_updatesize:function(t,i){if(!this._loading){var s=this,r=s.host.width(),a=s.host.height();s._oldWidth||(s._oldWidth=r),s._oldHeight||(s._oldHeight=a),void 0!=s._resizeTimer&&(clearTimeout(s._resizeTimer),s._resizeTimer=null);var o=300,n=function(){s._resizeTimer&&clearTimeout(s._resizeTimer),s.resizingGrid=!0,e.jqx.isHidden(s.host)||(s._updatecolumnwidths(),s.refresh(),s._oldWidth=r,s._oldHeight=a,s.resizingGrid=!1)};n(),s._resizeTimer=setTimeout(function(){var e=s.host.width(),t=s.host.height();(s._oldWidth!=e||s._oldHeight!=t)&&n()},o)}},resize:function(e,t){void 0!=e&&(this.width=e),void 0!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();return this.touchDevice=t,1==this.touchmode?(t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t):0==this.touchmode&&(t=!1),t&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(null!=t){for(var s in t)s.toLowerCase()!==s&&(t[s.toLowerCase()]=t[s]);for(var r=["pagergotopagestring","pagershowrowsstring","pagerrangestring","pagernextbuttonstring","pagerpreviousbuttonstring","pagerfirstbuttonstring","pagerlastbuttonstring","toppagerstring","firstDay","days","months","AM","PM","patterns","percentsymbol","currencysymbol","currencysymbolposition","decimalseparator","thousandsseparator","filterapplystring","filteraddnew","filtercancelstring","filterclearstring","filterstring","filterstringcomparisonoperators","filternumericcomparisonoperators","filterdatecomparisonoperators","filterbooleancomparisonoperators","emptydatastring","filterselectstring","todaystring","clearstring","validationstring","loadtext","filtersearchstring","loadingErrorMessage"],a=this,o=0;o<r.length;o++){var n=r[o];void 0!==t[n]&&(a.gridlocalization[n]=t[n])}t.loadingErrorMessage&&(this.loadingErrorMessage=t.loadingErrorMessage),i!==!1&&(this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",filterapplystring:"Apply",filtercancelstring:"Cancel",filterclearstring:"Clear Filter",filterstring:"advanced",filtersearchstring:"Search:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed."}},_updateScrollbars:function(e){var t=!1;("auto"===this.width||null===this.width||this.autowidth)&&999999==this.maxWidth&&(t=!0);var i=parseInt(this.scrollBarSize),s=this.table?this.table.height():0,r=0,a="inherit",o=this.vScrollBar[0].style.visibility;this.hScrollBar[0].style.visibility;if(e)var n=e;else var n=this.host.height();n-=this.columnGroups?this.showHeader?this.columnsheader.height():0:this.showHeader?this.columnsHeight:0,this.filterable&&(n-=this.filter.height()),this.pageable&&(n-=this.pagerHeight,"both"===this.pagerPosition&&(n-=this.pagerHeight)),this.showtoolbar&&(n-=this.toolbarHeight),this.showstatusbar&&(n-=this.statusBarHeight),this.showAggregates&&(n-=this.aggregatesHeight);var l=!1;if(("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(l=!0),!l&&s>n&&(this.source.records.length>0||this.source.hierarchy.length>0)?(this.vScrollBar[0].style.visibility=a,r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:s-n})):this.vScrollBar[0].style.visibility="hidden",o!=this.vScrollBar[0].style.visibility){this._updatecolumnwidths();var h=this.table.height();s!=h&&(s=h,!l&&s>n&&(this.source.records.length>0||this.source.hierarchy.length>0)&&(this.vScrollBar[0].style.visibility=a,r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:s-n})))}var d=this.table?this.table.width():0;d>3&&(d-=3);var c=parseInt(this.host.css("border-left-width"))+parseInt(this.host.css("border-right-width")),u=c+this.host.width()-r;if(d>u&&!t){if(this.hScrollBar[0].style.visibility=a,this.hScrollBar.jqxScrollBar({max:d-u}),r=4+parseInt(i),!l){if(s>n-r+4&&(this.source.records.length>0||this.source.hierarchy.length>0)){this.hScrollBar.jqxScrollBar({max:c+d-u});var p="hidden"===this.vScrollBar[0].style.visibility;this.vScrollBar[0].style.visibility=a,this._updatecolumnwidths(),p&&this.hScrollBar.jqxScrollBar({max:d-u+r+c});var m=this.table?this.table.width():0;m>3&&(m-=3),m!=d&&u>m&&(this.hScrollBar.jqxScrollBar({max:c+m-u}),this.hScrollBar[0].style.visibility="hidden",r=0)}this.vScrollBar.jqxScrollBar({max:s-n+r})}}else this.hScrollBar[0].style.visibility="hidden";0===this.source.records.length&&this.source.hierarchy&&0===this.source.hierarchy.length&&(this.vScrollBar[0].style.visibility="hidden",this.bottomRight[0].style.visibility="hidden"),"hidden"==this.vScrollBar[0].style.visibility&&0!=this.vScrollInstance.value&&this.vScrollInstance.setPosition(0)},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var s=i.outerWidth()+20;return i.remove(),s},_arrangeAutoHeight:function(e){if(e||(e=0),"auto"===this.height||null===this.height||this.autoheight){var t=this.table.height(),i=0;if(i+=this.columnGroups?this.showHeader?this.columnsheader.height():-1:this.showHeader?this.columnsHeight:-1,i+=this.showstatusbar?this.statusBarHeight:0,i+=this.showAggregates?this.aggregatesHeight:0,i+=this.showtoolbar?this.toolbarHeight:0,i+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(i+=this.pageable?this.pagerHeight:0),
i+=t,this.filterable){var s=this.filter.find(".filterrow"),r=this.filter.find(".filterrow-hidden"),a=1;r.length>0&&(a=0),i+=this.filterHeight-1+this.filterHeight*s.length*a}return i+e>this.maxHeight?this.host.css({height:this.maxHeight}):this.host.css({height:i+e}),!0}return!1},_arrangeAutoWidth:function(e){if(e||(e=0),"auto"===this.width||null===this.width||this.autowidth){for(var t=0,i=0;i<this.columns.records.length;i++){var s=this.columns.records[i].width;this.columns.records[i].hidden||("auto"==s?(s=this._measureElementWidth(this.columns.records[i].text),t+=s):t+=s)}return width=t,width+e>this.maxWidth?this.host.css({width:this.maxWidth}):this.host.css({width:width+e}),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;if(this.showtoolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.filterable){var i=this.filter.find(".filterrow"),s=this.filter.find(".filterrow-hidden"),r=1;s.length>0&&(r=0),t+=this.filterHeight,e-=parseInt(this.filterHeight);var a=1==r?i.length:0;t+=this.filterHeight*a,e-=this.filterHeight*a}return this.pageable&&"bottom"!=this.pagerPosition&&(t+=parseInt(this.pagerHeight)+1,e>this.pagerHeight&&"both"===this.pagerPosition&&(e-=parseInt(this.pagerHeight))),{top:t,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var t=this.host.width(),i=this.host.height(),s=i;this.pageable?"bottom"===this.pagerPosition?(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="inherit"):"both"===this.pagerPosition?(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="inherit"):"top"===this.pagerPosition&&(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="hidden"):(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="hidden");var r=0;if(this.showtoolbar?(this.toolbar.css({width:t}),this.toolbar.css({height:this.toolbarHeight-1}),this.toolbar.css("top",0),r+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.filterable){this.filter.css({width:t}),this.filter.css("top",r);var a=this.filter.find(".filterrow"),o=this.filter.find(".filterrow-hidden"),n=1;o.length>0&&(n=0),this.filter.css({height:this.filterHeight-1+this.filterHeight*a.length*n}),r+=this.filterHeight,i-=parseInt(this.filterHeight);var l=1==n?a.length:0;r+=this.filterHeight*l,i-=this.filterHeight*l}if(this.showstatusbar?(this.statusbar.css({width:this.table?Math.max(t,this.table.width()):t}),this.statusbar.css({height:this.statusBarHeight-1})):this.statusbar[0].style.height="0px",this.showAggregates?this.aggregates.css({height:this.aggregatesHeight-1}):this.aggregates[0].style.height="0px",this.pageable&&"bottom"!=this.pagerPosition)this.toppager[0].style.width=t+"px",this.toppager[0].style.height=parseInt(this.pagerHeight)+"px",this.toppager[0].style.top=parseInt(r)+"px",r+=parseInt(this.pagerHeight)+1,i>this.pagerHeight&&(i-=parseInt(this.pagerHeight));else{this.toppager[0].style.width!=t+"px"&&(this.toppager[0].style.width=parseInt(t)+"px"),this.toppager[0].style.height!=this.pagerHeight+"px"&&(this.toppager[0].style.height=parseInt(this.pagerHeight)+"px"),this.toppager[0].style.top!=r+"px"&&(this.toppager[0].style.top=r+"px");var h="bottom"!=this.pagerPosition?this.pagerHeight:0,d=r+h+"px";this.content[0].style.top!=d&&(this.content[0].style.top=r+this.pagerHeight+"px")}this._updateScrollbars(s);var c=parseInt(this.scrollBarSize),u=4,p=2,m=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(m=c+u),"hidden"!=this.hScrollBar[0].style.visibility&&(p=c+u+2),this.showAggregates&&("hidden"===this.hScrollBar[0].style.visibility?this.aggregates.css({width:this.table?Math.max(t,this.table.width())+4:t}):this.aggregates.css({width:"auto"})),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var f=this._arrangeAutoHeight(p-2),v=this._arrangeAutoWidth(m+1);if(f||v){var t=this.host.width();this.toppager[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.statusbar[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"}if(f){var g=this._measureTopAndHeight();r=g.top,i=g.height}}var x=0;this.pageable&&(x=this.pagerHeight,"top"!=this.pagerPosition&&(p+=this.pagerHeight)),this.showAggregates&&(p+=this.aggregatesHeight,x+=this.aggregatesHeight),this.showstatusbar&&(p+=this.statusBarHeight,x+=this.statusBarHeight),this.hScrollBar[0].style.height!=c+"px"&&(this.hScrollBar[0].style.height=parseInt(c)+"px"),(this.hScrollBar[0].style.top!=r+i-u-c-x+"px"||"0px"!=this.hScrollBar[0].style.left)&&(this.hScrollBar[0].style.top=r+i-u-c-x-1+"px",this.hScrollBar[0].style.left="0px");var b=this.hScrollBar[0].style.width,y=!1,w=!1;0==m?b!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",y=!0):b!=t-c-u+"px"&&(this.hScrollBar[0].style.width=t-c-u+"px",y=!0),this.vScrollBar[0].style.width!=c+"px"&&(this.vScrollBar[0].style.width=c+"px",w=!0),this.vScrollBar[0].style.height!=parseInt(i)-p+"px"&&(this.vScrollBar[0].style.height=parseInt(i)-p+"px",w=!0),(this.vScrollBar[0].style.left!=parseInt(t)-parseInt(c)-u+"px"||this.vScrollBar[0].style.top!=r+"px")&&(this.vScrollBar[0].style.top=r+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(c)-u+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:r}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:c+2}));var _=this.vScrollInstance;_.disabled=this.disabled;var T=this.hScrollInstance;T.disabled=this.disabled,y&&T.refresh(),w&&_.refresh();var j=function(e){"hidden"!=e.vScrollBar[0].style.visibility&&"hidden"!=e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="inherit",e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px",e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px",e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight[0].style.width=parseInt(c)+3+"px",e.bottomRight[0].style.height=parseInt(c)+4+"px",e.showAggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.css({height:parseInt(c)+4+e.aggregatesHeight}),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.aggregatesHeight}))):e.bottomRight[0].style.visibility="hidden"};if(j(this),this.content[0].style.width!=t-m+"px"&&(this.content[0].style.width=t-m+"px"),this.content[0].style.height!=i-p+4+"px"&&(this.content[0].style.height=i-p+4+"px"),this.content[0].style.top!=r+"px"&&(this.content[0].style.top=parseInt(r)+"px"),this.rtl&&(this.content.css("left",m),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",m),this.table)){var q=this.table.width();t-m>q&&(this.content.css("left",t-q+2),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",t-q+2))}this.showAggregates&&(this.aggregates.css("top",r+i-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0)),this.rtl&&this.aggregates.css("left","0px"),"hidden"!=this.hScrollBar.css("visibility")&&(this.hScrollBar.css({top:r+i-u-c-x+this.aggregatesHeight+"px"}),this.aggregates.css("top",1+r+i-c-5-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0))),j(this)),this.showstatusbar&&(this.statusbar.css("top",r+i-this.statusBarHeight-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.statusbar.css("left",this.content.css("left")):this.statusbar.css("left","0px"))),this.pageable?(this.pager[0].style.width=t+"px",this.pager[0].style.height=this.pagerHeight+"px",this.pager[0].style.top=parseInt(r)+parseInt(i)-parseInt(this.pagerHeight)-1+"px"):this.pager[0].style.height="0px",this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),i!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostwidth=t}},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=e&&"object"==typeof e)var t=e.left,i=e.top,e=i;null!=e&&null!=t&&void 0!=e&&void 0!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&void 0!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&void 0!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){this._updating=!1,e!==!1&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(t,i,s){if(this.loadingstate!==!0){"block"==this.host.css("display")&&(this.autoShowLoadElement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.css({width:this.host.width()}),this.dataloadelement.css({height:this.host.height()})):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")));var r=this;null==t&&(t={}),(void 0==t.sortcomparer||null==t.sortcomparer)&&(t.sortcomparer=null),(void 0==t.filter||null==t.filter)&&(t.filter=null),(void 0==t.sort||null==t.sort)&&(t.sort=null),(void 0==t.data||null==t.data)&&(t.data=null);var a=null;if(null!=t&&(a=void 0!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataView,this.dataview.pageable=this.pageable,this.dataview.grid=this,!r.initializedcall){if(t._source&&this.sortable&&(void 0!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),void 0!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var o=t._source.sortdirection;if("a"==o||"asc"==o||"ascending"==o||1==o)var n=!0;else var n=!1;null!=o?this.sortdirection={ascending:n,descending:!n}:this.sortdirection={ascending:!1,descending:!1}}this.pageable&&t._source&&(void 0!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),void 0!=t._source.pagesize?(this.pageSize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,void 0==this.dataview.pagesize&&(this.dataview.pagesize=this.pageSize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection))}this._loading=!0,this.dataview.update=function(t){r._loading=!1,r.rowsByKey=new Array;var a=r.source._source.datafields;if(r.groups&&r.groups.length>0){var o=Object.prototype.toString,n=r.groups[0];if(Object.prototype.toString="function"==typeof n?n:function(){return this[n]},!r.source.records.sort){var l=new Array,h=0;e.each(data,function(){l[startindex+h++]=this}),data=l}r.source.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;var s=0,r=0;if(t&&t.uid&&(s=t.uid),i&&i.uid&&(r=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(i>t)return-1;if(t>i)return 1}catch(a){}if("number"==typeof s){if(r>s)return-1;if(s>r)return 1}return 0}),Object.prototype.toString=o}for(var d=0;d<r.source.records.length;d++){var c=r.source.records[d];if(r.rowsByKey[c.uid]=c,c.records&&c.records.length>0){var u=function(e){for(var t=0;t<e.length;t++)e[t]&&(r.rowsByKey[e[t].uid]=e[t],e[t].records&&e[t].records.length>0&&u(e[t].records))};u(c.records)}if(0===d){var p=!1;if(a)for(var m=0;m<a.length;m++)if(a[m]&&!a[m].type){p=!0,a[m].type="string";var f=c[a[m].name];if(void 0==f)continue;if((f===!0||f===!1)&&(a[m].type="boolean"),null!=f&&f.toString().indexOf(r.gridlocalization.currencysymbol)>-1||f.toString().indexOf(r.gridlocalization.percentsymbol)>-1){var v=f.toString().split(" ").length,g=new Number(r._toNumber(f.toString()));isNaN(g)||1!=v||(a[m].type="number")}(e.jqx.dataFormat.isNumber(f)||!isNaN(parseFloat(f))&&isFinite(f))&&(a[m].type="number"),e.jqx.dataFormat.isDate(f)&&(a[m].type="date")}if(p)for(var m=0;m<a.length;m++){var x=r.source.getvaluebytype(c[a[m].name],a[m]);if(null!=x&&"number"==a[m].type){var b=x;b=new Number(r._toNumber(b.toString())),isNaN(b)||(x=b)}c[a[m].name]=x}}}if("pager"===i||"filter"===i||"sort"===i?r.refresh():r._render(),r.autoShowLoadElement&&!r._loading&&(e(r.dataloadelement).css("visibility","hidden"),e(r.dataloadelement).css("display","none")),r.pageable&&(r.disabled||r.pagernexttop&&(r.pagerfirsttop.jqxButton({disabled:!1}),r.pagerfirstbottom.jqxButton({disabled:!1}),r.pagerlasttop.jqxButton({disabled:!1}),r.pagerlastbottom.jqxButton({disabled:!1}),r.pagernexttop.jqxButton({disabled:!1}),r.pagerprevioustop.jqxButton({disabled:!1}),r.pagershowrowscombotop.jqxDropDownList&&"advanced"==r.pagerMode&&(r.pagershowrowscombotop.jqxDropDownList({disabled:!1}),r.pagershowrowscombobottom.jqxDropDownList({disabled:!1})),r.pagernextbottom.jqxButton({disabled:!1}),r.pagerpreviousbottom.jqxButton({disabled:!1}))),r._updateTouchScrolling(),r._raiseEvent("bindingComplete"),s&&(r.useDefaultPagerRenderer||"advanced"!=r.pagerMode||s()),!r.initializedcall&&(r.initializedcall=!0,r.isInitialized=!0,r.ready&&r.ready(),(null!=r.width&&-1!=r.width.toString().indexOf("%")||null!=r.height&&-1!=r.height.toString().indexOf("%"))&&r._updatesize(!0),"hidden"==r.host.css("visibility"))){e.jqx.browser.msie&&e.jqx.browser.version<8;"visible"==r.vScrollBar.css("visibility")&&r.vScrollBar.css("visibility","inherit"),"visible"==r.hScrollBar.css("visibility")&&r.hScrollBar.css("visibility","inherit"),r._intervalTimer=setInterval(function(){"visible"==r.host.css("visibility")&&(r._updatesize(!0),clearInterval(r._intervalTimer))},100)}},this.dataview.databind(t)}},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=t;args=i,args.owner=this;var r=new e.Event(s);r.owner=this,r.args=args;var a=this.host.trigger(r);return i=r.args,a},ensureColumnVisible:function(e){for(var t=0,i=0,s=0;s<this.columns.records.length;s++){if(this.columns.records[s].datafield==e){t+=this.columns.records[s].width,i=this.columns.records[s].width;break}t+=this.columns.records[s].width}if("hidden"!=this.hScrollBar.css("visibility")){var r=this.hScrollBar.jqxScrollBar("value"),a=r+this.host.width();r>t-i?this.hScrollBar.jqxScrollBar("setPosition",t-i):t>a&&this.hScrollBar.jqxScrollBar("setPosition",r+t-a)}},ensurerowvisiblebykey:function(t){if("hidden"===this.vScrollBar[0].style.visibility)return!1;var i=this._getuirow(t);if(i){var s=this.vScrollBar.jqxScrollBar("value"),r=this.host.height(),a=0;a+=this.columnGroups?this.showHeader?this.columnsheader.height():0:this.showHeader?this.columnsHeight:0,this.filterable&&(a+=this.filter.height()),this.pageable&&"top"===this.pagerPosition&&(a+=this.pagerHeight),this.showtoolbar&&(a+=this.toolbarHeight),r-=a,this.pageable&&"top"!==this.pagerPosition&&(r-=this.pagerHeight),this.showstatusbar&&(r-=this.statusBarHeightt),this.showAggregates&&(r-=this.aggregatesHeight),"hidden"!=this.hScrollBar.css("visibility")&&(r-=20);var o=this.host.coord().top+a,n=s,l=r+n,h=i.coord().top+s-o;h=Math.round(h);var d=h+i.outerHeight();if(d=Math.round(d),0===Math.round(i.position().top))return this.vScrollBar.jqxScrollBar("setPosition",0);var c=e(this._table.children()[1]).children().length-1,u=this._getuikey(c),p=this._getuirow(u);if(p&&p[0]===i[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(n>h){var m=h-i.height();return 0>m&&(m=0),this.vScrollBar.jqxScrollBar("setPosition",m)}return d>l?this.vScrollBar.jqxScrollBar("setPosition",4+d-r-s):void 0}},ensureRowVisible:function(e){var t=this._getkey(e);this.ensurerowvisiblebykey(t)},getColumn:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){return this.datafield==t||this.displayfield==t?(i=this,!1):void 0}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;var s=t;t=t.toLowerCase();var r=this.getColumn(e);if(null!=r){r[t];r[t]=i,r[s]=i;var a=this.getColumn(e);switch(null!=a&&(a[t]=i),t){case"filteritems":case"text":case"editable":case"resizable":case"draggable":case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t?(this._rendercolumnheaders(),this.refresh()):"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?(this._rendercolumnheaders(),this.refresh()):"width"==t||"maxwidth"==t||"minwidth"==t?(r._width=null,r._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(e,t){if(null==e||null==t)return null;t=t.toLowerCase();var i=this.getColumn(e);return i[t]},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;this.vScrollInstance.setPosition(0),this._renderrows(),this.updatepagerdetails(),this._arrange(),this._arrangeFilterRow&&this._arrangeFilterRow(),this._renderhorizontalscroll(),this._showicons(),this.showAggregates&&this._updateaggregates(),this._updateTouchScrolling()}},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){var i=e.jqx.mobile.getTouchEventName("touchstart"),s=e.jqx.mobile.getTouchEventName("touchend"),r=e.jqx.mobile.getTouchEventName("touchmove");t.gridcontent&&(t.removeHandler(t.gridcontent,i+".touchScroll"),t.removeHandler(t.gridcontent,r+".touchScroll"),t.removeHandler(t.gridcontent,s+".touchScroll"),t.removeHandler(t.gridcontent,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.gridcontent[0],Math.max(t.vScrollInstance.max,t.hScrollInstance.max),function(e,i){if("hidden"!=t.vScrollBar.css("visibility")){var s=t.vScrollInstance.value;t.vScrollInstance.setPosition(s+i)}if("hidden"!=t.hScrollBar.css("visibility")){var s=t.hScrollInstance.value;t.hScrollInstance.setPosition(s+e)}t.scrolled=new Date,t.vScrollInstance.thumbCapture=!0},this.element.id,this.hScrollBar,this.vScrollBar))}},_showicons:function(){if(this.table)for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t];if(e(i.filtericon).hide(),e(i.sortasc).hide(),e(i.sortdesc).hide(),"simple"!==this.filterMode)for(var s=0;s<this.dataview.filters.length;s++){var r=this.dataview.filters[s];if(r.datafield===i.displayfield){e(i.filtericon).show();break}}if(null!==this.sortcolumn&&this.sortcolumn===i.displayfield&&null!=this.sortdirection&&(this.sortdirection.ascending?e(i.sortasc).show():e(i.sortdesc).show()),"left"!=i.align&&"center"!=i.align&&!this.rtl||this.rtl&&"right"!=i.align&&"center"!=i.align){var a=e.jqx.isHidden(e(i.filtericon))?0:16;a+=e.jqx.isHidden(e(i.sortasc))?0:16,a+=e.jqx.isHidden(e(i.sortdesc))?0:16;var o=e(e(e(i.element).children()[0]).children()[0]);this.rtl?a>0?o.css("margin-left",8+a+"px"):o.css("margin-left","8px"):a>0?o.css("margin-right",8+a+"px"):o.css("margin-right","8px")}}},render:function(t){var i="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='toppager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerText="",this.element.innerHTML=i,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var s=this.host.find("#verticalScrollBar"+this.element.id),r=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=s.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.filter=this.host.find("#filter"),this.filter[0].id="filter"+this.element.id,this.filter.addClass(this.toTP("jqx-widget-header")),this.filter.addClass(this.toTP("jqx-grid-toolbar")),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.aggregates=this.host.find("#aggregates"),this.aggregates[0].id="aggregates"+this.element.id,this.aggregates.addClass(this.toTP("jqx-grid-statusbar")),this.aggregates.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.toppager=this.host.find("#toppager"),this.toppager.addClass(this.toTP("jqx-grid-pager-top")),this.toppager.addClass(this.toTP("jqx-widget-header")),this.gridtable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var a=this.source.datafields;if(null==a&&this.source._source&&(a=this.source._source.datafields),a)for(var o=0;o<this.columns.length;o++){var n=this.columns[o];if(n&&n.cellsFormat&&n.cellsFormat.length>2)for(var l=0;l<a.length;l++)if(a[l].name==n.datafield&&!a[l].format){a[l].format=n.cellsFormat;break}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this.showAggregates&&this.aggregates.css("visibility","inherit"),this.tableheight=null;var h=this,d=function(){h.content&&(h.content[0].scrollTop=0,h.content[0].scrollLeft=0),h.gridcontent&&(h.gridcontent[0].scrollLeft=0,h.gridcontent[0].scrollTop=0)};this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return d(),!1}),t!==!0&&this._render()},_render:function(){if(null!=this.dataview&&!this._loading){(25!=this.columnsHeight||this.columnGroups)&&this._measureElement("column"),this.filterable?this.filter[0].style.visibility="inherit":this.filter[0].style.visibility="hidden",this.rowinfo=new Array,this._removeHandlers(),null==this.columns?this.columns=new e.jqx.dataCollection(this.element):this._initializeColumns(),this.host.css({width:this.width}),this.host.css({height:this.height}),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header")),this.showHeader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var t=this.columnsHeight;t=this._preparecolumnGroups(),this.columnsheader.css({height:t}),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._rendercolumnheaders(),this.tableheight=null,this.gridcontent.find("#contenttable"+this.element.id).remove(),null!=this.table&&(this.table.remove(),this.table=null),this.table=e('<div id="contenttable'+this.element.id+'" style="overflow: hidden; position: relative;"></div>'),this.gridcontent.addClass(this.toTP("jqx-grid-content")),this.gridcontent.addClass(this.toTP("jqx-widget-content")),this.gridcontent.append(this.table),this._renderrows(),this.filterable&&this._renderfilter(),this.pageable&&this._initpager(),this._arrange(),this.renderStatusBar&&this.renderStatusBar(this.statusbar),this.rendertoolbar&&this.rendertoolbar(this.toolbar),this.showAggregates&&this._updateaggregates(),this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._renderhorizontalscroll(),this._showicons(),this._addHandlers()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},_initpager:function(){var t=this.gridlocalization.pagergotopagestring,i=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),s=(this.pagerHeight-e.jqx.utilities.dataTable_pagerBtnHeight)/2;if(this.pagerdiv=this.pagerdiv||e('<div style="width: 100%; height: 100%; position: relative;"></div>'),this.toppagerdiv=this.toppagerdiv||e('<div style="width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.toppagerdiv.remove();if(this.pagerRenderer){if(this.useDefaultPagerRenderer&&"advanced"==this.pagerMode){var r=this.pagerdiv.find('[pager-flag="pagerOptionSel"]');r.length>0&&r.jqxDropDownList("destroy")}this.pagerdiv.children().remove(),this.toppager.children().remove();var a=this.pagerRenderer();null!=a&&this.pagerdiv.append(e(a)),this.pager.append(this.pagerdiv);var a=this.pagerRenderer();null!=a&&this.toppagerdiv.append(e(a)),this.toppager.append(this.toppagerdiv),this.useDefaultPagerRenderer&&"advanced"==this.pagerMode&&this.extend_ready()}else{this.pagerdiv.css("top",s),this.toppagerdiv.css("top",s);var o=function(s,r){var a=this,o=e('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>'),n=e('<div style="float: right; margin-right: 7px;"></div>'),l=e('<div type="button" class="jqx-grid-pager-button"></div>'),h=e('<div type="button" class="jqx-grid-pager-button"></div>'),d=e('<div type="button" class="jqx-grid-pager-button"></div>'),c=e('<div type="button" class="jqx-grid-pager-button"></div>'),u=e('<div class="jqx-grid-pager-detail"></div>'),p=e('<div style="margin-right: 7px; float: right;"></div>'),m=e('<div class="jqx-grid-pager-number-group"></div>');o.attr("disabled",a.disabled);var f=e('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>');if(f[0].id="gridpagerlist"+r+a.element.id,a.removeHandler(l,"mousedown"),a.removeHandler(l,"mouseup"),a.removeHandler(l,"click"),a.removeHandler(h,"mousedown"),a.removeHandler(h,"mouseup"),a.removeHandler(h,"click"),a.removeHandler(d,"mousedown"),a.removeHandler(d,"mouseup"),a.removeHandler(d,"click"),a.removeHandler(c,"mousedown"),a.removeHandler(c,"mouseup"),a.removeHandler(c,"click"),a.rtl?(l.attr("title",a.gridlocalization.pagerpreviousbuttonstring),h.attr("title",a.gridlocalization.pagernextbuttonstring)):(h.attr("title",a.gridlocalization.pagerpreviousbuttonstring),l.attr("title",a.gridlocalization.pagernextbuttonstring)),e.jqx.browser.msie&&e.jqx.browser.version<8&&m.css("padding-top","3px"),this["pagerfirst"+r]=d,this["pagerlast"+r]=c,this["pagernext"+r]=l,this["pagerprevious"+r]=h,this["pagergotoinput"+r]=o,this["pagerdetails"+r]=u,this["pagershowrows"+r]=p,this["pagergotolabel"+r]=n,this["pagershowrowscombo"+r]=f,this["pagerbuttons"+r]=m,"default"==a.pagerMode){a.rtl?(c.attr("title",a.gridlocalization.pagerfirstbuttonstring),d.attr("title",a.gridlocalization.pagerlastbuttonstring)):(d.attr("title",a.gridlocalization.pagerfirstbuttonstring),c.attr("title",a.gridlocalization.pagerlastbuttonstring));var v=e("<div></div>");v.addClass(a.toThemeProperty("jqx-icon-arrow-first")),d.wrapInner(v);var g=e("<div></div>");g.addClass(a.toThemeProperty("jqx-icon-arrow-last")),c.wrapInner(g),a.rtl?(s.append(c),s.append(l),s.append(m),s.append(h),s.append(d)):(s.append(d),s.append(h),s.append(m),s.append(l),s.append(c)),c.jqxButton({cursor:"pointer",disabled:a.disabled,theme:a.theme}),d.jqxButton({cursor:"pointer",disabled:a.disabled,theme:a.theme});var x=a.rtl?"right":"left";m.css("float",x),c.css("float",x),d.css("float",x),l.css("float",x),h.css("float",x),u.css("float",a.rtl?"left":"right"),a.rtl?(u.css("margin-left","7px"),u.css("margin-right","0px")):(u.css("margin-left","0px"),u.css("margin-right","7px"))}else a.rtl||(l.css("float","right"),h.css("float","right"),s.append(l),s.append(h));l.jqxButton({cursor:"pointer",disabled:a.disabled,theme:a.theme}),h.jqxButton({cursor:"pointer",disabled:a.disabled,theme:a.theme});var b=e("<div></div>");b.addClass(a.toThemeProperty("jqx-icon-arrow-left")),h.wrapInner(b);var y=e("<div></div>");if(y.addClass(a.toThemeProperty("jqx-icon-arrow-right")),l.wrapInner(y),a.rtl||s.append(u),"default"!=a.pagerMode){a.rtl?(s.append(n),s.append(o),s.append(p),s.append(f),s.append(u),s.append(l),s.append(h)):(s.append(f),s.append(p),s.append(o),s.append(n));var w=a.pageSizeOptions;f.jqxDropDownList({_checkForHiddenParent:!1,rtl:a.rtl,disabled:a.disabled,source:w,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:44,height:e.jqx.utilities.grid_pagerBtnHeight,theme:a.theme});for(var _=0,T=0;T<w.length;T++)this.pageSize>=w[T]&&(_=T);n[0].innerHTML=t,f.jqxDropDownList({selectedIndex:_});var j=o.find("input");j.addClass(a.toThemeProperty("jqx-input")),j.addClass(a.toThemeProperty("jqx-widget-content")),this.rtl&&j.css("direction","rtl");
var a=this;this.removeHandler(f,"select"),this.addHandler(f,"select",function(e){if(e.args){a.vScrollInstance&&a.vScrollInstance.setPosition(0);var t=e.args.index;a.pagershowrowscombotop.data().jqxDropDownList.instance.selectIndex(t),a.pagershowrowscombobottom.data().jqxDropDownList.instance.selectIndex(t),a.pagershowrowscombobottom.data().jqxDropDownList.instance.renderSelection("mouse"),a.pagershowrowscombotop.data().jqxDropDownList.instance.renderSelection("mouse");var i=a.dataview.pagenum*a.dataview.pagesize,s=w[t],r=a.pageSize;a.pageSize=parseInt(s),isNaN(a.pageSize)&&(a.pageSize=10),s>=100?(a.pagershowrowscombotop.jqxDropDownList({width:55}),a.pagershowrowscombobottom.jqxDropDownList({width:55})):(a.pagershowrowscombotop.jqxDropDownList({width:44}),a.pagershowrowscombobottom.jqxDropDownList({width:44})),a.dataview.pagesize=a.pageSize;var o=Math.floor(i/a.dataview.pagesize);if(o!==a.dataview.pagenum||parseInt(s)!==parseInt(r)){a._raiseEvent("pageSizeChanged",{pagenum:o,oldpageSize:r,pageSize:a.dataview.pagesize});var n=a.goToPage(o);n||(a.serverProcessing?a.updateBoundData("pager"):a.refresh())}}});var o=o.find("input");o.addClass(a.toThemeProperty("jqx-grid-pager-input")),o.addClass(a.toThemeProperty("jqx-rc-all")),this.removeHandler(o,"keydown"),this.removeHandler(o,"change"),a.addHandler(o,"keydown",function(e){if(e.keyCode>=65&&e.keyCode<=90)return!1;if("13"==e.keyCode){var t=o.val();return t=parseInt(t),isNaN(t)||a.goToPage(t-1),!1}}),a.addHandler(o,"change",function(){var e=o.val();e=parseInt(e),isNaN(e)||a.goToPage(e-1)})}p[0].innerHTML=i,a.addHandler(l,"mouseenter",function(){y.addClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))}),a.addHandler(h,"mouseenter",function(){b.addClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))}),a.addHandler(l,"mouseleave",function(){y.removeClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))}),a.addHandler(h,"mouseleave",function(){b.removeClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))}),a.addHandler(l,"mousedown",function(){y.addClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))}),a.addHandler(l,"mouseup",function(){y.removeClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))}),a.addHandler(h,"mousedown",function(){b.addClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))}),a.addHandler(h,"mouseup",function(){b.removeClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))}),"default"===a.pagerMode&&(a.addHandler(c,"mouseenter",function(){g.addClass(a.toThemeProperty("jqx-icon-arrow-last-hover"))}),a.addHandler(d,"mouseenter",function(){v.addClass(a.toThemeProperty("jqx-icon-arrow-first-hover"))}),a.addHandler(c,"mouseleave",function(){g.removeClass(a.toThemeProperty("jqx-icon-arrow-last-hover"))}),a.addHandler(d,"mouseleave",function(){v.removeClass(a.toThemeProperty("jqx-icon-arrow-first-hover"))}),a.addHandler(c,"mousedown",function(){g.addClass(a.toThemeProperty("jqx-icon-arrow-last-selected"))}),a.addHandler(d,"mousedown",function(){v.addClass(a.toThemeProperty("jqx-icon-arrow-first-selected"))}),a.addHandler(c,"mouseup",function(){g.removeClass(a.toThemeProperty("jqx-icon-arrow-last-selected"))}),a.addHandler(d,"mouseup",function(){v.removeClass(a.toThemeProperty("jqx-icon-arrow-first-selected"))})),a.addHandler(e(document),"mouseup.pagerbuttons"+r+this.element.id,function(){y.removeClass(a.toThemeProperty("jqx-icon-arrow-right-selected")),b.removeClass(a.toThemeProperty("jqx-icon-arrow-left-selected")),g&&(g.removeClass(a.toThemeProperty("jqx-icon-arrow-last-selected")),v.removeClass(a.toThemeProperty("jqx-icon-arrow-first-selected")))}),a.addHandler(l,"click",function(){l.jqxButton("disabled")||(a.rtl?a.goToPrevPage():a.goToNextPage())}),a.addHandler(h,"click",function(){h.jqxButton("disabled")||(a.rtl?a.goToNextPage():a.goToPrevPage())}),"default"===this.pagerMode&&(a.addHandler(d,"click",function(){if(!d.jqxButton("disabled"))if(a.rtl){var e=a.dataview.totalrecords,t=Math.ceil(e/a.pageSize);a.goToPage(t-1)}else a.goToPage(0)}),a.addHandler(c,"click",function(){if(!c.jqxButton("disabled"))if(a.rtl)a.goToPage(0);else{var e=a.dataview.totalrecords,t=Math.ceil(e/a.pageSize);a.goToPage(t-1)}}))};this.pagerdiv.children().remove(),this.toppagerdiv.children().remove(),o.call(this,this.pagerdiv,"bottom"),o.call(this,this.toppagerdiv,"top"),this.pager.append(this.pagerdiv),this.toppager.append(this.toppagerdiv),this.updatepagerdetails()}},_updatepagertheme:function(){},goToPage:function(t,i){if(this._loading)return!1;if(void 0!=this.editKey){if(!this.editSettings.saveOnPageChange)return!1;var s=this.endroweditbykey(this.editKey);if(!s)return!1}if((null==t||void 0==t)&&(t=0),-1==t&&(t=0),0>t)return!1;var r=this.dataview.totalrecords,a=this.dataview.pagenum,o=Math.ceil(r/this.pageSize);return t>=o&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),t>0&&(t=o-1)),this.dataview.pagenum!=t?(this.pageable&&(this.dataview.pagenum=t,this._raiseEvent("pageChanged",{pagenum:t,oldpagenum:a,pageSize:this.dataview.pagesize})),this.serverProcessing?this.updateBoundData("pager",i):(this.refresh(),i&&e.isFunction(i)&&i()),!0):!1},goToPrevPage:function(e){if(this.dataview.pagenum>0)return this.goToPage(this.dataview.pagenum-1,e);if("default"!=this.pagerMode&&"advanced"!=this.pagerMode){var t=this.dataview.totalrecords,i=Math.ceil(t/this.pageSize);return this.goToPage(i-1,e)}return!1},goToNextPage:function(e){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=Math.ceil(t/this.pageSize);return this.dataview.pagenum<i-1?this.goToPage(this.dataview.pagenum+1,e):"default"!=this.pagerMode&&"advanced"!=this.pagerMode?this.goToPage(0,e):!1},getPageInformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pageSize,pagescount:Math.ceil(this.dataview.totalrecords/this.pageSize),totalrecords:this.dataview.totalrecords}},updatepagerdetails:function(){if(this.pageable){var t=this;if(!this.serverProcessing)if(this.source.hierarchy){var i=t._names(),s=0,r=function(a,o){for(var n=0;n<o.length;n++)0==t.dataview.filters.length&&(o[n]._visible=!0),o[n]._visible!==!1&&s++,t.treeGrid&&"root"==t.treeGrid.pageSizeMode||o[n].records&&(o[n][i.expanded]||o[n][i.leaf])&&o[n]._visible!==!1&&(r(a+1,o[n].records),this.treeGrid&&e(this.treeGrid).jqxTreeGrid("showSubAggregates")&&0!=a&&s--)};r(0,this.dataview.rows),this.dataview.totalrecords=s}else this.dataview.totalrecords=this.dataview.rows.length;var a=this.dataview.pagenum*this.pageSize,o=(this.dataview.pagenum+1)*this.pageSize;o>=this.dataview.totalrecords&&(o=this.dataview.totalrecords);var n=this.dataview.totalrecords;a++;var l=Math.ceil(n/this.dataview.pagesize);if(l>=1&&l--,l++,"root"==this.pageSizeMode&&(l=Math.ceil(this.rootRecordsLength/this.dataview.pagesize),l>=1&&l--,l++,n=this.rootRecordsLength,this.dataview.totalrecords=this.rootRecordsLength),"default"!=this.pagerMode){if(this.pagergotoinputbottom){var h=this.pagergotoinputbottom.find("input");h.val(this.dataview.pagenum+1),h.attr("title","1 - "+l),h=this.pagergotoinputtop.find("input"),h.val(this.dataview.pagenum+1),h.attr("title","1 - "+l)}}else{var d="",c=this.pagerButtonsCount;0!=c&&c||(c=5);var u=0;for(this.rtl&&(u=c-1);this.rtl&&u>=0||!this.rtl&&c>u;){var p=1+u,m=this.dataview.pagenum/c,f=Math.floor(m);p+=f*c;var v=this.toTP("jqx-grid-pager-number");if(v+=" "+this.toTP("jqx-rc-all"),p>l&&!this.rtl)break;if(this.rtl&&p>l)u--;else{if(this.rtl||0==u&&p>c&&(d+="<a class='"+v+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>"),this.dataview.pagenum===p-1&&(v+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(u===c-1){var v=this.toTP("jqx-grid-pager-number");v+=" "+this.toTP("jqx-rc-all"),l>=1+p&&(d+="<a class='"+v+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}this.dataview.pagenum===p-1&&(v+=" "+this.toTP("jqx-fill-state-pressed")),d+="<a class='"+v+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>"}else if(d+="<a class='"+v+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>",u===c-1){var v=this.toTP("jqx-grid-pager-number");v+=" "+this.toTP("jqx-rc-all"),l>=1+p&&(d+="<a class='"+v+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}if(this.rtl){var v=this.toTP("jqx-grid-pager-number");v+=" "+this.toTP("jqx-rc-all"),0==u&&p>c&&(d+="<a class='"+v+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>")}this.rtl?u--:u++}}if(!this.pagerbuttonsbottom)return;var g=this.pagerbuttonsbottom.find("a");this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave");var g=this.pagerbuttonstop.find("a");this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave"),this.pagerbuttonsbottom[0].innerHTML=d,this.pagerbuttonstop[0].innerHTML=d,this.disabled&&this.host.find(".jqx-grid-pager-number").css("cursor","default");var x=function(){g.click(function(i){if(!t.disabled){var s=e(i.target).attr("data-page");t.goToPage(parseInt(s)-1)}}),g.mouseenter(function(i){t.disabled||e(i.target).addClass(t.toTP("jqx-fill-state-hover"))}),g.mouseleave(function(i){t.disabled||e(i.target).removeClass(t.toTP("jqx-fill-state-hover"))})};if("both"===this.pagerPosition||"bottom"===this.pagerPosition){var g=this.pagerbuttonsbottom.find("a");x(g)}if("both"===this.pagerPosition||"top"===this.pagerPosition){var g=this.pagerbuttonstop.find("a");x(g)}}if(0==o&&a>o&&(a=0),this.pagerdetailsbottom&&(this.rtl?(this.pagerdetailsbottom[0].innerHTML=n+this.gridlocalization.pagerrangestring+o+"-"+a,this.pagerdetailstop[0].innerHTML=n+this.gridlocalization.pagerrangestring+o+"-"+a):(this.pagerdetailsbottom[0].innerHTML=a+"-"+o+this.gridlocalization.pagerrangestring+n,this.pagerdetailstop[0].innerHTML=a+"-"+o+this.gridlocalization.pagerrangestring+n)),"default"==this.pagerMode){var b=this.pagerbuttonsbottom.width()+e(this.pagerdetailsbottom).width()+160;this.pagerdiv.css("min-width",b),this.toppagerdiv.css("min-width",b)}a>o&&this.goToPrevPage()}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var t=this,i=0;i<this.columnGroups.length;i++)this.columnGroups[i].parent=null,this.columnGroups[i].groups=null;for(var i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;for(var s=function(e){for(var i=0;i<t.columnGroups.length;i++){var s=t.columnGroups[i];if(s.name===e)return s}return null},i=0;i<this.columnGroups.length;i++){var r=this.columnGroups[i];if(r.groups||(r.groups=null),r.parentGroup&&(r.parentgroup=r.parentGroup),r.parentgroup){var a=s(r.parentgroup);a&&(r.parent=a,a.groups||(a.groups=new Array),-1===a.groups.indexOf(r)&&a.groups.push(r))}}for(var i=0;i<this.columns.records.length;i++){var r=this.columns.records[i];if(r.columngroup){var a=s(r.columngroup);a&&(a.groups||(a.groups=new Array),r.parent=a,-1===a.groups.indexOf(r)&&a.groups.push(r))}}for(var o=0,i=0;i<this.columns.records.length;i++){var r=this.columns.records[i],n=r;for(r.level=0;n.parent;)n=n.parent,r.level++;var n=r,l=r.level;for(o=Math.max(o,r.level);n.parent;)n=n.parent,n&&(n.level=--l)}for(var h=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var s=h(e.groups[i]),r=0;r<s.length;r++)t.push(s[r]);return t},i=0;i<this.columnGroups.length;i++){var r=this.columnGroups[i],d=h(r);r.columns=d;for(var c=new Array,u=0,p=0;p<d.length;p++)c.push(this.columns.records.indexOf(d[p])),d[p].pinned&&u++;if(0!=u)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return e=parseInt(e),t=parseInt(t),t>e?-1:e>t?1:0});for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+o,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),s?(s=!1,e.returnValue=s,s):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;0>e?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20);var i=this.vScrollInstance.value;if(t!=i)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var t=this.hScrollInstance.value;e>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max);var i=this.hScrollInstance.value;if(t!=i)return!0}return!1},_removeHandlers:function(){this.removeHandler(this.host,"focus"),this.removeHandler(e(window),"jqxReady."+this.element.id),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);var t="mousedown";this.isTouchDevice()&&(t=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.host,"dragstart."+this.element.id),this.removeHandler(this.host,"keydown"),this.table&&(this.removeHandler(this.table,"mouseleave"),this.removeHandler(this.table,"mousemove"),this.removeHandler(this.table,t),this.removeHandler(this.table,"selectstart."+this.element.id),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.removeHandler(this.table,"dblclick"))},_addHandlers:function(){var t=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return t.wheel(e,t),!1},this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.table,"selectstart."+this.element.id,function(i){return t.enableBrowserSelection?!0:t.filterable&&e(i.target).ischildof(t.filterrow)?!0:t.rowDetails&&e(i.target).parents("[data-role=details]").length>0?!0:void 0==t.editKey?!1:void 0}),this.addHandler(e(window),"jqxReady."+this.element.id,function(){t._updatecolumnwidths(),t.refresh()}),this.editable&&this.addHandler(e(document),"mousedown.gridedit"+this.element.id,function(i){if(t.editable&&t.editSettings.saveOnBlur&&null!=t.editKey&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var s=t.host.coord(),r=t.host.width(),a=t.host.height(),o=!1,n=!1,l=!1;if((i.pageY<s.top||i.pageY>s.top+a)&&(o=!0,n=!0),(i.pageX<s.left||i.pageX>s.left+r)&&(o=!0,l=!0),o){var h=function(t){var s=e(t.children()[0]).data();if(s&&!s.jqxWidget&&(s=t.data()),s||(s=t.data()),s.jqxWidget&&s.jqxWidget.container&&"block"==s.jqxWidget.container[0].style.display){var r=s.jqxWidget,a=r.container.coord().top,l=r.container.coord().top+r.container.height();return n&&(i.pageY<a||i.pageY>l)?(o=!0,r.close(),!0):!1}},d=t._editors;if(d)for(var c=0;c<d.length;c++){var u=d[c].editor,p=h(u),m=u.attr("aria-owns");if(m){if(m==document.activeElement.id)return!0;if(e(document.activeElement).ischildof(e("#"+m)))return!0}else if(m=u.children().attr("aria-owns")){if(m==document.activeElement.id)return!0;if(e(document.activeElement).ischildof(e("#"+m)))return!0}if(p===!1)return}}o&&t.endroweditbykey(t.editKey)}}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"focus",function(e){e.preventDefault}),this.vScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),t._timer=setTimeout(function(){t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px")},5)},this.hScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),t._timer=setTimeout(function(){t.table&&t._renderhorizontalscroll()},5)};var i="mousedown";this.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(i="mousedown"));var s=function(e,i){for(var s=null,r=t._table.coord(),a=r.top,o=r.left,n=t._table[0].rows,l=0;l<n.length;l++)for(var h=n[l],d=h.cells,c=0;c<d.length;c++){var u=d[c],p=u.offsetLeft+o,m=u.offsetTop+a,f=u.offsetWidth,v=u.offsetHeight;if(0!==f&&0!==v){if(!(i>=m&&m+v>i))break;if(e>=p&&p+f>e){s=u;break}}}return s},r=function(){if(t.hoveredRow){var e=t.hoveredRow[0].cells,i=function(e){for(var i=0;i<e.length;i++){var s=e[i],r=s.className;r=r.replace(" "+t.toTP("jqx-fill-state-hover"),""),r=r.replace(" "+t.toTP("jqx-grid-cell-hover"),""),s.className=r}};if(i(e),t._pinnedTable&&e.length>0){var s=t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells;i(s)}}t.hoveredRow=null};this.addHandler(this.table,"mouseleave",function(e){r(),t.wrapper&&(t.wrapper.parent().removeAttr("tabindex",0),t.wrapper.removeAttr("tabindex",1),t.content.removeAttr("tabindex",2))});var a=function(e){if(!t.enableHover)return!0;if(t.hoveredRow=e,!e)return!0;var i=e[0].cells,s=t.rowDetails&&!t.treeGrid,r=s&&!t.treeGrid?1:0,a=0;r>0&&t.rtl&&(r=0,a=1);for(var o=r;o<i.length-a;o++){var n=i[o];n.className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")}if(t._pinnedTable&&t._pinnedTable[0].rows.length)for(var l=t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells,o=r;o<l.length-a;o++){var n=l[o];n.className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")}};t.isTouchDevice()&&(t.enableHover=!1),this.addHandler(this.table,"mousemove",function(i){var o=i.pageX,n=i.pageY;if(t.disabled)return!0;if(!t.enableHover)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;var l=s(o,n);if(!l)return!0;var h=e(l).parent();return r(),t.rowDetails&&t.treeGrid&&"row-details"==h.attr("data-role")?!0:t.renderedRecords&&0===t.renderedRecords.length?!0:null!=t.editKey&&t.editKey===h.attr("data-key")?!0:(a(h),!0)}),this.addHandler(this.host,"keydown",function(e){return t._handleKey(e)}),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){t.table.trigger("mousedown",e)}),this.addHandler(this.table,i,function(i){var r=(i.target,null);if(t.disabled)return!0;var o=(t.table.coord(),i.pageX),n=i.pageY;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&arguments&&2==arguments.length&&(o=arguments[1].pageX,n=arguments[1].pageY),t.isTouchDevice()){var l=e.jqx.position(i);if(o=l.left,n=l.top,isNaN(o)||isNaN(n)){var l=e.jqx.position(i.originalEvent);o=l.left,n=l.top}}r=s(o,n);var h=e(r).parent(),d=h.attr("data-key");if(t.rowDetails&&t.treeGrid&&"row-details"==h.attr("data-role"))return!0;var c=function(){t.enableBrowserSelection||(i.preventDefault&&i.preventDefault(),i.stopPropagation()),t.host.focus()};if(void 0!==d){var u=e(r).index(),p=t.columns.records[u];if(d==t.editKey){if(!t.editSettings.editSingleCell)return!0;if(t.clickedTD==r)return!0;if(null!=t.editKey&&t.editSettings.saveOnSelectionChange){var m=t.endroweditbykey(t.editKey);if(!m)return!0}}else if(null!=t.editKey&&t.editSettings.saveOnSelectionChange){var m=t.endroweditbykey(t.editKey);if(!m)return!0}t.clickedTD=r;var f=t.rowinfo[d];if(f&&f.group)return!0;var v=!1;if(f){var g=t.getrowdisplayindex(f.row),x=t.getrowindex(f.row);t._raiseEvent("rowClick",{index:g,boundIndex:x,key:d,row:f.row,originalEvent:i,dataField:p.datafield});var b=(new Date).getTime(),y=300;t.clickTime||(t.clickTime=new Date),t._lastSelectedKey==d&&b-t.clickTime.getTime()<y&&(t._raiseEvent("rowDoubleClick",{index:g,boundIndex:x,key:d,row:f.row,originalEvent:i,dataField:p.datafield}),v=!0,i.preventDefault&&i.preventDefault())}if(t.clickTime=new Date,r.className.indexOf("jqx-grid-group")>=0)f.expanded?t.hidedetailsbykey(d):t.showdetailsbykey(d);else if(i.target&&i.target.className.indexOf&&i.target.className.indexOf("jqx-grid-group")>=0&&t.treeGrid)f.expanded?t.treeGrid.collapseRow(d):t.treeGrid.expandRow(d),a(t._getuirow(d)),i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault();else{if(!(i.target&&i.target.className.indexOf&&i.target.className.indexOf("checkbox")>=0&&t.treeGrid)){var u=e(r).index(),p=t.columns.records[u];if(i.stopPropagation&&i.stopPropagation(),t.editable&&null==t.editKey&&t._lastSelectedKey==d&&t.editSettings.editOnDoubleClick&&v){var m=t.beginroweditbykey(d,p);return!0}if(t.isTouchDevice()&&t.scrolled&&new Date-t.scrolled<500)return t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),!1;if("singlerow"===t.selectionMode&&"custom"!==t.selectionMode)return t.selectrowbykey(d,"mouse",!1),t._lastSelectedKey=d,t._updateSelection(),i.preventDefault&&i.preventDefault(),c(),!0;if("custom"!==t.selectionMode&&(i.ctrlKey||i.metaKey||t.clearSelection(!1),i.shiftKey&&t._lastSelectedKey)){var f=t.rowinfo[t._lastSelectedKey];t._doSelection(t._lastSelectedKey,!0,!1);var w=e(t._table.children()[1]).children("[data-key="+t._lastSelectedKey+"]"),_=w.index(),T=h.index();return t._selectRange(T,_),t.selectrowbykey(d,"mouse",!1),t._updateSelection(),i.preventDefault&&i.preventDefault(),c(),!0}return t._lastSelectedKey=d,t.clickTime=new Date,"custom"===t.selectionMode?!0:(f&&(f.selected?t.unselectrowbykey(d,"mouse",!1):t.selectrowbykey(d,"mouse",!1),c()),t._updateSelection(),t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),!0)}f.checked?t.treeGrid.uncheckRow(d):t.treeGrid.checkRow(d),a(t._getuirow(d)),i.stopPropagation&&i.stopPropagation()}}})},_updateSelection:function(){var t=this,i=e(t._table.children()[1]).children(),s=t._pinnedTable?e(t._pinnedTable.children()[1]).children():null,r=t.rowDetails&&!t.treeGrid,a=r?1:0,o=0;a>0&&t.rtl&&(a=0,o=1);for(var n=0;n<i.length;n++){var l=i[n].cells;if(s)var h=s[n].cells;var d=null;if(i[n].getAttribute&&(d=i[n].getAttribute("data-key")),t.rowinfo[d]&&"none"!==t.selectionMode)if(t.rowinfo[d].selected)for(var c=a;c<l.length-o;c++){var u=l[c];e(u).addClass(t.toTP("jqx-grid-cell-selected")+" "+t.toTP("jqx-fill-state-pressed")),h&&e(h[c]).addClass(t.toTP("jqx-grid-cell-selected")+" "+t.toTP("jqx-fill-state-pressed"))}else for(var c=a;c<l.length-o;c++){var u=l[c];if(h)var p=h[c];var m=u.className;m=m.replace(" jqx-fill-state-pressed",""),m=m.replace(" jqx-fill-state-pressed-"+t.theme,""),m=m.replace(" jqx-grid-cell-selected",""),m=m.replace(" jqx-grid-cell-selected-"+t.theme,""),u.className=m,p&&(p.className=m)}}},_selectRange:function(t,i){var s=e(e(this._table.children()[1]).children()[i]),r=this;if(t>i)for(var a=i,o=s;t>a;){var o=o.next(),n=o.attr("data-key");r._doSelection(n,!0,!1),a++}else if(i>t)for(var a=i,o=s;a>t;){var o=o.prev(),n=o.attr("data-key");this._doSelection(n,!0,!1),a--}},_getuikey:function(t,i){var s=null,r=e(this._table.children()[1]).children();if(s=e(r[t]).attr("data-key"),e(r[t]).attr("data-role")){var a=e(r[t]);if("next"==i){for(;a;)if(a=a.next()){var o=a.attr("data-role");if(!o)return s=a.attr("data-key")}}else if("prev"==i)for(;a;)if(a=a.prev()){var o=a.attr("data-role");if(!o)return s=a.attr("data-key")}return null}return s},getRows:function(){return this.source.records},getView:function(){var t=this,i=this._names(),s=new Array,r=function(s,a){if(a)for(var o=0;o<a.length;o++)if(a[o]&&a[o]._visible!==!1){var n=e.extend({},a[o]);s.push(n),a[o][i.expanded]?(n.records=new Array,r(n.records,a[o].records)):t.dataview.filters.length>0&&(n.records=new Array,r(n.records,a[o].records))}};return r(s,this.dataViewRecords),s},getKeys:function(){for(var e=new Array,t=this.source.records,i=0;i<t.length;i++)e.push(t[i].uid);return e},getKey:function(e){var t=this.getRows();return t?t[e].uid:-1},_getkey:function(t){if(this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);var i=null,s=function(){var i=e(this._table.children()[1]).children(),s=null,r=0;if(this.pageable&&(r-=this.dataview.pagenum*this.dataview.pagesize),this.groups.length>0){for(var a=0,o=0;o<i.length;o++){var n=e(i[o]),l=n.children()[0].getAttribute("colspan");if(!(l>0)){if(a===r+t)return s=n.attr("data-key");a++}}return s}if(this.rowDetails)for(var a=0,o=0;o<i.length;o++){if(a===t+r)return s=e(i[o]).attr("data-key");o%2==1&&a++}else s=e(i[r+t]).attr("data-key");return s};if(i=s.call(this),null==i&&this.pageable){var r=Math.floor(t/this.dataview.pagesize);if(this.dataview.pagenum!=r){var a=this.getRows()[t];if(a&&null!=a.uid)return a.uid;if(isNaN(r))return null;this.goToPage(r),i=s.call(this)}}return i},_getuirow:function(t){try{var i=e(this._table.children()[1]).children("[data-key="+t+"]");if(i.length>0)return i}catch(s){for(var r=e(this._table.children()[1]).children(),a=0;a<r.length;a++){var o=r[a],n=o.getAttribute("data-key");if(t==n)return e(o)}return null}return null},_getpinneduirow:function(t){if(!this._pinnedTable)return null;try{var i=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(i.length>0)return i}catch(s){for(var r=e(this._pinnedTable.children()[1]).children(),a=0;a<r.length;a++){var o=r[a],n=o.getAttribute("data-key");if(t==n)return e(o)}return null}return null},_names:function(){var e={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};if(!this.source||this.source&&!this.source._source.hierarchy)return e;var t=this.source._source.hierarchy.reservedNames;return t?t:e},_getMatches:function(t,i){if(void 0==t||0==t.length)return-1;var s=this.renderedRecords;void 0!=i&&(s=s.slice(i));var r=0;if(this.rowDetails&&!this.treeGrid&&r++,r<this.columns.records.length)var a=this.columns.records[r].datafield;else new Array;var o=new Array;return e.each(s,function(i){var s=this[a];s||(s="");var r=e.jqx.string.startsWithIgnoreCase(s.toString(),t);r&&o.push(this.uid)}),o},_handleKey:function(t){if(this._loading)return!0;if(e(t.target).ischildof(this.filter))return!0;if(e(t.target).ischildof(this.toolbar))return!0;if(e(t.target).ischildof(this.statusbar))return!0;var i=this._names(),s=this,r=t.charCode?t.charCode:t.keyCode?t.keyCode:0,a=this._lastSelectedKey,o=(this.rowinfo[a],this._getuirow(a)),n=t.shiftKey&&"singlerow"!=this.selectionMode,l=t.ctrlKey||t.metaKey;if(o){if(this.handleKeyboardNavigation){var h=this.handleKeyboardNavigation(r);if(h)return!0}if(this.editable&&void 0==this.editKey&&113===r&&this.editSettings.editOnF2&&this.beginroweditbykey(o.attr("data-key")),void 0==this.editKey&&!l&&!n&&this.incrementalSearch&&!(r>=33&&40>=r)){var d=-1;this._searchString||(this._searchString=""),(8==r||46==r)&&this._searchString.length>=1&&(this._searchString=this._searchString.substr(0,this._searchString.length-1));var c=String.fromCharCode(r),u=!isNaN(parseInt(c)),p=!1;if(r>=65&&97>=r||u||8==r||32==r||46==r){t.shiftKey||(c=c.toLocaleLowerCase()),8!=r&&32!=r&&46!=r&&(this._searchString.length>0&&this._searchString.substr(0,1)==c||(this._searchString+=c)),32==r&&(this._searchString+=" "),this._searchTime=new Date;var a=this.getSelection();if(a.length>=1){for(var m=a[0].uid,f=-1,v=0;v<this.renderedRecords.length;v++)if(this.renderedRecords[v].uid==m){f=v;break}var g=this._getMatches(this._searchString,f);if(0==g.length||g.length>0&&g[0]==m)var g=this._getMatches(this._searchString)}else var g=this._getMatches(this._searchString);if(g.length>0){var a=this.getSelection();if(a.length>=1){var x=g.indexOf(a[0].uid);if(-1==x)this.clearSelection(!1),this.selectrowbykey(g[0]);else{var b=x+1;b>=g.length&&(b=0),this.clearSelection(!1),this.selectrowbykey(g[b])}}else this.clearSelection(!1),this.selectrowbykey(g[0]);this._lastSearchString=this._searchString}}if(void 0!=this._searchTimer&&clearTimeout(this._searchTimer),(27==r||13==r)&&(this._searchString="",this._lastSearchString=""),this._searchTimer=setTimeout(function(){s._searchString="",s._lastSearchString=""},500),d>=0)return;if(p)return!1}if(void 0!=this.editKey){if(27===r&&this.editSettings.cancelOnEsc)this.endroweditbykey(this.editKey,!0);else if(13===r&&this.editSettings.saveOnEnter){if(t.target&&"div"!=t.target.nodeName.toLowerCase()&&"input"!=t.target.nodeName.toLowerCase())return!0;this.endroweditbykey(this.editKey,!1)}else if(this.editSettings.editSingleCell&&this.editColumn){var y=this.columns.records.indexOf(this.editColumn);if(9==r&&y<this.columns.records.length-1&&!t.shiftKey){for(var w=this.editKey,_=null,v=y+1;v<this.columns.records.length;v++)if(this.columns.records[v].editable&&!this.columns.records[v].hidden){_=this.columns.records[v];break}_&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(w,_))}else if(9==r&&t.shiftKey&&y>0){for(var w=this.editKey,T=null,v=y-1;v>=0;v--)if(this.columns.records[v].editable&&!this.columns.records[v].hidden){T=this.columns.records[v];break}T&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(w,T))}if(9==r){var j=this.rowinfo[this.editKey],f=this.getrowindex(j),o=this._getuirow(this.editKey);if(t.shiftKey||_){if(!T&&t.shiftKey){for(var q=null,v=this.columns.records.length-1;v>=0;v--)if(this.columns.records[v].editable&&!this.columns.records[v].hidden){q=this.columns.records[v];break}if(q){for(;o;)if(o=o.prev()){var I=o.attr("data-role");if(!I){var C=o.attr("data-key");break}}if(C){this.clearSelection(!1),this._lastSelectedKey=C;var j=this.rowsByKey[C],f=this.getrowindex(j),S=this.getrowdisplayindex(j);this._raiseEvent("rowSelect",{key:C,index:S,boundIndex:f,row:this.rowsByKey[C]}),this.endroweditbykey(this.editKey,!1),this._doSelection(C,!0,!0),this.beginroweditbykey(C,q)}}}}else{for(var q=null,v=0;v<this.columns.records.length;v++)if(this.columns.records[v].editable&&!this.columns.records[v].hidden){q=this.columns.records[v];break}if(q){for(;o;)if(o=o.next()){var I=o.attr("data-role");if(!I){var C=o.attr("data-key");break}}if(C){this.clearSelection(!1),this._lastSelectedKey=C;var j=this.rowsByKey[C],f=this.getrowindex(j),S=this.getrowdisplayindex(j);this._raiseEvent("rowSelect",{key:C,index:S,boundIndex:f,row:this.rowsByKey[C]});var D=this.endroweditbykey(this.editKey,!1);D?(this._doSelection(C,!0,!0),this.beginroweditbykey(C,q)):this.beginroweditbykey(this.editKey,q)}}}return!1}}return!0}if(t.ctrlKey||t.metaKey){var k=String.fromCharCode(r).toLowerCase();if("c"==k||"x"==k){var a=this.getSelection();if(a.length>=1){for(var P="",H=0;H<this.renderedRecords.length;H++)for(var M=this.renderedRecords[H],v=0;v<a.length;v++){var j=a[v];if(j.uid===M.uid){for(var B=0;B<this.columns.records.length;B++){var E=this.getCellTextByKey(j.uid,this.columns.records[B].displayfield);P+=E,B<this.columns.records.length-1&&(P+="	")}P+="\r\n";break}}if(""!=P&&(P=P.substring(0,P.length-1)),window.clipboardData)window.clipboardData.setData("Text",P);else{var z=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');z.val(P),e("body").append(z),z.select(),setTimeout(function(){document.designMode="off",z.select(),z.remove()},100)}}}}if(32===r&&this.treeGrid&&this.treeGrid.checkboxes){var a=this.getSelection();if(a.length>1){for(var v=0;v<a.length;v++){var O=a[v].uid;this.rowinfo[O].checked?this.treeGrid.uncheckRow(O,!1):this.treeGrid.checkRow(O,!1)}return this._renderrows(),!1}var m=o.attr("data-key");if(m)return this.rowinfo[m].checked?this.treeGrid.uncheckRow(m):this.treeGrid.checkRow(m),!1}var A=o.index(),L=function(t){var i=null,r=e(s._table.children()[1]).children().length-1,a=e(e(s._table.children()[1]).children()[r]),o=a.attr("data-role");if(o){for(;a;)if(a=a.prev()){var o=a.attr("data-role");if(!o){i=a.attr("data-key");break}}}else i=a.attr("data-key");return"all"==t?{row:a,key:i}:i},N=function(t){var i=null,r=e(e(s._table.children()[1]).children()[0]),a=r.attr("data-role");if(a){for(;r;)if(r=r.next()){var a=r.attr("data-role");
if(!a){i=r.attr("data-key");break}}}else i=r.attr("data-key");return"all"==t?{row:r,key:i}:i},m=null,W=function(){if(l||n||s.clearSelection(!1),33==r||37==r){var e=A;m=s._getuikey(e,"prev"),m||(m=N())}else if(34==r||39==r){var e=A;m=s._getuikey(e,"next"),m||(m=L())}else 38==r?m=L():40==r&&(m=N());s._lastSelectedKey=m;var t=s.rowsByKey[m],e=s.getrowindex(t),i=s.getrowdisplayindex(t);s._raiseEvent("rowSelect",{key:m,index:i,boundIndex:e,row:s.rowsByKey[m]}),s._doSelection(m,!0,!0),s.host.focus()},R=function(){s.clearSelection(!1);var e=N();n||l?s._selectRange(o.index(),0):s._lastSelectedKey=e,s.selectrowbykey(e,"keyboard")},F=function(){s.clearSelection(!1);var e=L("all"),t=e.key;n||l?s._selectRange(o.index(),e.row.index()):s._lastSelectedKey=t,s.selectrowbykey(t,"keyboard")};if(this.treeGrid&&this.rtl&&(37==r?r=39:39==r&&(r=37)),36==r||l&&38==r)return R(),!1;if(35==r||l&&40==r)return F(),!1;if(33==r||37==r){var m=o.attr("data-key");if(this.rowDetails&&37==r&&!this.treeGrid)return this.hidedetailsbykey(m),!1;if(this.treeGrid&&37==r){if(this.rowinfo[m].row&&!this.rowinfo[m].row[i.parent]&&!this.rowinfo[m][i.leaf]&&!this.rowinfo[m].expanded)return!1;if(this.rowinfo[m].expanded&&!this.rowinfo[m][i.leaf])return this.treeGrid.collapseRow(m),!1;if(this.rowinfo[m].row&&this.rowinfo[m].row[i.parent]&&(m=this.rowinfo[m].row[i.parent].uid),this.rowinfo[m][i.leaf])return!1}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToNextPage(W):this.goToPrevPage(W),!1;if(this.treeGrid&&this.pageable&&33==r)return this.goToPrevPage(W),!1}else if(34==r||39==r){var m=o.attr("data-key");if(this.rowDetails&&39==r&&!this.treeGrid)return this.showdetailsbykey(m),!1;if(this.treeGrid&&39==r){if(this.rowinfo[m][i.leaf])return!1;if(!this.rowinfo[m].expanded)return this.treeGrid.expandRow(m),!1;if(this.rowinfo[m].row&&this.rowinfo[m].row.records&&this.rowinfo[m].row.records.length>0)if(this.dataview.filters.length>0){for(var V=this.rowinfo[m].row.records,v=0;v<V.length;v++)if(V[v]._visible){m=V[v].uid;break}}else m=this.rowinfo[m].row.records[0].uid}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToPrevPage(W):this.goToNextPage(W),!1;if(this.treeGrid&&this.pageable&&34==r)return this.goToNextPage(W),!1}else if(38==r){for(;o;)if(o=o.prev()){var I=o.attr("data-role");if(!I){m=o.attr("data-key");break}}if(this.pageable&&null==m)return this.goToPrevPage(W),!1}else if(40==r){for(;o;)if(o=o.next()){var I=o.attr("data-role");if(!I){m=o.attr("data-key");break}}if(this.pageable&&null==m)return this.goToNextPage(W),!1}if(null!=m){if(l||n||this.clearSelection(!1),this.rowinfo[m]&&this.rowinfo[m].selected&&(l||n)){this._doSelection(this._lastSelectedKey,!1,!1),this._lastSelectedKey=m;var j=this.rowsByKey[m],f=this.getrowindex(j);s._updateSelection();var S=this.getrowdisplayindex(j);return this._raiseEvent("rowUnselect",{key:m,index:S,boundIndex:f,row:j}),!1}this._lastSelectedKey=m;var j=this.rowsByKey[m],f=this.getrowindex(j);this._doSelection(m,!0,!1),s._updateSelection();var S=this.getrowdisplayindex(j);if(this._raiseEvent("rowSelect",{key:m,index:S,boundIndex:f,row:j}),this.treeGrid)if(37==r){var o=this._getuirow(m),U=null;if(o){var I=o.attr("data-role");I||(U=o.attr("data-key"))}if(this.pageable&&null==U&&this.dataview.pagenum>0)for(;null==this._getuirow(m)&&this.dataview.pagenum>0;)this.goToPrevPage()}else if(39==r){var o=this._getuirow(m),U=null;if(o){var I=o.attr("data-role");I||(U=o.attr("data-key"))}this.pageable&&null==U&&this.goToNextPage()}return!1}}},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var s=document.selection.createRange();if(null==s)return{start:0,end:t.value.length,length:0};var r=e[0].createTextRange(),a=r.duplicate();r.moveToBookmark(s.getBookmark()),a.setEndPoint("EndToStart",r);var i=s.text.length;return{start:a.text.length,end:a.text.length+s.text.length,length:i,text:s.text}},_doSelection:function(e,t,i){if(null==e)return void this.clearSelection();"singlerow"===this.selectionMode&&this.clearSelection(!1);var s=this.rowinfo[e];if(s)s.selected=t,this.ensurerowvisiblebykey(e);else{this.ensurerowvisiblebykey(e);var s=this.rowinfo[e];s?s.selected=t:this.rowinfo[e]={selected:t}}"none"!=this.selectionMode&&i!==!1&&this._renderrows()},clearSelection:function(e){if(this.rowinfo){var t=this.getRows();for(var i in this.rowinfo){var s=this.rowinfo[i];if(s.selected){s.selected=!1;var r=t.indexOf(s.row),a=this.getrowdisplayindex(s.row);this._raiseEvent("rowUnselect",{key:i,index:a,boundIndex:r,row:s.row})}}}e!==!1&&this._renderrows()},exportData:function(i){if(!e.jqx.dataAdapter.ArrayExporter){if(!this.treeGrid)throw"jqxDataTable: Missing reference to jqxdata.export.js!";throw"jqxTreeGrid: Missing reference to jqxdata.export.js!"}var s=this.exportSettings.columnsHeader;void 0==s&&(s=!0);var r=this.exportSettings.hiddenColumns;void 0==r&&(r=!1);var a=this.exportSettings.serverURL,o=this.exportSettings.characterSet,n=this.exportSettings.collapsedRecords;void 0==n&&(n=!1);var l=this.exportSettings.fileName;void 0===l&&(l=this.treeGrid?"jqxTreeGrid_Data":"jqxDataTable_Data");var h=this,d=this.getRows();if(1==this.exportSettings.recordsInView&&(d=this.getView()),this.treeGrid&&this.treeGrid.virtualModeCreateRecords)var d=this.treeGrid.getRows();if(this.groups&&this.groups.length>0){var c=this.source.getGroupedRecords(this.groups,"records","label",null,"data",null,"parent",d),u=function(t,i){for(var s=0;s<t.length;s++){var r=e.extend({},t[s]);if(i.push(r),r.records&&r.records.length>0)for(var a=u(r.records,new Array),o=0;o<a.length;o++)a[o].leaf?i.push(a[o]):i.push(a[o])}return i},p=u.call(this,c,new Array);d=p}if(0==d.length)throw"No data to export.";this.exporting=!0,this.altRows&&this._renderrows();for(var m=new Array,f=0;f<this.columns.records.length;f++)(r||!this.columns.records[f].hidden)&&m.push(e.extend({},this.columns.records[f]));if(this.groups&&this.groups.length>0&&m.length>0)for(var v=this._names(),f=0;f<d.length;f++)d[f][v.leaf]||(h.rtl?d[f][m[m.length-1].displayfield]=d[f].label:d[f][m[0].displayfield]=d[f].label);var g=0;if(this.treeGrid){var x=this.treeGrid.getRows();1==this.exportSettings.recordsInView&&(x=this.getView());var v=this._names(),b=function(e){for(var t=0;t<e.length;t++){var i=e[t],s=i[v.expanded]||!i[v.expanded]&&n;g=Math.max(g,1+i[v.level]),i.records&&i.records.length>0&&s&&b(e[t].records)}};if(b(x),"xml"!=i&&"json"!=i){for(var y=m.length,f=0;g>f;f++){var w=new t(this,this);w.width=this.indentWidth,w.datafield="Level"+f,w.displayfield="Level"+f,w.align="center",w.cellsalign="center",w.text="",this.rtl?m.splice(y,0,w):m.splice(f,0,w)}var _=new Array,T=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?!0:!1,j=function(t){for(var s=0;s<t.length;s++){for(var r=e.extend({},t[s]),a=0;a<r[v.level];a++)r["Level"+a]="";var o=r[v.expanded]||!r[v.expanded]&&n;("xls"==i||"html"==i||"pdf"==i)&&r.records&&r.records.length>0?r["Level"+r[v.level]]=o?"-":"+":r["Level"+r[v.level]]="",r[v.leaf]&&(r["Level"+r[v.level]]="");for(var a=r[v.level]+1;g>a;a++)r["Level"+a]="";if(T&&!r[v.leaf]&&(h.rtl?r[m[m.length-g-1].displayfield]=r.label:r[m[g].displayfield]=r.label),r.aggregate)for(var l="xls"==i?"_AG":"",a=g;a<m.length;a++){var d=a;h.rtl&&(d=m.length-a-1),void 0!=r[m[d].displayfield]&&(r[m[d].displayfield]=l+r[m[d].displayfield])}_.push(r),o&&!r[v.leaf]&&j(r.records)}};j(x),d=_}else d=x}var q=void 0!=r?r:!1,I={},C={},S=this.host.find(".jqx-grid-cell:first"),D=this.host.find(".jqx-grid-cell-alt:first"),k=this.toThemeProperty;S.removeClass(k("jqx-grid-cell-selected")),S.removeClass(k("jqx-fill-state-pressed")),D.removeClass(k("jqx-grid-cell-selected")),D.removeClass(k("jqx-fill-state-pressed")),S.removeClass(k("jqx-grid-cell-hover")),S.removeClass(k("jqx-fill-state-hover")),D.removeClass(k("jqx-grid-cell-hover")),D.removeClass(k("jqx-fill-state-hover"));for(var P="cell",H=1,M="column",B=1,E=[],z=0;z<m.length;z++){var w=m[z];if(""!=w.cellclassname)if(w.customCellStyles=new Array,"string"==typeof w.cellclassname)w.customCellStyles.push(w.cellclassname);else for(var f=0;f<d.length;f++){var O=f,A=w.cellclassname(O,w.displayfield,d[f][w.displayfield],d[f]);A&&(w.customCellStyles[f]=A)}}if(e.each(m,function(t){var r=t;h.treeGrid&&(t>=g?r=m.length-g-1:g>0&&g>t&&(r=0));var a=e(h._table[0].rows[0].cells[r]);if(h._table[0].rows.length>1){var o=e(h._table[0].rows[1].cells[r]);if(0==o.length)var o=e(h._table[0].rows[1].cells[0])}if(0==a.length)var a=e(h._table[0].rows[0].cells[0]);var n=this,l=function(e){var t=h.toThemeProperty;if(e.removeClass(t("jqx-cell")),e.removeClass(t("jqx-grid-cell-selected")),e.removeClass(t("jqx-fill-state-pressed")),e.removeClass(t("jqx-grid-cell-hover")),e.removeClass(t("jqx-fill-state-hover")),n.customCellStyles)for(var i in n.customCellStyles)e.removeClass(n.customCellStyles[i])};if(l(a),o&&l(o),null==this.displayfield)return!0;h.showAggregates&&h.getcolumnaggregateddata&&E.push(h.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,d));var c=h._getexportcolumntype(this);!this.exportable||this.hidden&&!q||(I[this.displayfield]={},I[this.displayfield].text=this.text,I[this.displayfield].width=parseInt(this.width),isNaN(I[this.displayfield].width)&&(I[this.displayfield].width=60),I[this.displayfield].width>500&&(I[this.displayfield].width=500),I[this.displayfield].formatString=this.cellsFormat,I[this.displayfield].localization=h.gridlocalization,I[this.displayfield].type=c,I[this.displayfield].cellsAlign=this.cellsalign,I[this.displayfield].hidden=!s,I[this.displayfield].index=r,I[this.displayfield].maxIndex=m.length),P="cell"+H;var u=this.element;if("json"!=i&&"xml"!=i){M="column"+B;var p=function(e,t,s,r,a,o,n,l,h){C[e]={index:1+n,maxIndex:m.length},o.rtl&&(C[e].index=m.length-n),("html"==i||"xls"==i||"pdf"==i)&&(t&&(C[e]["font-size"]=t.css("font-size"),C[e]["font-weight"]=t.css("font-weight"),C[e]["font-style"]=t.css("font-style"),C[e]["background-color"]=o._getexportcolor(t.css("background-color")),C[e].color=o._getexportcolor(t.css("color")),C[e]["border-color"]=o._getexportcolor(t.css("border-top-color"))),s?C[e]["text-align"]=a.align:(C[e]["text-align"]=a.cellsalign,C[e].formatString=a.cellsFormat,C[e].dataType=c),("html"==i||"pdf"==i)&&(C[e]["border-top-width"]="0px",o.rtl?(C[e]["border-left-width"]="1px",C[e]["border-right-width"]="0px",n==m.length-g-1&&s&&(C[e]["border-right-width"]="1px")):(C[e]["border-left-width"]="0px",C[e]["border-right-width"]="1px"),C[e]["border-bottom-width"]="1px",t&&(C[e]["border-top-style"]=t.css("border-top-style"),C[e]["border-left-style"]=t.css("border-left-style"),C[e]["border-right-style"]=t.css("border-right-style"),C[e]["border-bottom-style"]=t.css("border-bottom-style")),s?(0!=n||o.rtl?n==m.length-1&&o.rtl&&(C[e]["border-right-width"]="1px"):C[e]["border-left-width"]="1px",t&&(C[e]["border-top-width"]="1px",C[e]["border-bottom-width"]=t.css("border-bottom-width"))):0!=n||o.rtl?n==m.length-1&&o.rtl&&(C[e]["border-right-width"]="1px"):C[e]["border-left-width"]="1px",t&&(C[e].height=t.css("height")),o.treeGrid&&!s&&(C[e].index-1<g?o.rtl?C[e]["border-left-width"]="0px":C[e]["border-right-width"]="0px":C[e].index-1==g&&(o.rtl?C[e]["border-right-width"]="0px":C[e]["border-left-width"]="0px")))),!a.exportable||a.hidden&&!q||(1==l?(I[a.displayfield].customCellStyles||(I[a.displayfield].customCellStyles=new Array),I[a.displayfield].customCellStyles[h]=e):s?I[a.displayfield].style=e:r?I[a.displayfield].cellAltStyle=e:I[a.displayfield].cellStyle=e)};if(p(M,u,!0,!1,this,h,t),B++,p(P,a,!1,!1,this,h,t),h.altRows&&(P="cellalt"+H,p(P,o,!1,!0,this,h,t)),this.customCellStyles){for(var f in n.customCellStyles)a.removeClass(n.customCellStyles[f]);for(var f in n.customCellStyles)a.addClass(n.customCellStyles[f]),p(P+n.customCellStyles[f],a,!1,!1,this,h,t,!0,f),a.removeClass(n.customCellStyles[f])}H++}}),"json"!=i&&"xml"!=i&&g>0&&this.treeGrid){var L=g+1;if(this.rtl&&(L=m.length-g),C["column"+L]){var N=C["column"+L];N.merge=g,N["border-left-width"]="1px";for(var f=(C["cell"+L],0);f<m.length;f++){var L=f+1;this.rtl&&(L=m.length-f),C["column"+L].level=f,C["column"+L].maxLevel=g,C["cell"+L].maxLevel=g;var w=m[f];if(w.customCellStyles)for(var W in w.customCellStyles)C["cell"+L+w.customCellStyles[W]]&&(C["cell"+L+w.customCellStyles[W]].maxLevel=g);C["cellalt"+L]&&(C["cellalt"+L].maxLevel=g)}for(var f=0;g>f;f++){var L=f+1,R=f;this.rtl&&(L=m.length-f);var F=C["column"+L];F.disabled=!0,C["cell"+L].level=R,C["cell"+L].maxLevel=g,C["column"+L].level=R,C["cellalt"+L]&&(C["cellalt"+L].level=R,C["cellalt"+L].maxLevel=g);var w=m[f];if(w.customCellStyles)for(var W in w.customCellStyles)C["cell"+L+w.customCellStyles[W]]&&(C["cell"+L+w.customCellStyles[W]].maxLevel=g,C["cell"+L+w.customCellStyles[W]].level=R);if(("html"==i||"pdf"==i||"xls"==i)&&(F["font-size"]=N["font-size"],F["font-weight"]=N["font-weight"],F["font-style"]=N["font-style"],F["background-color"]=N["background-color"],F.color=N.color,F["border-color"]=N["border-color"],"html"==i||"pdf"==i)){F["border-top-width"]=N["border-top-width"],F["border-left-width"]=N["border-left-width"],this.rtl&&(F["border-right-width"]=N["border-right-width"],0==f&&(F["border-right-width"]="1px")),0!=f||this.rtl?0==f&&this.rtl&&(F["border-left-width"]="0px"):F["border-left-width"]="0px",this.rtl?this.rtl&&(F["border-left-width"]="0px"):F["border-right-width"]="0px",F["border-bottom-width"]="0px";var F=C["cell"+L];this.rtl?this.rtl&&(F["border-left-width"]="0px"):F["border-right-width"]="0px"}}}}if(this.showAggregates){var V=[],U="xls"==i?"_AG":"",Y=0;this.rowDetails&&!this.treeGrid&&Y++,E.length>0&&(e.each(m,function(e){if(this.aggregates)for(var t=0;t<this.aggregates.length;t++)if(V[t]||(V[t]={}),V[t]){var i=h._getaggregatename(this.aggregates[t]),s=h._getaggregatetype(this.aggregates[t]),r=E[e-Y];r&&(V[t][this.displayfield]=U+i+": "+r[s])}}),e.each(m,function(e){for(var t=0;t<V.length;t++)void 0==V[t][this.displayfield]&&(V[t][this.displayfield]=U)})),e.each(V,function(){d.push(this)})}var K=this,G=e.jqx.dataAdapter.ArrayExporter(d,I,C,a,this.treeGrid&&("xml"==i||"json"==i));if(void 0==l){this._renderrows();var $=this.treeGrid&&("xml"==i||"json"==i),X=G.exportTo(i,this.treeGrid&&("xml"==i||"json"==i));return this.showAggregates&&e.each(V,function(){d.pop(this)}),setTimeout(function(){K.exporting=!1},50),X}var $=this.treeGrid&&("xml"==i||"json"==i);G.exportToFile(i,l,a,o,$),this.showAggregates&&e.each(V,function(){d.pop(this)}),this._renderrows(),setTimeout(function(){K.exporting=!1},50)},_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var s=parseInt(i[0].substring(5)),r=parseInt(i[1]),a=parseInt(i[2]),o=parseInt(i[3].substring(1,4)),n={r:s,g:r,b:a},l=this._rgbToHex(n);return 0==s&&0==r&&0==a&&0==o?"#ffffff":"#"+l}var s=parseInt(i[0].substring(4)),r=parseInt(i[1]),a=parseInt(i[2].substring(1,4)),n={r:s,g:r,b:a},l=this._rgbToHex(n);return"#"+l}if(-1!=t.toString().indexOf("#")&&4==t.toString().length){var h=t.toString().substring(1,4);t+=h}return t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},_getexportcolumntype:function(t){var i=this,s="string",r=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(r){var a="";if(e.each(r,function(){return this.name==t.displayfield?(this.type&&(a=this.type),!1):void 0}),a)return a}if(null!=t){if(void 0==this.dataview.cachedrecords)return s;var o=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return o=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return s;if(o=this.dataview.cachedrecords[0][t.displayfield],null!=o&&""==o.toString())return"string"}if(null!=o){if(-1!=t.cellsFormat.indexOf("c"))return"number";if(-1!=t.cellsFormat.indexOf("n"))return"number";if(-1!=t.cellsFormat.indexOf("p"))return"number";if(-1!=t.cellsFormat.indexOf("d"))return"date";if(-1!=t.cellsFormat.indexOf("y"))return"date";if(-1!=t.cellsFormat.indexOf("M"))return"date";if(-1!=t.cellsFormat.indexOf("m"))return"date";if(-1!=t.cellsFormat.indexOf("t"))return"date";if("boolean"==typeof o)s="boolean";else if(e.jqx.dataFormat.isNumber(o))s="number";else{var n=new Date(o);if("NaN"==n.toString()||"Invalid Date"==n.toString())if(e.jqx.dataFormat){if(n=e.jqx.dataFormat.tryparsedate(o),null!=n){if(n&&n.getFullYear()&&1970==n.getFullYear()&&0==n.getMonth()&&1==n.getDate()){var l=new Number(o);return isNaN(l)?"string":"number"}return"date"}s="string"}else s="string";else s="date"}}}return s},showDetails:function(e){var t=this._getkey(e);this.showdetailsbykey(t)},hideDetails:function(e){var t=this._getkey(e);this.hidedetailsbykey(t)},setCellValueByKey:function(t,i,s){var r=this,a=this.rowsByKey[t],o=this.getrowindex(a),n=a;if(null!=n&&n[i]==s)return!1;if(null==n||null!==n[i]||""!==s){var l="";if(null!=n&&n[i]!==s){var h=this.getColumn(i),d="string",c=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(c){var u="";e.each(c,function(){return this.name==h.displayfield?(this.type&&(u=this.type),!1):void 0}),u&&(d=u)}if(l=n[i],!h.nullable||null!=s&&""!==s&&h.nullable&&void 0===s.label){if(e.jqx.dataFormat.isNumber(l)||"number"==d||"float"==d||"int"==d||"decimal"==d&&"date"!=d)s=new Number(s),s=parseFloat(s),isNaN(s)&&(s=0);else if((e.jqx.dataFormat.isDate(l)||"date"==d)&&""!=s){var p=s;p=new Date(p),"Invalid Date"!=p&&null!=p?s=p:"Invalid Date"==p&&(p=new Date,s=p)}if(n[i]===s)return}if(r.dataview._filteredData=null,r.dataview._sortData=null,r.dataview._sortHierarchyData=null,n[i]=s,this.treeGrid){var m=this.treeGrid.getRow(t);m&&(m[i]=s)}if(null!=s&&null!=s.label){var h=this.getColumn(i);if(n[h.displayfield]=s.label,n[i]=s.value,this.treeGrid){var m=this.treeGrid.getRow(t);m&&(m[h.displayfield]=s.label,m[i]=s.value)}}}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var f=o,v=this.source._source._localdata()[f];this.source.suspendKO=!0;var g=v;if(g[i]&&g[i].subscribe)null!=s&&null!=s.label?(g[h.displayfield](s.label),g[i](s.value)):g[i](s);else{var c=this.source._source.datafields,x=null;if(c&&e.each(c,function(){return this.name==i?(x=this.map,!1):void 0}),null==x)null!=s&&null!=s.label?(g[i]=s.value,g[h.displayfield]=s.label):g[i]=s;else{var b=x.split(this.source.mapChar);if(b.length>0){for(var y=g,w=0;w<b.length-1;w++)y=y[b[w]];y[b[b.length-1]]=s}}this.source._source._localdata.replace(v,e.extend({},g))}this.source.suspendKO=!1}if(this.source.updaterow&&(void 0==sync||1==sync)){var _=!1,T=function(e){0==e&&this.setCellValue(a,i,l,!0,!1)};try{var j=t;_=this.source.updaterow(j,n,T),void 0==_&&(_=!0)}catch(q){return _=!1,void this.setCellValue(a,i,l)}}var I=this.getrowdisplayindex(a),h=this.getColumn(i);this._raiseEvent("cellValueChanged",{value:s,oldValue:l,dataField:i,displayField:h.displayfield,key:t,boundIndex:o,index:I,row:this.rowsByKey[t]}),this.editable&&null!=this.editKey||this._renderrows()}},setCellValue:function(e,t,i){if(null==e||null==t)return!1;var s=parseInt(e),r=this._getkey(s);this.setCellValueByKey(r,t,i)},getCellText:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),s=this._getkey(i);return this.getCellTextByKey(s,t)},getCellTextByKey:function(t,i){if(null==t||null==i)return null;var s=this.getCellValueByKey(t,i),r=this.getColumn(i);return r&&""!=r.cellsFormat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(s)?s=e.jqx.dataFormat.formatdate(s,r.cellsFormat,this.gridlocalization):(e.jqx.dataFormat.isNumber(s)||!isNaN(parseFloat(s))&&isFinite(s))&&(s=e.jqx.dataFormat.formatnumber(s,r.cellsFormat,this.gridlocalization))),s},getCellValue:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),s=this._getkey(i);return this.getCellValueByKey(s,t)},getCellValueByKey:function(e,t){var i=this.rowsByKey[e];!i&&this.treeGrid&&(i=this.treeGrid.getRow(e));var s=(this.getrowindex(i),i);return null!=s?s[t]:null},beginRowEdit:function(e){var t=this._getkey(e);this.beginroweditbykey(t)},beginCellEdit:function(e,t){var i=this._getkey(e),s=this.getColumn(t);this.beginroweditbykey(i,s)},endCellEdit:function(e,t,i){this.endRowEdit(e,i)},endRowEdit:function(e,t){var i=this._getkey(e);this.endroweditbykey(i,t)},getrowindex:function(e){var t=this.getRows().indexOf(e);if(-1!=t)return t;if(this.groups&&this.groups.length>0)for(var i=this.getRows(),s=0;s<i.length;s++)if(e.originalRecord){if(i[s].uid==e.originalRecord.uid){t=s;break}}else if(i[s].uid==e.uid){t=s;break}return t},getrowdisplayindex:function(e){if(this.treeGrid)return-1;var t=this.getView(),i=t.indexOf(e);if(-1!=i)return i;if(void 0==e)return i;for(var s=t,r=0;r<s.length;r++)if(s[r].uid==e.uid||e.originalRecord&&s[r].uid==e.originalRecord.uid){i=r;break}return i},beginroweditbykey:function(t,i){if(this.beginEdit){var s=this.beginEdit(t,i);if(s===!1)return!1}var r=this.treeGrid?this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0:this.groups.length;if(r>0){var a=this.rowsByKey[t];if(this.treeGrid)var a=this.treeGrid.getRow(t);if(a.level<r)return!1}if(null==this._lastSelectedKey&&this.selectrowbykey(t),this.editKey===t&&void 0!=this.editKey)return!1;if(this.rowinfo[t]&&this.rowinfo[t].locked)return!1;if(null!=this.editKey)return this.endroweditbykey(t,!0),!1;var o=this.editSettings.editSingleCell;if(!i&&o&&this.columns.records&&this.columns.records.length>0){for(var n=0;n<this.columns.records.length&&(i=this.columns.records[n],!i.editable||i.hidden);n++);if(!i)return!1}if(o&&i&&!i.editable)return this.editKey=null,!1;o&&(this.editColumn=i);var l=this,a=this.rowsByKey[t];if(this.treeGrid)var a=this.treeGrid.getRow(t);var h=this.getrowindex(a),d=this._getuirow(t),c=this._getpinneduirow(t);this._editors=new Array;var u=!1;if(d)for(var p=d[0].cells,m=0,n=0;n<p.length;n++){var f=this.columns.records[n],v=p[n];if(!f.rowDetailscolumn&&!(f.checkboxcolumn||(f.pinned&&(v=c[0].cells[n]),o&&i&&f.datafield!=i.datafield||(e(v).removeClass(this.toTP("jqx-grid-cell-selected")),e(v).removeClass(this.toTP("jqx-fill-state-pressed")),e(v).removeClass(this.toTP("jqx-grid-cell-hover")),e(v).removeClass(this.toTP("jqx-fill-state-hover")),"none"==f.columntype)))){var g=e(v).outerWidth(),x=e(v).width();0===m&&(m=e(v).outerHeight()-1),e(v).css("padding","0px"),cellContent="<div style='height:"+m+"px; width: 100%; overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 9999;'></div>";var b=this.getCellTextByKey(t,f.displayfield);v.innerHTML=cellContent;var y=e(v.firstChild);switch(f.columntype){case"textbox":case"default":var w=e("<input style='border: none;' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox'/>").appendTo(y);if(this.rtl&&w.css("direction","rtl"),w.addClass(this.toThemeProperty("jqx-input")),w.addClass(this.toThemeProperty("jqx-widget-content")),w.addClass(this.toThemeProperty("jqx-cell-editor")),w[0].onfocus=function(t){setTimeout(function(){if(t){var i=e(t.target).parent().parent().index();i>=0&&l.ensureColumnVisible(l.columns.records[i].datafield)}else{var i=e(document.activeElement).parent().parent().index();i>=0&&l.ensureColumnVisible(l.columns.records[i].datafield)}l.content&&(l.content[0].scrollTop=0,l.content[0].scrollLeft=0),l.gridcontent&&(l.gridcontent[0].scrollLeft=0,l.gridcontent[0].scrollTop=0)},10)},f.editable){if(!u){u=!0;var _=e.jqx.browser.msie&&e.jqx.browser.version>10;_||w.focus();var T=w;setTimeout(function(){var e=T.val().length;_||T.focus();try{if("selectionStart"in T[0])T[0].setSelectionRange(0,e);else{var t=T[0].createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",0),t.select()}}catch(i){}},10)}}else w.attr("disabled",!0),w.attr("readOnly",!0),w.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(w.css({width:x}),w.css({height:m}),e.jqx.browser.msie&&e.jqx.browser.version<9&&w.css("line-height",parseInt(m)+"px"),w.css("text-align",f.cellsalign),null===b&&(b=""),void 0==b&&(b=""),w.val(b),f.createeditor){var j=b,b=this.getCellValueByKey(t,f.displayfield);f.createeditor(this.treeGrid?t:h,b,w,j,x,m)}if(this._editors.push({column:f,editor:w}),""!=f.cellsFormat&&(-1!=f.cellsFormat.indexOf("p")||-1!=f.cellsFormat.indexOf("c")||-1!=f.cellsFormat.indexOf("n")||-1!=f.cellsFormat.indexOf("f"))&&w.keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,i=String.fromCharCode(t),s=parseInt(i);if(isNaN(s))return!0;if(l._selection(w).length>0)return!0;var r="",a=w.val();if(f.cellsFormat.length>1){var o=parseInt(f.cellsFormat.substring(1));isNaN(o)&&(o=0)}else var o=0;if(o>0&&-1!=a.indexOf(l.gridlocalization.decimalseparator)&&l._selection(w).start>a.indexOf(l.gridlocalization.decimalseparator))return!0;for(var n=0;n<a.length-o;n++){var h=a.substring(n,n+1);null!=h.match(/^[0-9]+$/)&&(r+=h)}return r.length>=11?!1:void 0}),f.initeditor){var j=b,b=this.getCellValueByKey(t,f.displayfield);f.initeditor(this.treeGrid?t:h,b,w,j,x,m)}break;case"custom":case"template":this.editorsCache||(this.editorsCache=new Array);var q=e("<div style='width: 100%; height: 100%; border: none;'></div>").appendTo(y),I=e.trim(f.datafield).split(" ").join("");-1!=I.indexOf(".")&&(I=I.replace(".",""));var C=this.editorsCache["templateeditor_"+I];if("custom"==f.columntype)var C=this.editorsCache["customeditor_"+I+"_"+t];var j=b,b=this.getCellValueByKey(t,f.displayfield);if(C){var w=C;w.css({width:g}),w.css({height:m}),w.appendTo(q)}else{var w=e("<div style='border: none;'></div>");w.css({width:g}),w.css({height:m}),C=w,null===b&&(b=""),"custom"!=f.columntype?this.editorsCache["templateeditor_"+I]=w:this.editorsCache["customeditor_"+I+"_"+t]=w,w.appendTo(q),f.createeditor&&f.createeditor(this.treeGrid?t:h,b,w,j,g,m)}f.initeditor&&f.initeditor(this.treeGrid?t:h,b,w,j,g,m),this._editors.push({column:f,editor:w})}}}this.editKey=t,this.beginUpdate();var S=this.getrowdisplayindex(a);if(this._raiseEvent("rowBeginEdit",{key:t,index:S,boundIndex:h,row:this.rowsByKey[t]}),o){var a=this.rowsByKey[t],D=null,k=null;a&&(D=a[i.datafield],k=a[i.displayfield]),this._raiseEvent("cellBeginEdit",{value:D,displayValue:k,key:t,index:S,dataField:i.datafield,displayField:i.displayfield,boundIndex:h,row:this.rowsByKey[t]})}this.endUpdate(!1)},_toNumber:function(e){e.indexOf||void 0==e||(e=e.toString()),e.indexOf(this.gridlocalization.currencysymbol)>-1&&(e=e.replace(this.gridlocalization.currencysymbol,""));var t=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)s=s.replace(t,i),r=s.indexOf(t);return s};e=t(e,this.gridlocalization.thousandsseparator,""),e=e.replace(this.gridlocalization.decimalseparator,"."),e.indexOf(this.gridlocalization.percentsymbol)>-1&&(e=e.replace(this.gridlocalization.percentsymbol,""));for(var i="",s=0;s<e.length;s++){var r=e.substring(s,s+1);"-"===r&&(i+="-"),"."===r&&(i+="."),null!=r.match(/^[0-9]+$/)&&(i+=r)}return e=i,e=e.replace(/ /g,"")},_geteditorvalue:function(t,i,s,r){var a=new String;if(i){if(!t.geteditorvalue)switch(t.columntype){case"textbox":default:if(a=i.val(),""!=t.cellsFormat){var o="string",n=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(n){var l="";e.each(n,function(){return this.name==t.displayfield?(this.type&&(l=this.type),!1):void 0}),l&&(o=l)}var h="number"===o||"float"===o||"int"===o||"integer"===o,d="date"===o||"time"===o;if(h||"string"===o&&(-1!=t.cellsFormat.indexOf("p")||-1!=t.cellsFormat.indexOf("c")||-1!=t.cellsFormat.indexOf("n")||-1!=t.cellsFormat.indexOf("f"))){if(""===a&&t.nullable)return"";a=this._toNumber(a),a=new Number(a),isNaN(a)&&(a="")}if(d||"string"===o&&(-1!=t.cellsFormat.indexOf("H")||-1!=t.cellsFormat.indexOf("m")||-1!=t.cellsFormat.indexOf("M")||-1!=t.cellsFormat.indexOf("y")||-1!=t.cellsFormat.indexOf("h")||-1!=t.cellsFormat.indexOf("d"))){if(""===a&&t.nullable)return"";var c=a;a=new Date(a),("Invalid Date"==a||null==a||t.cellsFormat.length>1)&&(e.jqx.dataFormat&&(a=e.jqx.dataFormat.parsedate(c,t.cellsFormat,this.gridlocalization)),("Invalid Date"==a||null==a)&&(a=""))}}t.displayfield!=t.datafield&&(a={label:a,value:a})}if(t.geteditorvalue){var u=this.getCellValueByKey(r,t.displayfield);a=t.geteditorvalue(this.treeGrid?r:s,u,i)}}return a},_validateEditors:function(e){for(var t=this,i=!0,s=t.rowsByKey[e],r=t.getrowindex(s),a=t._editors,e=t.editKey,o=t._getuirow(e),n=0;n<a.length;n++){var l=a[n].editor,h=a[n].column,d=t._geteditorvalue(h,l,r,e);if(h.validation){l.removeClass(t.toThemeProperty("jqx-grid-validation-label"));var c=h.datafield;try{var u=h.validation({value:d,row:e,datafield:h.datafield,displayfield:h.displayfield,column:h},d),p=t.gridlocalization.validationstring;void 0!=u.message&&(p=u.message);var m="boolean"==typeof u?u:u.result;m||((void 0==u.showmessage||1==u.showmessage)&&t._showvalidationpopup(o,c,p,l),i=!1)}catch(f){t._showvalidationpopup(o,c,t.gridlocalization.validationstring,l),i=!1}}}return i},endroweditbykey:function(t,i){var s=this;if(null!==s.editKey){if(this.endEdit){var r=this.endEdit(t);if(r===!1)return}var a=s.rowsByKey[t],o=s.getrowindex(a),n=s._editors,l=s.editKey;s._getuirow(l);if(i!==!0){var h=!0;if(n&&(h=s._validateEditors(l))){for(var d=e.extend({},a),c=e.extend({},a),u=0;u<n.length;u++){var p=n[u].editor,m=n[u].column,f=s._geteditorvalue(m,p,o,l);f&&void 0!=f.label?(d[m.displayfield]=f.label,d[m.datafield]=f.value):d[m.displayfield]=f}var v=function(){s.dataview._sortHierarchyData=null,s.dataview._sortData=null;for(var i=0;i<n.length;i++){var r=n[i].editor,h=n[i].column,d=s._geteditorvalue(h,r,o,l),u=c[h.displayfield];if(d&&void 0!=d.label?(a[h.displayfield]=d.label,a[h.datafield]=d.value):a[h.displayfield]=d,s.treeGrid){var p=s.treeGrid.getRow(l);p&&(p[h.displayfield]=d)}if(s.editorsCache){var m=function(e){if(e&&e.jqxWidget){var t=e.jqxWidget.element.className;if((t.indexOf("dropdownlist")>=0||t.indexOf("datetimeinput")>=0||t.indexOf("combobox")>=0||t.indexOf("menu")>=0)&&e.jqxWidget.isOpened){var i=e.jqxWidget.isOpened();i&&e.jqxWidget.close()}}},f="customeditor_"+h.displayfield+"_"+t,v="templateeditor_"+h.displayfield;if(s.editorsCache[f]){var g=e(s.editorsCache[f]).data(),x=s.editorsCache[f];!g.jqxWidget&&e(x).children()[0]&&e(e(x).children()[0]).data().jqxWidget&&(g=e(e(x).children()[0]).data()),m(g),s.editorsCache[f].detach()}if(s.editorsCache[v]){s.editorsCache[v].detach();var g=e(s.editorsCache[v]).data(),x=s.editorsCache[v];!g.jqxWidget&&e(x).children()[0]&&e(e(x).children()[0]).data().jqxWidget&&(g=e(e(x).children()[0]).data()),m(g)}}d!=u&&(s.beginUpdate(),s._raiseEvent("cellValueChanged",{value:d,oldValue:u,dataField:h.datafield,displayField:h.displayfield,key:t,index:o,row:a}),s.endUpdate(!1))}};s.updaterowbykey(s.editKey,d,!1,v)}if(!h)return!1}return s._detachEditors(l),!0}},_detachEditors:function(t){var i=this,s=i.rowsByKey[t],r=i.getrowindex(s);if(i.editorsCache)for(var a in i.editorsCache){var o=e(i.editorsCache[a]).data();if(o&&o.jqxWidget){var n=o.jqxWidget.element.className;if((n.indexOf("dropdownlist")>=0||n.indexOf("datetimeinput")>=0||n.indexOf("combobox")>=0||n.indexOf("menu")>=0)&&o.jqxWidget.isOpened){var l=o.jqxWidget.isOpened();l&&o.jqxWidget.close()}}e(i.editorsCache[a]).detach()}i.beginUpdate();var h=i.getrowdisplayindex(s);if(i.editSettings.editSingleCell){var s=i.rowsByKey[t],d=null,c=null;s&&(d=s[i.editColumn.datafield],c=s[i.editColumn.displayfield]),i._raiseEvent("cellEndEdit",{value:d,displayValue:c,key:t,index:h,dataField:i.editColumn.datafield,displayField:i.editColumn.displayfield,boundIndex:r,row:i.rowsByKey[t]})}i._raiseEvent("rowEndEdit",{key:t,index:h,boundIndex:r,row:i.rowsByKey[t]}),i.endUpdate(!1),i.editColumn=null,i.editKey=null,i._renderrows(),i._renderhorizontalscroll(),i.host.focus(),
setTimeout(function(){i.host.focus()},10)},_showvalidationpopup:function(t,i,s,r){if(void 0==s)var s=this.gridlocalization.validationstring;r.addClass(this.toThemeProperty("jqx-grid-validation-label"));var a=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),o=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");a.html(s),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),a.addClass(this.toThemeProperty("jqx-grid-validation")),a.addClass(this.toThemeProperty("jqx-rc-all")),a.hide(),o.hide(),a.prependTo(this.table),o.prependTo(this.table);var n=this.hScrollInstance,l=n.value,h=parseInt(l),d=this.getColumn(i).uielement;if(t){var c=t;a.css("top",parseInt(c.position().top)+30+"px");var u=parseInt(a.css("top"));o.css("top",u-11),o.removeClass(),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var p=!1;u>=this._table.height()&&(o.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),u=parseInt(c.position().top)-c.outerHeight()-5,0>u&&(u=0,o.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),p=!0),a.css("top",u+"px"),o.css("top",u+a.outerHeight()-9));var m=-h+parseInt(e(d).position().left),f=parseInt(this._table.css("left"));isNaN(f)&&(f=0),0!=f&&(h=0),o.css("left",h+m+30);var v=a.width();if(v+m>this.host.width()-20){var g=v+m-this.host.width()+40;m-=g}p?a.css("left",h+parseInt(e(d).position().left)-a.outerWidth()):a.css("left",h+m),r.mouseenter(function(){r.hasClass("jqx-grid-validation-label")&&(a.show(),o.show())}),r.mouseleave(function(){a.hide(),o.hide()}),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:a,validationrow:o}}},addRow:function(t,i,s,r){if(void 0!=i){this._datachanged=!0,void 0==s&&(s="last");var a=!1,o=this.that;if(null==t){var n=this.dataview.filters&&this.dataview.filters.length>0,l=n?this.source.records.length:this.dataview.totalrecords;if(!this.pageable){this.source._source.totalrecords?this.dataview.totalrecords=this.source._source.totalrecords:this.source._source.totalRecords?this.dataview.totalrecords=this.source._source.totalRecords:0!==this.source.hierarchy.length?this.dataview.totalrecords=this.source.hierarchy.length:this.dataview.totalrecords=this.source.records.length;var l=n?this.source.records.length:this.dataview.totalrecords}if(e.isArray(i)){var h=new Array;e.each(i,function(e,t){var s=o.dataview.getid(o.dataview.source.id,i[e],l+e);h.push(s),o.getColumn(o.dataview.source.id)&&(i[e][o.dataview.source.id]=s)}),t=h}else t=this.dataview.getid(this.dataview.source.id,i,l),this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t)}else e.isArray(i)?e.each(i,function(e,s){var r=t[e];o.getColumn(o.dataview.source.id)&&(i[e][o.dataview.source.id]=r)}):this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t);var d=this.treeGrid&&this.treeGrid.virtualModeCreateRecords?!0:!1,c=function(t,i,s,a){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);var o=t.vScrollInstance.value,n=!1;if(e.isArray(s)?e.each(s,function(e,s){var o=null;null!=i&&null!=i[e]&&(o=i[e]),this.uid=o,t.rowsByKey[o]=this,i==r&&(r=null),n=t.source.addRecord(this,a,r,d)}):(s.uid=i,t.rowsByKey[i]=s,i==r&&(r=null),n=t.source.addRecord(s,a,r,d)),t.groups&&t.groups.length>0){var l=Object.prototype.toString,h=t.groups[0];if(Object.prototype.toString="function"==typeof h?h:function(){return this[h]},!t.source.records.sort){var c=new Array,u=0;e.each(data,function(){c[startindex+u++]=this}),data=c}t.source.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;var s=0,r=0;if(t&&t.uid&&(s=t.uid),i&&i.uid&&(r=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(i>t)return-1;if(t>i)return 1}catch(a){}if("number"==typeof s){if(r>s)return-1;if(s>r)return 1}return 0}),Object.prototype.toString=l}return t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null,(void 0==t._updating||0==t._updating)&&t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(s),t.source.suspendKO=!1),t.vScrollInstance.setPosition(o),n};if(this.source.addrow){var u=function(e,r){(1==e||void 0==e)&&(void 0!=r&&(t=r),c(o,t,i,s))};try{a=o.treeGrid?this.source.addrow(t,i,s,r,u):this.source.addrow(t,i,s,u),void 0==a&&(a=!0)}catch(p){a=!1}if(0==a)return!1}else c(this,t,i,s);return a}return!1},deleteRow:function(e){var t=this._getkey(e);this.deleterowbykey(t)},deleterowbykey:function(t){if(void 0!=t){this._datachanged=!0;var i=!1,s=this.that,r=function(t,i){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null;var s=!1,r=t.vScrollInstance.value;if(e.isArray(i))e.each(i,function(){var e=this;if(t.rowsByKey[e]){if(s=!0,t.rowinfo[e].selected&&t.unselectrowbykey(e,!1),t.treeGrid)var i=t._names(),r=t.rowsByKey[e][i.parent];if(delete t.rowsByKey[e],t.treeGrid&&t.rowinfo[e]){var a=t.rowinfo[e].row.records,o=function(e){for(var i=0;i<e.length;i++){var s=e[i].uid;delete t.rowsByKey[s],delete t.rowinfo[s],e[i].records&&o(e[i].records)}};a&&(o(a),delete t.rowinfo[e])}t.source.deleteRecord(e),r&&i&&r.records&&0==r.records.length&&(r[i.leaf]=!0,t.rowinfo[r.uid][i.leaf]=!0)}});else{var s=!1;if(t.rowsByKey[i]){if(s=!0,t.rowinfo[i].selected&&t.unselectrowbykey(i,!1),t.treeGrid)var a=t._names(),o=t.rowsByKey[i][a.parent];if(delete t.rowsByKey[i],t.treeGrid&&t.rowinfo[i]){var n=t.rowinfo[i].row.records,l=function(e){for(var i=0;i<e.length;i++){var s=e[i].uid;delete t.rowsByKey[s],delete t.rowinfo[s],e[i].records&&l(e[i].records)}};n&&l(n)}delete t.rowinfo[i],t.source.deleteRecord(i),o&&a&&o.records&&0==o.records.length&&(o[a.leaf]=!0,t.rowinfo[o.uid][a.leaf]=!0)}}return t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(rowdata),t.source.suspendKO=!1),t.vScrollInstance.setPosition(r),s};if(this.source.deleterow){var a=function(e){(1==e||void 0==e)&&r(s,t)};try{this.source.deleterow(t,a),void 0==i&&(i=!0)}catch(o){i=!1}}else i=r(s,t);return i}return!1},updateRow:function(e,t){var i=this._getkey(e);this.updaterowbykey(i,t)},updaterowbykey:function(t,i,s,r){if(void 0!=t&&void 0!=i){var a=this.that,o=!1,n=function(t,i,r){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null;var a=!1;if(e.isArray(i))e.each(i,function(e,i){var s=t.rowsByKey[this],o=function(t,i){s?s[this]=r[e]:a=!1,a=!0};o(this,s),t.treeGrid&&(s=t.treeGrid.getRow(this),o(this,s))});else{var o=t.rowsByKey[i],n=function(e){if(e){for(var i=0;i<t.columns.records.length;i++)e[t.columns.records[i].datafield]=r[t.columns.records[i].datafield],t.groups.length>0&&e.originalRecord&&(e.originalRecord[t.columns.records[i].datafield]=r[t.columns.records[i].datafield]);a=!0}else a=!1};n(o),t.treeGrid&&(o=t.treeGrid.getRow(i),n(o))}var l=t.vScrollInstance.value;if((void 0==s||1==s)&&(void 0==t._updating||0==t._updating)&&t._renderrows(),t.showAggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var o=t.rowsByKey[i],h=t.getrowindex(o),d=t.source._source._localdata()[h];t.source.suspendKO=!0,t.source._source._localdata.replace(d,e.extend({},o)),t.source.suspendKO=!1}return t.vScrollInstance.setPosition(l),t._renderrows(!1),a};if(this.source.updaterow){var l=function(e){(1==e||void 0==e)&&(n(a,t,i),r&&r())};try{o=this.source.updaterow(t,i,l),void 0==o&&(o=!0)}catch(h){o=!1}}else o=n(a,t,i),o&&r&&r();return o}return!1},lockRow:function(e){var t=this._getkey(e);this.lockrowbykey(t)},unlockRow:function(e){var t=this._getkey(e);this.unlockrowbykey(t)},lockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!0:this.rowinfo[e]={locked:!0},this._renderrows()},unlockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!1:this.rowinfo[e]={locked:!1},this._renderrows()},selectRow:function(e){var t=this._getkey(e);this.selectrowbykey(t)},unselectRow:function(e){var t=this._getkey(e);this.unselectrowbykey(t)},selectrowbykey:function(e,t,i){"keyboard"!=t&&"mouse"!=t&&(this._lastSelectedKey=e);var s=i!==!1?!0:!1;this._doSelection(e,!0,s);var r=this.rowsByKey[e],a=this.getrowindex(r),o=this.getrowdisplayindex(r);this._raiseEvent("rowSelect",{key:e,index:o,boundIndex:a,row:this.rowsByKey[e]})},unselectrowbykey:function(e,t){var i=t!==!1?!0:!1;this._doSelection(e,!1,i);var s=this.rowsByKey[e],r=this.getrowindex(s),a=this.getrowdisplayindex(s);this._raiseEvent("rowUnselect",{key:e,index:a,boundIndex:r,row:this.rowsByKey[e]})},getSelection:function(){var e=new Array;if(this.rowinfo)for(var t in this.rowinfo){var i=this.rowinfo[t];i.selected&&e.push(i.row)}return e},showdetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t];if(i){i.expanded=!0;var s=e(this._table.children()[1]).children("[data-key="+t+"]"),r=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(s){var a=r.children(),o=e(a[0]);if(this.rtl)var o=e(a[a.length-1]);this.rtl?(o.removeClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),o.addClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),o.removeClass(this.toThemeProperty("jqx-icon-arrow-left")),o.addClass(this.toThemeProperty("jqx-icon-arrow-down"))):(o.removeClass(this.toThemeProperty("jqx-grid-group-collapse")),o.addClass(this.toThemeProperty("jqx-grid-group-expand")),o.removeClass(this.toThemeProperty("jqx-icon-arrow-right")),o.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),s.next().show();var n=r.next();if(n.show(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(s.next().children().show(),r.next().children().show()),!i.initialized){var l=i.detailsHeight,h=this.initRowDetails(t,i.row,e(e(n).children().children().children()[0]),i);i.details=e(n).children().children().children()[0],i.initialized=!0,(h===!1||i.detailsHeight!=l)&&(h===!1&&(i.expanded=!1,i.nodetails=!0,n.hide()),this._renderrows())}this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var d=this.getrowindex(i.row),c=this.getrowdisplayindex(i.row);this._raiseEvent("rowExpand",{row:i.row,index:c,boundIndex:d,rowKey:t})}}}},hidedetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t];if(i){i.expanded=!1;var s=e(this._table.children()[1]).children("[data-key="+t+"]"),r=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(s){var a=r.children(),o=e(a[0]);if(this.rtl)var o=e(a[a.length-1]);this.rtl?(o.addClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),o.removeClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),o.addClass(this.toThemeProperty("jqx-icon-arrow-left")),o.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))):(o.addClass(this.toThemeProperty("jqx-grid-group-collapse")),o.removeClass(this.toThemeProperty("jqx-grid-group-expand")),o.addClass(this.toThemeProperty("jqx-icon-arrow-right")),o.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))),s.next().hide(),r.next().hide(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(s.next().children().hide(),r.next().children().hide()),this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var n=this.getrowindex(i.row),l=this.getrowdisplayindex(i.row);this._raiseEvent("rowCollapse",{row:i.row,index:l,boundIndex:n,rowKey:t})}}}},_getvirtualcolumnsindexes:function(e,t,i,s,r){if(this.rowDetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+s};var a=0,o=-1,n=i+s;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var l=0;i+s>l;l++){if(this.columns.records[l].hidden||(a+=this.columns.records[l].width),a>=e&&-1==o&&(o=l),a>t+e){n=l;break}}return n++,n>i+s&&(n=i+s),-1==o&&(o=0),{start:o,end:n}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var s=this.columnsrow,r=0,a=this.columns.records.length-r,o=this.columns.records,n=0==this.source.records.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),n&&!this._haspinned)this.table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px";else{if(this._haspinned||void 0==this._haspinned){for(var l=0;r+a>l;l++){var h=o[l];if(h.pinned){var d=null;if(this.showAggregates&&this.statusbar[0].cells&&(d=this.statusbar[0].cells[l]),this.filterrow&&this.filterrow[0].cells&&(filtercell=this.filterrow[0].cells[l]),this.rtl){var c=s[0].cells[l];c.style.marginLeft=-parseInt(t)+"px",d&&(d.style.marginLeft=-parseInt(t)+"px"),this.filterrow&&filtercell&&(filtercell.style.marginLeft=-parseInt(t)+"px")}else{var c=s[0].cells[l];c.style.marginLeft=i+"px",d&&(d.style.marginLeft=i+"px"),this.filterrow&&filtercell&&(filtercell.style.marginLeft=i+"px")}}}if(this.columnsVirtualization){for(var u=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1),p=u.start,m=u.end,f=0;p>f;f++){var v=f,g=this.columns.records[v].element[0];if(!this.columns.records[v].pinned&&(g.parentNode&&g.parentNode.removeChild(g),this.filterrow&&this.filterrow[0])){var x=this.filterrow[0].cells[v];x.parentNode&&x.parentNode.removeChild(x)}}for(var f=m;f<this.columns.records.length;f++){var v=f,g=this.columns.records[v].element[0];if(!this.columns.records[v].pinned&&(g.parentNode&&g.parentNode.removeChild(g),this.filterrow&&this.filterrow[0])){var x=this.filterrow[0].cells[v];x.parentNode&&x.parentNode.removeChild(x)}}for(var f=p;m>f;f++){var v=f;if(g=this.columns.records[v].element[0],!this.columns.records[v].pinned&&(g.parentNode||this.columnsrow[0].appendChild(g),this.filterrow&&this.filterrow[0])){var x=this.filterrow[0].cells[v];x.parentNode||this.filterrow[0].appendChild(x)}}}this._table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px"}else if(0==this._haspinned){if(this.columnsVirtualization){for(var u=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1),p=u.start,m=u.end,f=0;p>f;f++){var v=f,g=this.columns.records[v].element[0];if(g.parentNode&&g.parentNode.removeChild(g),this.filterrow&&this.filterrow[0]){var x=this.filterrow[0].cells[v];x.parentNode&&x.parentNode.removeChild(x)}}for(var f=m;f<this.columns.records.length;f++){var v=f,g=this.columns.records[v].element[0];if(g.parentNode&&g.parentNode.removeChild(g),this.filterrow&&this.filterrow[0]){var x=this.filterrow[0].cells[v];x.parentNode&&x.parentNode.removeChild(x)}}for(var f=p;m>f;f++){var v=f;if(g=this.columns.records[v].element[0],g.parentNode||this.columnsrow[0].appendChild(g),this.filterrow&&this.filterrow[0]){var x=this.filterrow[0].cells[v];x.parentNode||this.filterrow[0].appendChild(x)}}}this.table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px"}this.filterrow&&(this.filterrow[0].style.left=-i+"px",this.rtl&&(this.filterrow[0].style.left=-i+parseInt(this.content.css("left"))+"px"))}if(this.showAggregates&&this.aggregates[0].cells){var b=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&(b="hidden"!=this.hScrollBar.css("visibility")?2+parseInt(this.hScrollBar.css("left")):3+parseInt(this.vScrollBar.width())),this.aggregates[0].style.marginLeft=-i+b+"px"}}},_initializeColumns:function(){var i=this.source.datafields;null==i&&this.source._source&&(i=this.source._source.datafields);var s=i?i.length>0:!1;if(this.columns&&this.columns.records)for(var r=0;r<this.columns.records.length;r++)this._removecolumnhandlers(this.columns.records[r]);var a=this,o=new e.jqx.dataCollection(this.element),n=0;if(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,"checkbox"==this.selectionMode){var l=new t(a,this);l.visibleindex=n++,l.width=a.indentWidth,l.checkboxcolumn=!0,l.editable=!1,l.columntype="checkbox",l.groupable=!1,l.draggable=!1,l.filterable=!1,l.resizable=!1,l.datafield="_checkboxcolumn",o.add(l)}if(this.rowDetails&&!this.treeGrid){var l=new t(a,this);l.visibleindex=n++,l.width=a.indentWidth,l.editable=!1,l.rowDetailscolumn=!0,l.groupable=!1,l.draggable=!1,l.pinned=!0,l.filterable=!1,l.resizable=!1,l.text="",o.add(l)}var h=new Array;e.each(this.columns,function(e){if(void 0!=a.columns[e]){var i=new t(a,this);if(i.visibleindex=n++,void 0!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(a._haspinned=!0),null==this.datafield)a.source&&a.source._source&&"array"==a.source._source.datatype&&(s||(a.source._source.datafields?a.source._source.datafields.push({name:e.toString()}):(a.source._source.datafields=new Array,a.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(h[this.datafield])throw new Error("jqxDataTable: Invalid column 'dataField' setting. jqxDataTable's columns should be initialized with unique data fields.");h[this.datafield]=!0}o.add(i)}}),this.rtl&&o.records.reverse(),this.columns=o},addFilter:function(e,t){var i=this.getColumn(e);i&&this.dataview.addFilter(e,t)},removeFilter:function(e){var t=this.getColumn(e);t&&this.dataview.removeFilter(e)},clearFilters:function(e,t){this.dataview.filters=new Array,this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,t!==!1&&this.resetfilter(),e!==!1&&this.applyFilters()},resetfilter:function(){if(this.filterinput&&this.filterinput.val(""),this.filterrow)for(var t=0;t<this.filterrow[0].cells.length;t++){var i=this.filterrow[0].cells[t],s=e(i).find("input:first"),r=e(i).find(".filterconditions"),a=this.columns.records[t];if(a.filterable){s.val("");var o=this.getcolumntypebydatafield(a),n=new e.jqx.filter;switch(o){case"number":case"int":case"float":case"decimal":filtertype="numericfilter",conditions=n.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter",conditions=n.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter",conditions=n.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter",conditions=n.getoperatorsbyfiltertype("stringfilter")}r.length>0&&("stringfilter"===filtertype?r.jqxDropDownList({selectedIndex:2}):r.jqxDropDownList({selectedIndex:0}))}}},applyFilters:function(){if(this.editable&&null!=this.editKey){this.endroweditbykey(this.editKey)}if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this.serverProcessing?(this.dataview.pagenum=0,this.updateBoundData("filter")):(this.goToPage(0),this.refresh()),arguments&&arguments.length>0){if(this._updateSimpleFilter&&this.filtercolumnsList){var e=this.filtercolumnsList.jqxDropDownList("getSelectedItem").value;this._updateSimpleFilter(e)}this._updateFilterRow&&this._updateFilterRow()}this._raiseEvent("filter",{filters:this.dataview.filters})},sortBy:function(e,t){if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(this.editable&&null!=this.editKey){this.endroweditbykey(this.editKey)}if(null==e&&(t=null,e=this.sortcolumn),e){var i=this;"a"==t||"asc"==t||"ascending"==t||1==t?ascending=!0:ascending=!1,null!=t?i.sortdirection={ascending:ascending,descending:!ascending}:i.sortdirection={ascending:!1,descending:!1},null!=t?i.sortcolumn=e:i.sortcolumn=null,i.source.sort&&(i.dataview.sortfield=e,null==t?i.dataview.sortfielddirection="":i.dataview.sortfielddirection=ascending?"asc":"desc",i.source.sort&&!this._loading&&i.source.sort(e,t)),i.dataview.sortBy(e,t),i._raiseEvent("sort",{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection})}this.serverProcessing?this.updateBoundData("sort"):this.refresh()},_togglesort:function(e){var t=this;if(!this.disabled&&e.sortable&&t.sortable){var i={sortcolumn:this.sortcolumn,sortdirection:this.sortdirection},s=null;null!=i.sortcolumn&&i.sortcolumn==e.displayfield?(s=i.sortdirection.ascending,s=1==s?!1:null):s=!0,t.sortBy(e.displayfield,s)}},_renderfilter:function(){var t=this,i=e("<div style='position: relative; margin: 4px;'><input style='height: 22px; direction: ltr;' role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>");i.css({height:22});var s=i.find("input"),r=i.find("div:first");i.addClass(this.toThemeProperty("jqx-rc-all")),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-input-group")),s.addClass(this.toThemeProperty("jqx-input")),s.addClass(this.toThemeProperty("jqx-rc-l")),s.addClass(this.toThemeProperty("jqx-input-group-addon")),s.addClass(this.toThemeProperty("jqx-widget")),s.addClass(this.toThemeProperty("jqx-widget-content")),r.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-rc-r")),r.addClass(this.toThemeProperty("jqx-input-group-addon")),r.find("div").addClass(this.toThemeProperty("jqx-icon-search")),this.rtl&&(s.addClass(this.toThemeProperty("jqx-rtl")),s.css("direction","rtl")),this.filter.children().remove(),this.filterbutton=r;for(var a=new Array,o=0;o<t.columns.records.length;o++)t.columns.records[o].datafield&&t.columns.records[o].filterable&&a.push({label:t.columns.records[o].text,value:t.columns.records[o].displayfield});var n=a.length<10?!0:!1,l=e("<div style='position: relative; top: 50%; display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>");this.filter.append(l);var h=e("<div class='filtercolumns' style='position: relative; margin: 4px; float: left;'></div>");this.filter.append(h),h.jqxDropDownList&&h.jqxDropDownList({theme:this.theme,enableBrowserBoundsDetection:!0,autoDropDownHeight:n,rtl:t.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:20,source:a,displayMember:"label",valueMember:"value"}),this.filtercolumnsList=h;var d=function(e){t.filterinput.val("");for(var i=0;i<t.dataview.filters.length;i++){var s=t.dataview.filters[i];s.datafield===e&&t.filterinput.val(s.filter.getfilterat(0).filtervalue)}};30!==t.filterHeight&&(t.filtercolumnsList.css("margin-top",t.filterHeight/2-10),i.css("margin-top",t.filterHeight/2-10)),t._updateSimpleFilter=d,this.addHandler(h,"select",function(e){var t=e.args.item.value;d(t)}),"simple"===this.filterMode?(this.filtercolumnsList.hide(),l.show(),l.css("margin-top",-this.filter.height()/2),i.css("float","left")):(this.filtercolumnsList.show(),l.hide());var c=function(){if(!r.hasClass("jqx-fill-state-disabled")){var i=s.val();if(h.jqxDropDownList)var a=h.jqxDropDownList("getSelectedItem");var o=function(i,s,r){var a=new e.jqx.filter,o=t.getcolumntypebydatafield(i),n=t._getfiltertype(o);if("datefilter"==n)var l=a.createfilter(n,s,"EQUAL",null,i.cellsFormat,t.gridlocalization);else if("numericfilter"==n||"booleanfilter"==n){"numericfilter"==n&&(","==t.gridlocalization.decimalseparator&&s.indexOf(t.gridlocalization.decimalseparator)>=0&&(s=s.replace(t.gridlocalization.decimalseparator,".")),s.indexOf(t.gridlocalization.currencysymbol)>=0&&(s=s.replace(t.gridlocalization.currencysymbol,"")),s.indexOf(t.gridlocalization.percentagesymbol)>=0&&(s=s.replace(t.gridlocalization.percentagesymbol,"")));var l=a.createfilter(n,s,"EQUAL",null,i.cellsFormat,t.gridlocalization)}else var l=a.createfilter(n,s,"CONTAINS");return a.operator=r,a.addfilter(0,l),a};if("simple"!==t.filterMode){if(a){var n=a.value,l=t.getColumn(n),d=o(l,i,"and");i.length>0?(t.removeFilter(n),t.addFilter(n,d),t.applyFilters()):(t.removeFilter(n),t.applyFilters()),"advanced"===t.filterMode&&t._updateFilterRow&&t._updateFilterRow(!0)}}else{if(t.clearFilters(!1,!1),i.length>0)for(var c=0;c<t.columns.records.length;c++){var l=t.columns.records[c],d=o(l,i,"or");t.addFilter(l.datafield,d)}t.applyFilters()}0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)}};if(s.keydown(function(e){return 13===e.keyCode?(c(),e.preventDefault&&e.preventDefault(),!1):void 0}),r.click(function(){c()}),this.filterinput=s,this.filter.append(i),"advanced"==this.filterMode){var u=e("<a style='float: left; position: relative; margin: 2px; margin-left: 10px;' href='#'>"+this.gridlocalization.filterstring+"</a>");i.append(u),this.addHandler(u,"click",function(i){var s=function(i){if(t.filterrow)for(var s=0;s<t.filterrow[0].cells.length;s++){var r=t.filterrow[0].cells[s],a=e(r).find("input:first"),o=t.columns.records[s];if(o.filterable){i===!0&&a.val("");for(var n=0;n<t.dataview.filters.length;n++){var l=t.dataview.filters[n];if(l.datafield===o.displayfield){a.val(l.filter.getfilterat(0).filtervalue);break}}}}},r=function(i){if(t.filterrow)for(var s=0,r=0;r<t.filterrow[0].cells.length;r++){var a=t.filterrow[0].cells[r],o=e(a).find("input:first"),n=t.columns.records[r];n.hidden?a.style.visibility="hidden":a.style.visibility="inherit",n.filterable&&(a.style.left=parseInt(s)+parseInt(n.uielement[0].style.left)+"px",a.style.width=6+n.width+"px",o[0]&&(o[0].style.width=n.width-6-22+"px"))}};t._updateFilterRow=s,t._arrangeFilterRow=r;var a=function(){t.filtercolumnsList.jqxDropDownList({disabled:!0}),t.filterinput.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!0),t.filterbutton.addClass(t.toThemeProperty("jqx-fill-state-disabled"))};return 0===t.filter.find(".filterrow").length?(t._renderadvancedfilter(),a(),s(),t._arrange(),r()):("none"===t.filter.find(".filterrow").css("display")?(a(),t.filter.find(".filterrow").removeClass("filterrow-hidden"),s(),t.filter.find(".filterrow").show(),r()):(t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),d(t.filtercolumnsList.jqxDropDownList("getSelectedItem").value),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide()),t._arrange()),!1})}var p=e("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>");p.attr("title",t.gridlocalization.filterclearstring),p.addClass(t.toThemeProperty("jqx-icon-close")),i.append(p),p.hide(),t.filtericon=p,p.click(function(){t.clearFilters(),t.filtericon.fadeOut(200)}),t.dataview.filters.length>0&&("advanced"!=t.filterMode?d(t.dataview.filters[0].datafield):t._updateFilterRow&&t._updateFilterRow())},_renderadvancedfilter:function(){var t=this,i=function(){t.clearFilters(!1,!1);for(var i=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,s=(t.filterinput.val(),0);s<t.filterrow[0].cells.length;s++){var r=t.filterrow[0].cells[s],a=e(r).find("input:first"),o=e(r).find(".filterconditions"),n=t.columns.records[s],l="";if(n.filterable){n.displayfield===i&&t.filterinput.val(a.val());var h=t.getcolumntypebydatafield(n),d=new e.jqx.filter;switch(h){case"number":case"int":case"float":case"decimal":filtertype="numericfilter",conditions=d.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter",conditions=d.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter",conditions=d.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter",conditions=d.getoperatorsbyfiltertype("stringfilter")}if(0==o.length)l="stringfilter"===filtertype?conditions[2]:conditions[0];else{var c=o.jqxDropDownList("getSelectedItem");l=c?conditions[c.index]:"stringfilter"===filtertype?conditions[2]:conditions[0]}var u=a.val();if(u.length>0||0==u.length&&"NOT_NULL"==l||0==u.length&&"NOT_EMPTY"==l||0==u.length&&"EMPTY"==l||0==u.length&&"NULL"==l){var p=n.displayfield,m=new e.jqx.filter;"numericfilter"==filtertype&&(","==t.gridlocalization.decimalseparator&&u.indexOf(t.gridlocalization.decimalseparator)>=0&&(u=u.replace(t.gridlocalization.decimalseparator,".")),u.indexOf(t.gridlocalization.currencysymbol)>=0&&(u=u.replace(t.gridlocalization.currencysymbol,"")),u.indexOf(t.gridlocalization.percentagesymbol)>=0&&(u=u.replace(t.gridlocalization.percentagesymbol,"")));var d=m.createfilter(filtertype,u,l,null,n.cellsFormat,t.gridlocalization);m.addfilter(0,d),t.addFilter(p,m)}}}t.dataview.filters.length>0?t.applyFilters():t.clearFilters(),0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)},s=function(){var s=e("<div style='position: relative;' class='filterrow'></div>").appendTo(t.filter);t.filterrow=s,s[0].cells=new Array,s.css({height:24}),s.css({width:t.table.width()});var r=0,a=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,o=t.filterinput.val();e.each(t.columns.records,function(){var n=this,l=e("<div></div>").appendTo(s);if(l.css("position","absolute"),l.css("left",r+parseInt(n.uielement[0].style.left)),n.pinned&&(l.css("z-index",t.tableZIndex+t.columns.records.length),l.addClass(t.toThemeProperty("jqx-widget-header"))),s[0].cells.push(l[0]),!this.filterable)return!0;var h=e("<input style='margin-left: 4px; height: 20px; float: left;' role='textbox' type='text'/>").appendTo(l);h.keydown(function(e){13===e.keyCode&&i()}),n.displayfield===a&&h.val(o),h.addClass(t.toThemeProperty("jqx-input")),h.addClass(t.toThemeProperty("jqx-rc-all")),h.addClass(t.toThemeProperty("jqx-widget")),h.addClass(t.toThemeProperty("jqx-widget-content"));var d=e("<div style='cursor: pointer; margin-left: 4px; margin-bottom: 4px; margin-top: 6px; width: 18px; position: relative; margin-top: 4px; float: left;'></div>").appendTo(l);d.append(e("<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>")),h.focus(function(){t.ensureColumnVisible(n.displayfield),t.filter[0].scrollLeft=0,t.ensureColumnVisible(n.displayfield),setTimeout(function(){t.filter[0].scrollLeft=0,t.ensureColumnVisible(n.displayfield)},10)}),d.click(function(){var i=e("<div class='filterconditions' style='position: relative; margin-top: 1px; float: left;'></div>");i.insertAfter(d),d.remove();var s=t.getcolumntypebydatafield(n),r=t._getfiltersbytype(s);"string"===s?index=2:index=0,i.jqxDropDownList({theme:t.theme,enableBrowserBoundsDetection:!0,renderMode:"simple",arrowSize:0,selectedIndex:index,rtl:t.rtl,dropDownWidth:230,dropDownHeight:180,width:20,height:20,source:r,selectionRenderer:function(){return"<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"}}),t.addHandler(i,"close",function(e){h.focus(),setTimeout(function(){h.focus()},10)}),i.removeAttr("tabindex"),i.find("div").removeAttr("tabindex"),i.jqxDropDownList("open")}),h[0].style.width=n.width-6-22+"px"}),e("<div style='clear: both;'></div>").appendTo(s)};s();var r=e("<div style='position:relative;' class='filterrow'></div>").appendTo(t.filter),a=e("<input type='button' style='position: relative; float: left; margin-top: 4px; margin-left: 4px;' value='"+t.gridlocalization.filterapplystring+"'/>").appendTo(r),o=e("<input type='button' style='position: relative; float: left; margin-top: 4px;  margin-left: 4px;' value='"+t.gridlocalization.filtercancelstring+"'/>").appendTo(r),n=0;a.css("left",n),o.css("left",n),a.jqxButton({theme:t.theme}),o.jqxButton({theme:t.theme}),o.click(function(){t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),
t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide(),t._arrange()}),a.click(function(){i()}),t._renderhorizontalscroll()},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":t="datefilter";break;case"string":t="stringfilter"}return t},getcolumntypebydatafield:function(t){var i=this,s="string",r=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(r){var a="";if(e.each(r,function(){return this.name==t.displayfield?(this.type&&(a=this.type),!1):void 0}),a)return a}return s},_getfiltersbytype:function(e){var t=this,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getcellvalue:function(e,t){var i=null;return i=t[e.datafield],null!=e.displayfield&&(i=t[e.displayfield]),null==i&&(i=""),i},_renderrows:function(t){if(this.editable&&null!=this.editKey&&t!==!1){this.endroweditbykey(this.editKey)}if(this.treeGrid)return void this.treeGrid._renderrows();if(!this._loading&&!this._updating){this.rendering&&this.rendering();var i=this,s=0;this.table[0].rows=new Array;var r=this.toTP("jqx-cell")+" "+this.toTP("jqx-widget-content");this.rtl&&(r+=" "+this.toTP("jqx-cell-rtl"));var a=this.columns.records.length,o=e.jqx.browser.msie&&e.jqx.browser.version<8;o&&this.host.attr("hideFocus","true");var n=i.groups.length,l=new Array,h=this.source.records;if(h=this.dataview.evaluate(h),this.dataViewRecords=h,"all"==this.dataview.pagesize||!this.pageable||this.serverProcessing){var d=h;if(this.pageable&&this.serverProcessing&&h.length>this.dataview.pagesize)var d=h.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize)}else var d=h.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize);if(i.groups&&i.groups.length>0){var c=this.pageable?this.dataview.pagesize*this.dataview.pagenum:0,u=function(e){for(var t=0,s=new Array,r=0;r<e.length;r++){var a=e[r];if(0==a.level&&t++,t>i.dataview.pagesize*i.dataview.pagenum&&t<=i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize&&s.push(a),t>i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize)break}return s};if("root"===this.pageSizeMode){var p=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",h,0);i.rootRecordsLength=p.length,p=u(p)}else var p=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",d,c);var m=function(e,t){for(var i=0;i<e.length;i++){var s=e[i];if(t.push(s),s.records&&s.records.length>0)for(var r=m(s.records,new Array),a=0;a<r.length;a++)r[a].leaf?t.push(r[a]):t.push(r[a])}return t},l=m.call(i,p,new Array);d=l,this.rowsByKey=new Array;for(var f=0;f<d.length;f++){var v=d[f];this.rowsByKey[v.uid]=v}}var l=d;this.renderedRecords=l;var g=l.length,x=this.tableZIndex,b=0,y=0;if(o)for(var w=0;a>w;w++){var _=this.columns.records[w],T=_.width;T<_.minwidth&&(T=_.minwidth),T>_.maxwidth&&(T=_.maxwidth);var j=e('<table><tr><td role="gridcell" style="max-width: '+T+"px; width:"+T+'px;" class="'+r+'"></td></tr></table>');e(document.body).append(j);var q=j.find("td");b=1+parseInt(q.css("padding-left"))+parseInt(q.css("padding-right")),j.remove();break}for(var I=this.rtl?" "+this.toTP("jqx-grid-table-rtl"):"",C="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+I+"' id='table"+this.element.id+"'><colgroup>",S="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+I+"' id='pinnedtable"+this.element.id+"'><colgroup>",D=0,k=a,w=0;a>w;w++){var _=this.columns.records[w];if(_.hidden)D++,k--;else{var T=_.width;if(T<_.minwidth&&(T=_.minwidth),T>_.maxwidth&&(T=_.maxwidth),T-=b,0>T&&(T=0),o){var P=T;if(w==D&&P++,_.rowDetailscolumn){var P=P+4;S+="<col style='max-width: "+P+"px; width: "+P+"px;'>",C+="<col style='max-width: "+P+"px; width: "+P+"px;'>"}else S+="<col style='max-width: "+P+"px; width: "+P+"px;'>",C+="<col style='max-width: "+P+"px; width: "+P+"px;'>"}else S+="<col style='max-width: "+T+"px; width: "+T+"px;'>",C+="<col style='max-width: "+T+"px; width: "+T+"px;'>";y+=T}}C+="</colgroup>",S+="</colgroup>",this._hiddencolumns=!1;var H=!1;if(this.rowDetails&&this._pinnedTable&&(this._pinnedTable.find("[data-role=details]").detach(),this._table.find("[data-role=details]").detach()),0===g){var M='<tr role="row">',B=this.host.height();if(this.pageable&&(B-=this.pagerHeight,"both"===this.pagerPosition&&(B-=this.pagerHeight)),B-=this.columnsHeight,this.filterable){var E=this.filter.find(".filterrow"),z=this.filter.find(".filterrow-hidden"),O=1;z.length>0&&(O=0),B-=this.filterHeight+this.filterHeight*E.length*O}this.showstatusbar&&(B-=this.statusBarHeight),this.showAggregates&&(B-=this.aggregatesHeight),25>B&&(B=25),"hidden"!=this.hScrollBar[0].style.visibility&&(B-=this.hScrollBar.outerHeight()),("auto"===this.height||null===this.height||this.autoheight)&&(B=300);var j='<td colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+B+"px; height: "+B+"px; max-width:"+y+"px; width:"+y+"px;",r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");r+=" "+this.toTP("jqx-center-align"),j+='" class="'+r+'">',j+=this.gridlocalization.emptydatastring,j+="</td>",M+=j,C+=M,S+=M,this.table[0].style.width=y+2+"px",s=y}for(var A=this.getRows(),L=new Array,f=0;f<l.length;f++){var v=l[f],N=v.uid;void 0===v.uid&&(v.uid=this.dataview.generatekey());var M='<tr data-key="'+N+'" role="row" id="row'+f+this.element.id+'">',W='<tr data-key="'+N+'" role="row" id="row'+f+this.element.id+'">';if(n>0&&v.level<n)var M='<tr data-role="row-group" data-key="'+N+'" role="row" id="row'+f+this.element.id+'">',W='<tr data-role="row-group" data-key="'+N+'" role="row" id="row'+f+this.element.id+'">';for(var R=0,F=0,w=0;a>w;w++){var V=this.columns.records[w];(V.pinned||this.rtl&&this.columns.records[a-1].pinned)&&(H=!0);var T=V.width;T<V.minwidth&&(T=V.minwidth),T>V.maxwidth&&(T=V.maxwidth),T-=b,0>T&&(T=0);var r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");V.pinned&&(r+=" "+this.toTP("jqx-grid-cell-pinned")),this.sortcolumn===V.displayfield&&(r+=" "+this.toTP("jqx-grid-cell-sort")),this.altRows&&f%2!=0&&(r+=" "+this.toTP("jqx-grid-cell-alt")),this.rtl&&(r+=" "+this.toTP("jqx-cell-rtl"));var U="";if(n>0&&v.level<n)if(o)r+=" "+this.toTP("jqx-grid-cell-pinned");else{r+=" "+this.toTP("jqx-grid-cell-pinned"),U+=' colspan="'+a+'"';for(var P=0,Y=0;a>Y;Y++){var K=i.columns.records[Y],G=K.width;G<K.minwidth&&(T=K.minwidth),G>K.maxwidth&&(T=K.maxwidth),G-=b,0>G&&(G=0),K.hidden||(P+=G)}T=P}var j='<td role="gridcell" '+U+' style="max-width:'+T+"px; width:"+T+"px;",$='<td role="gridcell" '+U+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+T+"px; width:"+T+"px;";w==a-1&&1==a&&(j+="border-right-color: transparent;",$+="border-right-color: transparent;");var X=!1;n>0&&v.level<n&&(X=!0),X?this.rtl&&(r+=" "+this.toTP("jqx-right-align")):"left"!=V.cellsalign&&(r+="right"===V.cellsalign?" "+this.toTP("jqx-right-align"):" "+this.toTP("jqx-center-align")),this.rowinfo[v.uid]&&(this.rowinfo[v.uid].selected&&!V.rowDetailscolumn&&this.editKey!==v.uid&&"none"!==this.selectionMode&&(r+=" "+this.toTP("jqx-grid-cell-selected"),r+=" "+this.toTP("jqx-fill-state-pressed")),this.rowinfo[v.uid].locked&&(r+=" "+this.toTP("jqx-grid-cell-locked"))),V.hidden?X||(j+="display: none;",$+="display: none;",this._hiddencolumns=!0):(R+=b+T,0==F&&(j+="border-left-width: 0px;",$+="border-left-width: 0px;"),F++),n>0&&o&&X&&w>=n&&(j+="font-size: 1px; border-color: transparent;  color: transparent;",$+="font-size: 1px; border-color: transparent; color: transparent;"),V.pinned&&(j+="pointer-events: auto;",$+="pointer-events: auto;"),!X&&V.rowDetailscolumn&&(this.rowinfo[v.uid]?this.rowinfo[v.uid].nodetails||(this.rowinfo[v.uid].expanded?(r+=this.rtl?" "+this.toTP("jqx-grid-group-expand-rtl"):" "+this.toTP("jqx-grid-group-expand"),r+=" "+this.toTP("jqx-icon-arrow-down")):this.rtl?(r+=" "+this.toTP("jqx-grid-group-collapse-rtl"),r+=" "+this.toTP("jqx-icon-arrow-left")):(r+=" "+this.toTP("jqx-grid-group-collapse"),r+=" "+this.toTP("jqx-icon-arrow-right"))):this.rtl?(r+=" "+this.toTP("jqx-grid-group-collapse-rtl"),r+=" "+this.toTP("jqx-icon-arrow-left")):(r+=" "+this.toTP("jqx-grid-group-collapse"),r+=" "+this.toTP("jqx-icon-arrow-right"))),(!this.autoRowHeight||this.autoRowHeight&&!V.autoCellHeight)&&(r+=" "+this.toTP("jqx-grid-cell-nowrap "));var Z=i._getcellvalue(V,v),J=V.cellsFormat;if(n>0&&v.level<n&&(Z=v.label,J=i.getColumn(i.groups[v.level]).cellsFormat),""!=J&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(Z)?Z=e.jqx.dataFormat.formatdate(Z,J,i.gridlocalization):(e.jqx.dataFormat.isNumber(Z)||!isNaN(parseFloat(Z))&&isFinite(Z))&&(Z=e.jqx.dataFormat.formatnumber(Z,J,i.gridlocalization))),X)this.groupsRenderer&&(Z=this.groupsRenderer(Z,v,v.level));else{if(""!=V.cellclassname&&V.cellclassname)if("string"==typeof V.cellclassname)r+=" "+V.cellclassname;else{var Q=V.cellclassname(f,V.datafield,Z,v);Q&&(r+=" "+Q)}if(""!=V.cellsRenderer&&V.cellsRenderer){var ee=A.indexOf(v);if(-1===ee&&v.originalRecord)var ee=A.indexOf(v.originalRecord);Z=V.cellsRenderer(ee,V.datafield,Z,v),Z&&(Z.indexOf("<jqx-")>=0||Z.indexOf(" ng-")>=0)&&L.push({rowKey:v.uid,row:ee,column:V.datafield,value:Z,columnIndex:w})}}if(j+='" class="'+r+'">',j+=Z,j+="</td>",$+='" class="'+r+'">',$+=Z,$+="</td>",V.pinned?(W+=j,M+=j):(M+=j,H&&(W+=$)),n>0&&!o&&v.level<n)break}if(0==s&&(this.table[0].style.width=R+2+"px",s=R),M+="</tr>",W+="</tr>",C+=M,S+=W,this.rowinfo[v.uid]?("group"in this.rowinfo[v.uid]||(this.rowinfo[v.uid].group=X),"row"in this.rowinfo[v.uid]||(this.rowinfo[v.uid].row=v),"details"in this.rowinfo[v.uid]||(this.rowinfo[v.uid].details=null),"detailsHeight"in this.rowinfo[v.uid]||(this.rowinfo[v.uid].detailsHeight=200),"initialized"in this.rowinfo[v.uid]||(this.rowinfo[v.uid].initialized=!1),"expanded"in this.rowinfo[v.uid]||(this.rowinfo[v.uid].expanded=!1)):this.rowinfo[v.uid]={group:X,row:v,details:null,detailsHeight:200,initialized:!1,expanded:!1},this.serverProcessing&&(this.rowinfo[v.uid].row=v),this.rowDetails){var te=this.rowinfo[v.uid].detailsHeight;if(this.rowinfo[v.uid])if(this.rowinfo[v.uid].expanded)var ie='<tr data-role="row-details"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+te+"px; max-height: "+te+"px; height: "+te+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else var ie='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+te+"px; max-height: "+te+"px; height: "+te+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else var ie='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+te+"px; max-height: "+te+"px; height: "+te+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';var r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");r+=" "+this.toTP("jqx-details"),r+=" "+this.toTP("jqx-reset"),ie+='" class="'+r+'"><div style="pointer-events: auto; overflow: hidden; min-height: '+te+"px; max-height: "+te+"px; height: "+te+'px;"><div data-role="details"></div></div></td></tr>',C+=ie,S+=ie}}if(C+="</table>",S+="</table>",H){i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(S+C)}):i.table[0].innerHTML=S+C;var se=this.table.find("#table"+this.element.id),re=this.table.find("#pinnedtable"+this.element.id);if(re.css("float","left"),re.css("pointer-events","none"),se.css("float","left"),re[0].style.position="absolute",se[0].style.position="relative",se[0].style.zIndex=x-10,re[0].style.zIndex=x+10,this._table=se,this._table[0].style.left="0px",this._pinnedTable=re,this._pinnedTable[0].style.left="0px",this._pinnedTable[0].style.width=s+"px",this._table[0].style.width=s+"px",this.rtl&&s>parseInt(this.element.style.width)&&this._haspinned&&(this._pinnedTable[0].style.left=3-s+parseInt(this.element.style.width)+"px"),this.rowDetails)for(var f=0;g>f;f++){var v=l[f],N=v.uid;if(this.rowinfo[N].details){var ae=e(this._table.children()[1]).children("[data-key="+N+"]"),oe=e(this._pinnedTable.children()[1]).children("[data-key="+N+"]");if(ae){var ne=oe.next(),le=e(e(ne).children().children());le.children().detach(),le.append(this.rowinfo[v.uid].details)}}}}else{i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(C)}):i.table[0].innerHTML=C;var Y=this.table.find("#table"+this.element.id);this._table=Y,e.jqx.browser.msie&&e.jqx.browser.version<10&&(this._table[0].style.width=s+"px"),0===g&&(this._table[0].style.width=2+s+"px")}if(0===g&&(this._table[0].style.tableLayout="auto",this._pinnedTable&&(this._pinnedTable[0].style.tableLayout="auto")),L&&L.length>0){this._table[0].rows;e.each(L,function(){var t=(this.row,this.rowKey),s=(this.column,this.columnIndex),r=i._getuirow(t);if(r){var a=r[0].cells[s];e.jqx.angularCompile&&e.jqx.angularCompile(a,"<div>"+a.innerHTML+"</div>")}})}this.rendered&&this.rendered()}},getcolumnindex:function(e){var t=this.getColumn(e),i=this.columns.records.indexOf(t);return i},setcolumnindex:function(t,i,s){var r=this.getColumn(t);if(!(r.pinned||r.hidden||r.checkboxcolumn||r.grouped)){var a=this.columns.records.indexOf(r);this.columns.records.splice(a,1),this.columns.records.splice(i,0,r);var o=0,n=this.headerZIndex;this.columnsrow.children().detach();var l=this.toThemeProperty("jqx-grid-cell");l+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),l+=" "+this.toThemeProperty("jqx-item");var h=this;if(void 0!=h.filterrow){e(h.filterrow.children()[0])}this.columnsrow[0].cells=[];var d=!1;if(e.each(this.columns.records,function(e,t){var i=this.uielement;h.columnsrow.append(i),h.rtl?i.css("z-index",n++):i.css("z-index",n--);var s=h.rtl?250+n+1:250+n-1;this.pinned&&i.css("z-index",s);var r=this.width;i.css("left",o),h.columnsrow[0].cells[h.columnsrow[0].cells.length]=i[0],this.hidden&&(d=!0),this.hidden&&this.hideable||(o+=r)}),this.groupable){var c=this.groups.length;c>0&&a-c>=0&&(a-=c,i-=c)}this.rowDetails&&a-1>=0&&(a--,i--),"checkbox"==this.selectionMode&&a-1>=0&&(a--,i--);var r=this._columns[a];this._columns.splice(a,1),this._columns.splice(i,0,r),this.resize(),this._rendercolumnGroups(),this._raiseEvent("columnReordered",{dataField:r.datafield,oldIndex:a,newIndex:i})}},_pinnedColumnsLength:function(){var t=0;return e.each(this.columns.records,function(){this.pinned&&t++,this.grouped&&t++}),this.rowDetails&&t++,"checkbox"==this.selectionMode&&t++,t},_handlecolumnsReorder:function(){var t=this,i=-1,s=!1;if(t.columnsReorder){var r="mousemove.reorder"+this.element.id,a="mousedown.reorder"+this.element.id,o="mouseup.reorder"+this.element.id,n=!1;this.isTouchDevice()&&this.touchmode!==!0&&(n=!0,r=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(r){if(t.resizing)return!0;if(null!=t.reordercolumn){var a=parseInt(r.pageX),o=parseInt(r.pageY);if(n){var l=t.getTouches(r),h=l[0];void 0!=h&&(a=parseInt(h.pageX),o=parseInt(h.pageY))}var d=t.host.coord(),c=parseInt(d.left),u=parseInt(d.top);(void 0==t.dragmousedownoffset||null==t.dragmousedownoffset)&&(t.dragmousedownoffset={left:0,top:0});var p=parseInt(a)-parseInt(t.dragmousedownoffset.left),m=parseInt(o)-parseInt(t.dragmousedownoffset.top);if(t.reordercolumn.css({left:p+"px",top:m+"px"}),s=!1,a>=c&&a<=c+t.host.width()&&o>=u&&o<=u+t.host.height()&&(s=!0),i=-1,s){t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var f=t.columnsheader.coord(),v=f.top+t.columnsheader.height();if(null!=t.columnsdropline)if(o>=f.top&&v>=o){if(i=t._handlereordercolumnsdroplines(a),t.columnGroups&&-1!=i){var g=0;g+=t._pinnedColumnsLength();var x=i.index;if(x>=g){var b=t.columns.records[x];if(void 0!=b){var y=t.columns.records.indexOf(t.getColumn(b.datafield));if(null==b.datafield)var y=t.columns.records.indexOf(t.getcolumnbytext(b.text));var w=e.data(t.reordercolumn[0],"reorderrecord"),_=t.columns.records.indexOf(t.getColumn(w)),T=b;if(y>_&&"before"==i.position&&(T=t.columns.records[y-1]),T.columngroup!=t.getColumn(w).columngroup)return void t.columnsdropline.hide()}}}}else t.columnsdropline.fadeOut("slow")}else null!=t.columnsdropline&&t.columnsdropline.fadeOut("slow"),t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(r.preventDefault&&(r.preventDefault(),r.stopPropagation()),n)return r.preventDefault(),r.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(e(document),a),this.addHandler(e(document),a,function(i){if(t.resizing)return!0;t.columnsbounds=new Array;var s=t.host.coord().left,r=t.host.coord().top;t.showtoolbar&&(r+=t.toolbarHeight),t.filter&&(r+=t.filter.height());var a=0;e.each(t.columns.records,function(i){var o=this;if(o.hidden)return t.columnsbounds[t.columnsbounds.length]={top:r,column:o,left:s,width:0,height:2},!0;0==a&&(s=t.rtl?parseInt(t.host.coord().left)-t.hScrollInstance.max+t.hScrollInstance.value:parseInt(t.host.coord().left)-t.hScrollInstance.value),a++;var n=2+t.columnsHeight;t.columnshierarchy&&(r=e(o.uielement).coord().top,n=e(o.uielement).height()),t.columnsbounds[t.columnsbounds.length]={top:r,column:o,left:s,width:o.width,height:n},s+=o.width})}),this.removeHandler(e(document),o),this.addHandler(e(document),o,function(r){if(t.resizing)return!0;t.__drag=!1,e(document.body).removeClass("jqx-disableselect");var a=parseInt(r.pageX),o=parseInt(r.pageY);if(n){var l=t.getTouches(r),h=l[0];a=parseInt(h.pageX),o=parseInt(h.pageY)}var d=t.host.coord(),c=(parseInt(d.left),parseInt(d.top));if(t.showtoolbar&&(c+=t.toolbarHeight),t.columndragstarted=!1,t.dragmousedown=null,null!=t.reordercolumn){var u=e.data(t.reordercolumn[0],"reorderrecord"),p=t.columns.records.indexOf(t.getColumn(u));t.reordercolumn.remove(),t.reordercolumn=null;var m=0;if(m+=t._pinnedColumnsLength(),null!=u){if(s&&-1!=i){var f=i.index;if(f>=m){var v=t.columns.records[f];if(void 0!=v){var g=t.columns.records.indexOf(t.getColumn(v.datafield));if(null==v.datafield)var g=t.columns.records.indexOf(t.getcolumnbytext(v.text));if(t.columnGroups){var x=v;if(g>p&&"before"==i.position&&(x=t.columns.records[g-1]),x.columngroup!=t.getColumn(u).columngroup)return void(null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null))}g>p?"before"==i.position?t.setcolumnindex(u,g-1):t.setcolumnindex(u,g):p>g&&t.setcolumnindex(u,g)}}}null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null)}}})}},getcolumnbytext:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,function(){return this.text==t?(i=this,!1):void 0}),i},_handlereordercolumnsdroplines:function(t){var i=this,s=-1,r=i._pinnedColumnsLength(),a=parseInt(i.host.coord().left),o=a+i.host.width(),n="hidden"!=i.vScrollBar.css("visibility")?19:0;return i.rtl||(n=0),e.each(i.columnsbounds,function(e){if(e>=r){if(0==this.width)return!0;if(t<=this.left+this.width/2)return t>o?(i.columnsdropline.fadeOut(),!1):(i.columnsdropline.css("left",n+parseInt(this.left)+"px"),i.columnsdropline.css("top",parseInt(this.top)+"px"),i.columnsdropline.css({height:this.height}),i.columnsdropline.fadeIn("slow"),s={index:e,position:"before"},!1);if(t>=this.left+this.width/2){if(this.left+this.width>o)return i.columnsdropline.fadeOut(),!1;i.columnsdropline.css("left",n+1+this.left+this.width),i.columnsdropline.css("top",this.top),i.columnsdropline.css({height:this.height}),i.columnsdropline.fadeIn("slow"),s={index:e,position:"after"}}}}),s},_createreordercolumn:function(t,i,s){var r=this,a=i;r.reordercolumn&&r.reordercolumn.remove(),r.columnsdropline&&r.columnsdropline.remove(),r.reordercolumn=e("<div></div>");var o=t.clone();r.reordercolumn.css("z-index",999999),o.css("border-width","1px"),o.css("opacity","0.4");var n=e(o.find("."+r.toThemeProperty("jqx-grid-column-menubutton")));n.length>0&&n.css("display","none");var l=e(o.find(".jqx-icon-close"));l.length>0&&l.css("display","none"),r.reordercolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),r.reordercolumnicon.addClass(r.toThemeProperty("jqx-grid-drag-icon")),r.reordercolumn.css("float","left"),r.reordercolumn.css("position","absolute");r.host.coord();o.css({width:t.width()+16}),r.reordercolumn.append(o),r.reordercolumn.css({height:t.height()}),r.reordercolumn.css({width:o.width()}),r.reordercolumn.append(r.reordercolumnicon),e(document.body).append(r.reordercolumn),o.css("margin-left",0),o.css("left",0),o.css("top",0),r.reordercolumn.css("left",a.left+r.dragmousedown.left),r.reordercolumn.css("top",a.top+r.dragmousedown.top),void 0!=s&&s&&(r.columnsdropline=e('<div style="z-index: 9999; display: none; position: absolute;"></div>'),r.columnsdropline.css({width:2}),r.columnsdropline.addClass(r.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(r.columnsdropline))},_handlecolumnsdragreorder:function(t,i){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var s,r=this,a=!1;this.isTouchDevice()&&this.touchmode!==!0&&(a=!0);var o="mousedown.drag",s="mousemove.drag";a?(o=e.jqx.mobile.getTouchEventName("touchstart")+".drag",s=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,o,function(i){if(0==t.draggable)return!0;if(r.resizing)return!0;r.__drag=!0;var s=i.pageX,o=i.pageY;if(a){var n=r.getTouches(i),l=n[0];s=l.pageX,o=l.pageY}r.dragmousedown={left:s,top:o};var h=e(i.target).coord();return r.dragmousedownoffset={left:parseInt(s)-parseInt(h.left),top:parseInt(o-h.top)},i.preventDefault&&i.preventDefault(),!0}),this.addHandler(i,s,function(o){if(!t.draggable)return!0;if(void 0==t.datafield)return!0;if(t.pinned)return!0;if(r.resizing)return!0;if(r.dragmousedown){var n=o.pageX,l=o.pageY;if(a){var h=r.getTouches(o),d=h[0];void 0!=d&&(n=d.pageX,l=d.pageY)}if(s={left:n,top:l},!r.columndragstarted&&null==r.reordercolumn){var c=Math.abs(s.left-r.dragmousedown.left),u=Math.abs(s.top-r.dragmousedown.top);(c>3||u>3)&&(r._createreordercolumn(i,s,!0),e(document.body).addClass("jqx-disableselect"),e.data(r.reordercolumn[0],"reorderrecord",t.datafield))}}})},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_handlecolumnsResize:function(){var t=this;if(this.columnsResize){var i=!1;t.isTouchDevice()&&(i=!0);var s="mousemove.resize"+this.element.id,r="mousedown.resize"+this.element.id,a="mouseup.resize"+this.element.id;if(i)var s=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,r=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),s),this.addHandler(e(document),s,function(s){if(null!=t.resizablecolumn&&!t.disabled&&t.resizing&&null!=t.resizeline){var r=(t.resizablecolumn.columnelement,t.host.coord()),a=parseInt(t.resizestartline.coord().left),o=a-t._startcolumnwidth,n=t.resizablecolumn.column.minwidth;n="auto"==n?0:parseInt(n);var l=t.resizablecolumn.column.maxwidth;l="auto"==l?0:parseInt(l);var h=s.pageX;if(i){var d=e.jqx.mobile.getTouches(s),c=d[0];h=c.pageX}o+=n;var u=l>0?a+l:0,p=0==l?!0:t._startcolumnwidth+h-a<l?!0:!1;if(t.rtl)var p=!0;if(p)if(t.rtl){if(h>=r.left&&h<=r.left+t.host.width()&&(t.resizeline.css("left",h),i))return!1}else if(h>=r.left&&h>=o&&(0!=u&&s.pageX<u?t.resizeline.css("left",h):0==u&&t.resizeline.css("left",h),i))return!1}return i||null==t.resizablecolumn?void 0:!1}),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(i){if(null!=t.resizablecolumn&&!t.disabled){var s=t.resizablecolumn.columnelement;if(s.coord().top+s.height()+5<i.pageY)return void(t.resizablecolumn=null);if(s.coord().top-5>i.pageY)return void(t.resizablecolumn=null);t._startcolumnwidth=t.resizablecolumn.column.width,t.resizablecolumn.column._width=null,e(document.body).addClass("jqx-disableselect"),e(document.body).addClass("jqx-position-reset"),t._mouseDownResize=new Date,t.resizing=!0,t._resizecolumn=t.resizablecolumn.column,t.resizeline=t.resizeline||e('<div style="position: absolute;"></div>'),t.resizestartline=t.resizestartline||e('<div style="position: absolute;"></div>'),t.resizebackground=t.resizebackground||e('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),t.resizebackground.css("opacity",.01),t.resizebackground.css("cursor","col-resize"),t.resizeline.css("cursor","col-resize"),t.resizestartline.css("cursor","col-resize"),t.resizeline.addClass(t.toThemeProperty("jqx-grid-column-resizeline")),t.resizestartline.addClass(t.toThemeProperty("jqx-grid-column-resizestartline")),e(document.body).append(t.resizeline),e(document.body).append(t.resizestartline),e(document.body).append(t.resizebackground);var r=t.resizablecolumn.columnelement.coord();t.resizebackground.css("left",t.host.coord().left),t.resizebackground.css("top",t.host.coord().top),t.resizebackground.css({width:t.host.width()}),t.resizebackground.css({height:t.host.height()}),t.resizebackground.css("z-index",999999999);var a=function(e){t.rtl?e.css("left",parseInt(r.left)):e.css("left",parseInt(r.left)+t._startcolumnwidth);var i=0,s=t.showtoolbar?t.toolbarHeight:0;i+=s;var a=t.showstatusbar?t.statusBarHeight:0;i+=a;var o=t.showAggregates?t.aggregatesHeight:0;i+=o,t.pageable&&"bottom"!=t.pagerPosition&&(i+=t.pagerHeight),t.filterable&&(i+=t.filter.height());var n=0;t.pageable&&"top"!=t.pagerPosition&&(n=t.pagerHeight);var l="hidden"!=t.hScrollBar.css("visibility")?t.scrollBarSize:0;e.css("top",parseInt(r.top)),e.css("z-index",9999999999),t.columnGroups?e.css({height:t.host.height()+t.resizablecolumn.columnelement.height()-n-i-l-t.columnGroupslevel*t.columnsHeight}):e.css({height:t.host.height()-n-i-l}),e.show("fast")};a(t.resizeline),a(t.resizestartline),t.dragmousedown=null}});var o=function(){if(e(document.body).removeClass("jqx-disableselect"),e(document.body).removeClass("jqx-position-reset"),t.resizing){t._mouseUpResize=new Date;var i=t._mouseUpResize-t._mouseDownResize;if(200>i)return t.resizing=!1,void(null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")&&(t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove()));if(t.resizing=!1,!t.disabled){var s=t.host.width();if("hidden"!=t.vScrollBar[0].style.visibility&&(s-=20),0>s&&(s=0),null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")){var r=parseInt(t.resizeline.css("left")),a=parseInt(t.resizestartline.css("left")),o=t._startcolumnwidth+r-a;if(t.rtl)var o=t._startcolumnwidth-r+a;var n=t._resizecolumn.width;t._resizecolumn.width=o,void 0!=t._resizecolumn._percentagewidth&&(t._resizecolumn._percentagewidth=o/s*100);for(var l=0;l<t._columns.length;l++)if(t._columns[l].datafield===t._resizecolumn.datafield){t._columns[l].width=t._resizecolumn.width;break}var h=(t.hScrollBar[0].style.visibility,t._resizecolumn.displayfield);t._updatecolumnwidths(),t.refresh(),t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null,t._raiseEvent("columnResized",{dataField:h,oldWidth:n,newWidth:o})}else t.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var n=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(n=document.referrer),n&&-1!=n.indexOf(document.location.host)){var l=function(e){o()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l)}}}catch(h){}this.removeHandler(e(document),a),this.addHandler(e(document),a,function(i){var s=e.data(document.body,"contextmenu"+t.element.id);return null!=s&&t.autoshowcolumnsmenubutton?!0:void o()})}},_updatecolumnwidths:function(){var t=this.host.width(),i=t;"hidden"!==this.vScrollBar.css("visibility")&&(t-=parseInt(this.scrollBarSize)+6,i=t);var s="";if(void 0!=this.columns&&void 0!=this.columns.records){var r=this,a=!1;e.each(this.columns.records,function(e,a){if(!this.hidden)if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var a=0;"hidden"==r.vScrollBar[0].style.visibility?0:r.scrollBarSize+5;a=parseFloat(this.width)*i/100,void 0!=this._percentagewidth&&(a=parseFloat(this._percentagewidth)*i/100),a<this.minwidth&&"auto"!=this.minwidth&&(a=this.minwidth),a>this.maxwidth&&"auto"!=this.maxwidth&&(a=this.maxwidth),t-=Math.round(a)}else"auto"==this.width||this._width?s+=this.text:t-=this.width});var o=this.columnsheader.find("#columntable"+this.element.id);if(0!=o.length){var n=0,l=o.find(".jqx-grid-column-header"),h=0;e.each(this.columns.records,function(o,d){var c=e(l[o]),u=!1,p=this.width,m=this.width;if((-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth)&&(p=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,p=Math.round(p),u=!0),"auto"==this.width||this._width||u)if(u)p<this.minwidth&&"auto"!=this.minwidth&&(p=this.minwidth,this.width=p),p>this.maxwidth&&"auto"!=this.maxwidth&&(p=this.maxwidth,this.width=p),parseInt(c[0].style.width)!=p&&(c.css({width:p}),this.width=p);else{var f=Math.floor(t*(this.text.length/s.length));isNaN(f)&&(f=this.minwidth);var v=t*(this.text.length/s.length)-f;n+=v,n>=1&&(n-=1,f++),n>=.5&&o==r.columns.records.length-1&&f++,0>f&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),f=10+$element.width(),$element.remove()),f<this.minwidth&&(f=this.minwidth),f>this.maxwidth&&(f=this.maxwidth),this._width="auto",this.width=f,c.css({width:this.width})}else parseInt(c[0].style.width)!=this.width&&c.css({width:this.width});parseInt(c[0].style.left)!=h&&c.css("left",h),this.hidden||(h+=this.width),this._requirewidthupdate=!0,m!==this.width&&(a=!0)}),this.columnsheader.css({width:2+h}),o.css({width:this.columnsheader.width()}),this._resizecolumnGroups(),a&&this._renderrows(),this.showAggregates&&this._refreshcolumnsaggregates()}}},_rendercolumnheaders:function(){var t=this;if(!this._updating){this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var s=0,r="",a=this.host.width(),o=a,n=new Array,l=new Array;if(e.each(this.columns.records,function(e,i){if(!this.hidden)if("auto"==this.width||this._width)r+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)a-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)a-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var i=0;i=parseFloat(this.width)*o/100,i<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),a-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),
a-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),n[n.length]=this):l[l.length]=this}),this.rtl){var h=0;n.reverse();for(var d=this.columns.records.length-1;d>=this.columns.records.length-n.length;d--)this.columns.replace(d,n[h++]);for(var c=0;c<l.length;c++)this.columns.replace(c,l[c])}else{for(var d=0;d<n.length;d++)this.columns.replace(d,n[d]);for(var c=0;c<l.length;c++)this.columns.replace(n.length+c,l[c])}var u=this.headerZIndex,p=t.columnsHeight,m=function(e,i){var s=t.columnGroupslevel*t.columnsHeight;return s-=i.level*t.columnsHeight},f=0;e.each(this.columns.records,function(n,l){this.height=t.columnsHeight,t.columnGroups&&t.columnGroups.length&&(this.height=m(this.datafield,this),p=this.height);var h=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(h+=" "+t.toTP("jqx-grid-column-header-rtl")),t.enableBrowserSelection||(h+=" "+t.toTP("jqx-disableselect"));var d=self.rtl?250+u+1:250+u-1,c=t.rtl?u++:u--,v=e('<div role="columnheader" style="z-index: '+c+';position: absolute; height: 100%;" class="'+h+'"><div style="height: 100%; width: 100%;"></div></div>');t.rtl&&0===n&&(v[0].style.borderLeftColor="transparent"),t.columnGroups&&(v[0].style.height=p+"px",v[0].style.bottom="0px",this.pinned&&(v[0].style.zIndex=d)),this.uielement=v,this.element=v,""!=this.classname&&this.classname&&v.addClass(this.classname);var g=this.width,x=!1;if(null===this.width&&(this.width="auto"),(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth)&&(g=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*o/100:parseFloat(this.width)*o/100,g=Math.round(g),x=!0),"auto"==this.width||this._width||x)if(x)g<this.minwidth&&"auto"!=this.minwidth&&(g=this.minwidth),g>this.maxwidth&&"auto"!=this.maxwidth&&(g=this.maxwidth),(void 0==this._percentagewidth||-1!=this.width.toString().indexOf("%"))&&(this._percentagewidth=this.width),v.css({width:g}),this.width=g;else{var b=Math.floor(a*(this.text.length/r.length)),y=a*(this.text.length/r.length)-b;f+=y,f>=1&&(f-=1,b++),f>=.5&&n==t.columns.records.length-1&&b++,isNaN(b)&&(b=this.minwidth),0>b&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),b=10+$element.width(),$element.remove()),b<this.minwidth&&(b=this.minwidth),b>this.maxwidth&&(b=this.maxwidth),this._width="auto",this.width=parseInt(b),g=this.width,v.css({width:this.width})}else g<this.minwidth&&"auto"!=this.minwidth&&(g=this.minwidth),g>this.maxwidth&&"auto"!=this.maxwidth&&(g=this.maxwidth),v[0].style.width=parseInt(g)+"px";this.hidden&&v.css("display","none");var w=e(v.children()[0]);i[0].cells[n]=v[0];var _=!1,T=!1,j=null!=this.renderer?this.renderer(this.text,this.align,p):t._rendercolumnheader(this.text,this.align,p,t);if(null==j&&(j=t._rendercolumnheader(this.text,this.align,p,t)),null!=this.renderer&&(j=e(j)),_=!0,t.WinJS?MSApp.execUnsafeLocalFunction(function(){w.append(e(j))}):this.renderer?w.append(e(j)):j&&(w[0].innerHTML=j),null!=j){var q=e('<div class="iconscontainer" style="height: '+p+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+'" style="width: 100%; height:100%;"></div></div></div>');w.append(q);var I=q.children();this.sortasc=I[1],this.sortdesc=I[2],this.filtericon=I[0],this.iconscontainer=q,t.rtl&&(q.css("margin-left","0px"),q.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left"))}i.append(v),t.columnsReorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,v);var C=this;if(t.addHandler(v,"click",function(e){return C.checkboxcolumn?!0:(t._togglesort&&(t._loading||t._togglesort(C)),void e.preventDefault())}),t.columnsResize&&!T){var S=!1,D="mousemove";t.isTouchDevice()&&(S=!0,D=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(v,D,function(i){if(!C.resizable)return t.resizablecolumn=null,!0;var s=parseInt(i.pageX),r=5,a=parseInt(v.coord().left);if(t.hasTransform&&(a=e.jqx.utilities.getOffset(v).left),t._handlecolumnsResize){if(S){var o=e.jqx.mobile.getTouches(i),n=o[0];return s=n.pageX,r=40,s>=a+C.width-r?(t.resizablecolumn={columnelement:v,column:C},v.css("cursor","col-resize")):(v.css("cursor",""),t.resizablecolumn=null),!0}var l=C.width;if(t.rtl&&(l=0),s>=a+l-r){if(a+l+r>=s)return t.resizablecolumn={columnelement:v,column:C},v.css("cursor","col-resize"),!1;v.css("cursor",""),t.resizablecolumn=null}else v.css("cursor",""),a+l-r>s&&(C._animating||C._menuvisible||v.mouseenter()),t.resizablecolumn=null}})}if(v.css("left",s),this.hidden||(s+=g),C.rendered){var k=C.rendered(e(w[0].firstChild),C.align,p);k&&null!=q&&q.hide()}}),s>0?this.columnsheader.css({width:2+s}):this.columnsheader.css({width:s}),this.columnsrow=i,t.columnsheader.append(i),i.css({width:s}),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsReorder&&this._handlecolumnsReorder(),this._handlecolumnsResize&&this._handlecolumnsResize(),this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var s=this.headerZIndex-t+this.columns.records.length,r=this,a=r.toTP("jqx-grid-column-header")+" "+r.toTP("jqx-grid-columngroup-header")+" "+r.toTP("jqx-widget-header");r.rtl&&(a+=" "+r.toTP("jqx-grid-columngroup-header-rtl"));var o=this.columnsheader.find("#columntable"+this.element.id);o.find("jqx-grid-columngroup-header").remove();for(var n=0;n<this.columnGroupslevel-1;n++)for(var i=0;i<this.columnGroups.length;i++){var l=this.columnGroups[i],h=l.level;if(h===n){var d=h*this.columnsHeight,c=99999;if(l.groups){var u=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=u(s):s.hidden||(t+=s.width,c=Math.min(parseInt(s.element[0].style.left),c))}return t};l.width=u(l),l.left=c;var p=this.columnsHeight,m=s--,f=e('<div role="columnheader" style="z-index: '+m+';position: absolute;" class="'+a+'"></div>'),v=e(this._rendercolumnheader(l.text,l.align,this.columnsHeight,this));f.append(v),f[0].style.left=c+"px",0===c&&(f[0].style.borderLeftColor="transparent"),f[0].style.top=d+"px",f[0].style.height=p+"px",f[0].style.width=-1+l.width+"px",o.append(f),l.element=f}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e],i=t.level,s=i*this.columnsHeight,r=99999;if(t.groups){var a=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=a(s):s.hidden||(t+=s.width,r=Math.min(parseInt(s.element[0].style.left),r))}return t};t.width=a(t),t.left=r;var o=this.columnsHeight,n=t.element;n[0].style.left=r+"px",n[0].style.top=s+"px",n[0].style.height=o+"px",n[0].style.width=-1+t.width+"px"}}},_removecolumnhandlers:function(t){var i=this,s=e(t.element);if(s.length>0){i.removeHandler(s,"mouseenter"),i.removeHandler(s,"mouseleave");var r=e(t.filtericon);i.removeHandler(r,"mousedown"),i.removeHandler(r,"click"),i.removeHandler(s,"click")}},_calculateaggregate:function(e,t,i,s){if(!e.datafield)return null;var r=e.aggregates;if(r||(r=t),r){for(var a=new Array,o=0;o<r.length;o++)"count"!=r[o]&&(a[a.length]=e.cellsFormat);if(this.source&&this.source.getAggregatedData){void 0==s&&(s=this.getRows(),this.dataViewRecords&&(s=this.dataViewRecords));var n=s,l=-1;if(this.treeGrid){var h=new Array,d=function(e){for(var t=0;t<e.length;t++)void 0!=e[t]&&(-1==l&&(l=e[t].level),e[t].aggregate||h.push(e[t]),!e[t].leaf&&e[t].records&&e[t].records.length>0&&d(e[t].records))};d(s),s=h}if(this.treeGrid&&this.filterable&&this.dataview.filters.length>0){for(var c=new Array,o=0;o<s.length;o++)s[o]&&s[o]._visible!==!1&&c.push(s[o]);s=c;for(var u=new Array,o=0;o<n.length;o++)n[o]&&n[o]._visible!==!1&&u.push(n[o]);n=u}if(void 0==i||1==i){var p=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:a}],this.gridlocalization,s,l);if(this.treeGrid){var m=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0;if((0==m||l>=m)&&p&&(void 0!=p[e.datafield].sum||void 0!=p[e.datafield].avg)){var f=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:a}],this.gridlocalization,n,l);void 0!=p[e.datafield].sum&&(p[e.datafield].sum=f[e.datafield].sum),void 0!=p[e.datafield].avg&&(p[e.datafield].avg=f[e.datafield].avg)}}return p}var p=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,s,l);if(this.treeGrid&&p&&(void 0!=p[e.datafield].sum||void 0!=p[e.datafield].avg)){var m=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0;if(0==m||l>=m){var f=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,n,l);void 0!=p[e.datafield].sum&&(p[e.datafield].sum=f[e.datafield].sum),void 0!=p[e.datafield].avg&&(p[e.datafield].avg=f[e.datafield].avg)}}return p}}return null},getcolumnaggregateddata:function(e,t,i,s){var r=this.getColumn(e);if(!r)return"";var a=void 0==i||0==i?!1:i;if(null==t)return"";var o=r.aggregates;r.aggregates=null;var n=this._calculateaggregate(r,t,a,s),l={};return n&&(l=n[e],r.aggregates=o),l},_updatecolumnaggregates:function(t,i,s){var r=this;if(i)if(s.children().remove(),s.html(""),t.aggregatesRenderer){if(i){var a=t.aggregatesRenderer(i[t.datafield],t,s,this.getcolumnaggregateddata(t.datafield,t.aggregates),"aggregates");s.html(a)}}else e.each(i,function(){var t=this;for(o in t){var i=e('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),a=o;a=r._getaggregatename(a),i.html(a+":"+t[o]),r.rtl&&i.addClass(r.toThemeProperty("jqx-rtl")),s.append(i)}});else if(s.children().remove(),s.html(""),t.aggregatesRenderer){var o={};t.aggregates&&(o=this.getcolumnaggregateddata(t.datafield,t.aggregates));var a=t.aggregatesRenderer({},t,s,null);s.html(a)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var i in e){t=i;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var t=this.getRows();this.dataViewRecords&&(t=this.dataViewRecords);var i=this.columns.records.length;if(void 0!=this.aggregates[0].cells)for(var s=0;i>s;s++){var r=e(this.aggregates[0].cells[s]),a=this.columns.records[s],o=this._calculateaggregate(a,null,!0,t);this._updatecolumnaggregates(a,o,r)}},_refreshcolumnsaggregates:function(){var t=this.columns.records.length;if(void 0!=this.aggregates[0].cells)for(var i=0,s=0;t>s;s++){var r=e(this.aggregates[0].cells[s]),a=this.columns.records[s];r&&(r.css({width:a.width}),r[0].style.left=i+"px",a.hidden&&a.hideable?r.css("display","none"):i+=a.width)}},_updateaggregates:function(){var t=e('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),i=0,s=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell");this.rtl&&(r+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),i=0,t.css("border-left-width","0px"),this.aggregates.css("border-left-color","transparent")),r+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var a=s+10,o=new Array;this.aggregates[0].cells=o;for(var n=0;s>n;n++){var l=this.columns.records[n],h=this._calculateaggregate(l),d=l.width;d<l.minwidth&&(d=l.minwidth),d>l.maxwidth&&(d=l.maxwidth);var c=r;l.cellsalign&&(c+=" "+this.toThemeProperty("jqx-"+l.cellsalign+"-align"));var u=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+c+'"></div>');t.append(u),u.css("left",i),this.rtl?(u.css("z-index",a++),0==n&&u.css("border-left-width","0px")):u.css("z-index",a--),u.css({width:d}),u[0].style.left=i+"px",l.hidden&&l.hideable?u.css("display","none"):i+=d,o[o.length]=u[0],this._updatecolumnaggregates(l,h,u)}e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",a--),t.css({width:parseInt(i)+2}),t.css({height:this.aggregatesHeight}),this.aggregates.children().remove(),this.aggregates.append(t),this.aggregates.removeClass(this.toThemeProperty("jqx-widget-header")),this.aggregates.addClass(r),this.aggregates.css("border-bottom-color","transparent"),this.aggregates.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll()},destroy:function(){var t=this;if(t.columns&&t.columns.records)for(var i=0;i<t.columns.records.length;i++)t._removecolumnhandlers(t.columns.records[i]);t.removeHandler(e(document),"mouseup.pagerbuttonstop"),t.removeHandler(e(document),"mouseup.pagerbuttonsbottom"),t.removeHandler(t.content,"scroll"),t.removeHandler(t.content,"mousedown"),t.removeHandler(e(document),"mousedown.gridedit"+t.element.id);var s="mousemove.resize"+t.element.id,r="mousedown.resize"+t.element.id,a="mouseup.resize"+t.element.id;t.removeHandler(e(document),s),t.removeHandler(e(document),r),t.removeHandler(e(document),a);var s="mousemove.reorder"+t.element.id,r="mousedown.reorder"+t.element.id,a="mouseup.reorder"+t.element.id;if(t.removeHandler(e(document),s),t.removeHandler(e(document),r),t.removeHandler(e(document),a),t.filterable){if(t.filterrow)for(var i=0;i<t.filterrow[0].cells.length;i++){var o=t.filterrow[0].cells[i],n=e(o).find(".filterconditions");t.columns.records[i];n.length>0&&n.jqxDropDownList("destroy")}t.filtercolumnsList&&t.filtercolumnsList.jqxDropDownList("destroy")}if(t.pageable){t.pagershowrowscombotop&&t.pagershowrowscombotop.jqxDropDownList&&t.pagershowrowscombotop.jqxDropDownList("destroy"),t.pagershowrowscombobottom&&t.pagershowrowscombobottom.jqxDropDownList&&t.pagershowrowscombobottom.jqxDropDownList("destroy");var l=t.pagerbuttonsbottom.find("a");t.removeHandler(l,"click"),t.removeHandler(l,"mouseenter"),t.removeHandler(l,"mouseleave"),l.remove();var l=t.pagerbuttonstop.find("a");t.removeHandler(l,"click"),t.removeHandler(l,"mouseenter"),t.removeHandler(l,"mouseleave"),l.remove(),t.pagernexttop&&(t.pagernexttop.jqxButton("destroy"),t.pagerprevioustop.jqxButton("destroy"),t.pagernextbottom.jqxButton("destroy"),t.pagerpreviousbottom.jqxButton("destroy"),t.pagerfirsttop.jqxButton("destroy"),t.pagerfirstbottom.jqxButton("destroy"),t.pagerlasttop.jqxButton("destroy"),t.pagerlastbottom.jqxButton("destroy"))}t._removeHandlers(),t.vScrollBar.jqxScrollBar("destroy"),t.hScrollBar.jqxScrollBar("destroy"),delete t.vScrollBar,delete t.hScrollBar,delete t._mousewheelfunc,e.jqx.utilities.resize(t.host,null,!0),t.host.remove()},propertyChangedHandler:function(t,i,s,r){if(void 0!=this.isInitialized&&0!=this.isInitialized&&r!==s)if("filterable"==i)t._render();else if("height"===i)t.host.css({height:t.height}),t.host.css({width:t.width}),t._updatesize(!1,!0);else if("width"===i)t.host.css({height:t.height}),t.host.css({width:t.width}),t._updatesize(!0,!1);else if("source"===i)t.updateBoundData();else if("columns"===i||"columnGroups"===i)t._columns=null,t._render();else if("rtl"===i)t.content.css("left",""),t.columns=t._columns,t.vScrollBar.jqxScrollBar({rtl:r}),t.hScrollBar.jqxScrollBar({rtl:r}),t._render();else if("pagerMode"===i)t.pagerMode=r,t._initpager();else if("pageSizeOptions"==i){t._initpager();for(var a=!1,o=0;o<r.length;o++)if(parseInt(r[o])==t.pageSize){a=!0;break}a||e.jqx.set(t,[{pageSize:r[0]}])}else if("pageSize"==i){var n=t.dataview.pagenum*t.dataview.pagesize;t.dataview.pagesize=t.pageSize;var l=Math.floor(n/t.dataview.pagesize);if(l!==t.dataview.pagenum||parseInt(r)!==parseInt(s)){t._raiseEvent("pageSizeChanged",{pagenum:r,oldpageSize:s,pageSize:t.dataview.pagesize});var h=t.goToPage(l);h||(t.serverProcessing?t.updateBoundData("pager"):t.refresh())}}else if("pagerPosition"===i)t.refresh();else if("selectionMode"===i)t.selectionMode=r.toLowerCase();else if("touchmode"==i)t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),t.refresh(),t._addHandlers();else{if("enableHover"==i)return;if("disabled"==i)r?t.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t.pageable&&(t.pagernexttop&&(t.pagernexttop.jqxButton({disabled:r}),t.pagerprevioustop.jqxButton({disabled:r}),t.pagernextbottom.jqxButton({disabled:r}),t.pagerpreviousbottom.jqxButton({disabled:r}),t.pagerfirsttop.jqxButton({disabled:r}),t.pagerfirstbottom.jqxButton({disabled:r}),t.pagerlasttop.jqxButton({disabled:r}),t.pagerlastbottom.jqxButton({disabled:r}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({disabled:!1}),t.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),t.host.find(".jqx-grid-pager-number").css("cursor",r?"default":"pointer")),t.host.find(".jqx-grid-group-collapse").css("cursor",r?"default":"pointer"),t.host.find(".jqx-grid-group-expand").css("cursor",r?"default":"pointer");else if("columnsHeight"==i)t._render();else if("theme"==i){if(e.jqx.utilities.setTheme(s,r,t.host),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.hScrollBar.jqxScrollBar({theme:t.theme}),t.pageable&&t.pagernexttop&&(t.pagernexttop.jqxButton({theme:t.theme}),t.pagerprevioustop.jqxButton({theme:t.theme}),t.pagernextbottom.jqxButton({theme:t.theme}),t.pagerpreviousbottom.jqxButton({theme:t.theme}),t.pagerfirsttop.jqxButton({theme:t.theme}),t.pagerfirstbottom.jqxButton({theme:t.theme}),t.pagerlasttop.jqxButton({theme:t.theme}),t.pagerlastbottom.jqxButton({theme:t.theme}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({theme:t.theme}),t.pagershowrowscombobottom.jqxDropDownList({theme:t.theme}))),t.filterable){var d=e(".filterconditions");d.length>0&&d.jqxDropDownList({theme:t.theme}),t.filtercolumnsList&&t.filtercolumnsList.jqxDropDownList({theme:t.theme})}t.refresh()}else t.refresh()}},_rendercolumnheader:function(e,t,i,s){var r="8px";return s.columnGroups?(r=i/2-(this._columnheight+4)/2,0>r&&(r=4),r+="px"):25!=this.columnsHeight&&(r=this.columnsHeight/2-(this._columnheight+4)/2,0>r&&(r=4),r+="px"),'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 8px; margin-right: 8px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>"}}),e.jqx.dataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return void 0==this.records[e]?!0:!1},this.initialize=function(e){1>e&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null==e?!1:(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null==e||void 0==e?!1:null==t?!1:e>=0?e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t):!1},this.remove=function(e){if(null==e||void 0==e)return!1;var t=this.records.indexOf(e);return-1!=t?(this.records.splice(t,1),!0):!1},this.removeAt=function(e){if(null==e||void 0==e)return!1;if(0>e)return!1;if(e<this.records.length){this.records[e];return this.records.splice(e,1),!0}return!1},this},e.jqx.dataView=function(){return this.that=this,this.grid=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(t,i){var s=t._source?!0:!1,r=null;this._sortData=null,this._sortHierarchyData=null,s?(r=t,t=t._source):r=new e.jqx.dataAdapter(t,{autoBind:!1});var a=function(e){r.recordids=[],r.records=new Array,r.cachedrecords=new Array,r.originaldata=new Array,r._options.totalrecords=e.totalrecords,r._options.originaldata=e.originaldata,r._options.recordids=e.recordids,r._options.cachedrecords=new Array,r._options.pagenum=e.pagenum,r._options.pageable=e.pageable,void 0!=t.type&&(r._options.type=t.type),void 0!=t.formatdata&&(r._options.formatData=t.formatdata),void 0!=t.contenttype&&(r._options.contentType=t.contenttype),void 0!=t.async&&(r._options.async=t.async),void 0!=t.updaterow&&(r._options.updaterow=t.updaterow),void 0!=t.addrow&&(r._options.addrow=t.addrow),void 0!=t.deleterow&&(r._options.deleterow=t.deleterow),0==e.pagesize&&(e.pagesize=10),r._options.pagesize=e.pagesize},o=function(e){e.originaldata=r.originaldata,e.records=r.records,e.hierarchy=r.hierarchy,e.grid.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,r.hierarchy=new Array),r._source.totalrecords?e.totalrecords=r._source.totalrecords:r._source.totalRecords?e.totalrecords=r._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=r.cachedrecords};a(this),this.source=t,void 0!==i&&(uniqueId=i);var n=this;switch(t.datatype){case"local":case"array":default:if(null==t.localdata&&(t.localdata=[]),null!=t.localdata){r.unbindBindingUpdate(n.grid.element.id),(!n.grid.autoBind&&n.grid.isInitialized||n.grid.autoBind)&&r.dataBind();var l=function(){o(n),n.update()};l(),r.bindBindingUpdate(n.grid.element.id,l)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata){r.unbindBindingUpdate(n.grid.element.id),(!n.grid.autoBind&&n.grid.isInitialized||n.grid.autoBind)&&r.dataBind();var l=function(e){o(n),n.update()};return l(),void r.bindBindingUpdate(n.grid.element.id,l)}for(var h=0,d={},c=0;c<this.filters.length;c++){var u=this.filters[c].datafield,p=this.filters[c].filter,m=p.getfilters();d[u+"operator"]=p.operator;for(var f=0;f<m.length;f++){m[f].datafield=u;var v=m[f].value;d["filtervalue"+h]=v.toString(),d["filtercondition"+h]=m[f].condition,d["filteroperator"+h]=m[f].operator,d["filterdatafield"+h]=u,h++}}d.filterslength=h,e.extend(d,{sortdatafield:n.sortfield,sortorder:n.sortfielddirection,pagenum:n.pagenum,pagesize:n.grid.pageSize});var g=r._options.data;r._options.data?e.extend(r._options.data,d):(t.data&&e.extend(d,t.data),r._options.data=d);var l=function(){var t=e.jqx.browser.msie&&e.jqx.browser.version<9,i=function(){o(n),n.update()};if(t)try{i()}catch(s){}else i()};r.unbindDownloadComplete(n.grid.element.id),r.bindDownloadComplete(n.grid.element.id,l),r._source.loaderror=function(e,t,i){l()},(!n.grid.autoBind&&n.grid.isInitialized||n.grid.autoBind)&&r.dataBind(),r._options.data=g}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null;for(var i=-1,s=0;s<this.filters.length;s++)if(this.filters[s].datafield==e){i=s;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.sortBy=function(e,t){return null==t?(this.sortfield="",void(this.sortfielddirection="")):(void 0==t&&(t=!0),t="a"==t||"asc"==t||"ascending"==t||1==t?!0:!1,"constructor"==e&&(e=""),this.sortfield=e,void(this.sortfielddirection=t?"asc":"desc"))},this._sort=function(t){if(!this.sortfield||!this.sortfielddirection)return t;if(this._sortfield==this.sortfield&&this._sortfielddirection==this.sortfielddirection&&this._sortData)return this._sortData;var i=this,s=Object.prototype.toString;Object.prototype.toString="function"==typeof i.sortfield?i.sortfield:function(){return this[i.sortfield]};var r="";this.source.datafields&&e.each(this.source.datafields,function(){return this.name==i.sortfield?(this.type&&(r=this.type),!1):void 0});for(var a=new Array,o=0;o<t.length;o++)a.push(e.extend({originalRecord:t[o]},t[o]));if(this._sortfield=this.sortfield,this._sortfielddirection=this.sortfielddirection,"desc"===this.sortfielddirection)var n=a.sort(function(e,t){return i._compare(e,t,r)}).reverse();else var n=a.sort(function(e,t){return i._compare(e,t,r)});return this._sortData=n,Object.prototype.toString=s,n},this._compare=function(t,i,s){var t=t,i=i;if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return 1;if(t=t.toString(),i=i.toString(),e.jqx.dataFormat)if(s&&""!=s)switch(s){case"number":case"int":case"float":return i>t?-1:t>i?1:0;case"date":case"time":return i>t?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(i>t)return-1;if(t>i)return 1}catch(r){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(t){if(this.grid.serverProcessing){if(t&&(""==this.grid.source._source.id||null==this.grid.source._source.id)&&this.grid.pageable){var i=this.grid.pageSize*this.pagenum;this.grid.rowsByKey=new Array;var s=this;e.each(t,function(e){this.uid=i,s.grid.rowsByKey[this.uid]=this,i++})}return t}var r=new Array;if(this.filters.length){var a=new Array,o=function(e,t){for(var i=0;i<e.length;i++){var s=e[i];s._visible=!0;for(var r=void 0,o=0;o<this.filters.length;o++){var n=this.filters[o].filter,l=s[this.filters[o].datafield],h=n.evaluate(l);r=void 0==r?h:"or"==n.operator?r||h:r&&h}s._visible=!1,(r||s.aggregate)&&(s._visible=!0,t.push(s),a[s.uid]=s)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){var n=new Array,l=function(e,t){for(var i=0;i<t.length;i++){var s=t[i];n.push(s),s.records&&s.records.length>0&&l(s,s.records)}};l(null,t),o.call(this,n,r);for(var h=0;h<r.length;h++)for(var d=r[h];d.parent;){var c=d.parent;a[c.uid]||(c._visible=!0,a[c.uid]=c),d=c}r=t}else o.call(this,t,r);this._filteredData=r,this.rows=r}}else this.rows=t;if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){var s=this,u=new Array;this._sortData=null;var p=function(t,i){s._sortData=null;var r=null;if(s.source.hierarchy.groupingDataFields)if(i&&i.length>0&&i[0].level<s.source.hierarchy.groupingDataFields.length){r=new Array;for(var a=0;a<i.length;a++)r.push(e.extend({originalRecord:i[a]},i[a]))}else r=s._sort(i);else r=s._sort(i);t.records?t.records=r:t=t.concat(r);for(var a=0;a<r.length;a++)r[a].records&&r[a].records.length&&p(r[a],r[a].records);return t};(this.sortfield||this.sortfielddirection)&&(u=this._sortHierarchyData?this._sortHierarchyData:p(u,t),this.rows=u,this._sortHierarchyData=u)}else this.rows=this._sort(this.rows);return this.rows},this.getid=function(t,i,s){if(e(t,i).length>0)return e(t,i).text();if(this.rows&&""!=t&&void 0!=t&&this.rows.length>0){var r=this.rows[this.rows.length-1][t];null==r&&(r=null);for(var a=1;100>=a;a++){var o=this.grid.rowsByKey[a+r];if(!o){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var o=this.grid.rowsByKey["jqx"+r+a];if(o)continue;return"jqx"+r+a}return r+a}}}if(void 0!=t&&t.toString().length>0){var n=e(i).attr(t);if(null!=n&&n.toString().length>0)return this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords?"jqx"+n:n}if(this.rows&&this.rows.length>0){var o=this.grid.rowsByKey[s];if(o){var r=this.rows[this.rows.length-1][t];null==r&&(r="");for(var a=1;1e3>=a;a++){var o=this.grid.rowsByKey[a+r];if(!o){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var o=this.grid.rowsByKey["jqx"+r+a];if(o)continue;return"jqx"+r+a}return r+a}}}}if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var o=this.grid.rowsByKey["jqx"+s];if(!o)return"jqx"+s;for(var a=s+1;100>=a;a++){var o=this.grid.rowsByKey["jqx"+a];if(!o){var o=this.grid.rowsByKey["jqx"+a];if(o)continue;return"jqx"+a}}}return s},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework),function(e){"use strict";e.jqx.timeSpan=function(){var t={ticksPerMillisecond:1e4,millisecondsPerTick:1e-4,ticksPerSecond:1e7,secondsPerTick:1e-7,ticksPerMinute:6e8,minutesPerTick:1/6e8,ticksPerHour:36e9,hoursPerTick:1/36e9,ticksPerDay:864e9,daysPerTick:1/864e9,millisPerSecond:1e3,millisPerMinute:6e4,millisPerHour:36e5,millisPerDay:864e5,_ticks:0};e.extend(!0,this,t);var i=this;if(i.ticks=function(){return i._ticks},i.days=function(){return parseInt(i._ticks/i.ticksPerDay)},i.timeToMS=function(e,t,s,r){var a=3600*e+60*t+s+r/1e3;return parseInt(a*i.ticksPerSecond)},i.hours=function(){return parseInt(i._ticks/i.ticksPerHour)%24},i.milliseconds=function(){return parseInt(i._ticks/i.ticksPerMillisecond)%1e3},i.minutes=function(){return parseInt(i._ticks/i.ticksPerMinute)%60},i.seconds=function(){return parseInt(i._ticks/i.ticksPerSecond)%60},i.totalDays=function(){return parseInt(i._ticks*i.daysPerTick)},i.totalHours=function(){return parseInt(i._ticks*i.hoursPerTick)},i.totalMilliseconds=function(){var e=i._ticks*i.millisecondsPerTick;return parseInt(e)},i.totalMinutes=function(){return parseInt(i._ticks*i.minutesPerTick)},i.totalSeconds=function(){return parseInt(i._ticks*i.secondsPerTick)},1===arguments.length)i._ticks=arguments[0];else if(3===arguments.length)i._ticks=i.timeToMS(arguments[0],arguments[1],arguments[2]);else if(4===arguments.length){var s=arguments[0],r=arguments[1],a=arguments[2],o=arguments[3],n=0,l=1e3*(3600*s*24+3600*r+60*a+o)+n;i._ticks=l*i.ticksPerMillisecond}else if(5===arguments.length){var s=arguments[0],r=arguments[1],a=arguments[2],o=arguments[3],n=arguments[4],l=1e3*(3600*s*24+3600*r+60*a+o)+n;i._ticks=l*i.ticksPerMillisecond}return i.add=function(t){var s=i._ticks+t._ticks,r=new e.jqx.timeSpan(s);return r},i.substract=function(t){var i=_ticks-t._ticks;return new e.jqx.timeSpan(i)},i.duration=function(){return i._ticks>=0?new e.jqx.timeSpan(i._ticks):new e.jqx.timeSpan(-i._ticks)},i.equals=function(e){return i._ticks==e._ticks},i.valueOf=function(){return i._ticks},i.compare=function(e,t){return e._ticks>t._ticks?1:e._ticks<t._ticks?-1:0},i.interval=function(t,s){var r=t*s,a=r+(t>=0?.5:-.5);return new e.jqx.timeSpan(a*i.ticksPerMillisecond)},i.fromDays=function(e){return i.interval(e,i.millisPerDay)},i.fromHours=function(e){return i.interval(e,i.millisPerHour)},i.fromMilliseconds=function(e){return i.interval(e,1)},i.fromMinutes=function(e){return i.interval(e,i.millisPerMinute)},i.fromSeconds=function(e){return i.interval(e,i.millisPerSecond)},i.fromTicks=function(t){return new e.jqx.timeSpan(t)},i};var t=[{id:"Local",offset:0,offsetHours:0,displayName:"",supportsDaylightSavingTime:!1},{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",
supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}],i=[0,31,59,90,120,151,181,212,243,273,304,334,365],s=[0,31,60,91,121,152,182,213,244,274,305,335,366],r=1461,a=36524,o=146097,n=584388,l=693593,h=3652059,d=3155378976e9,c=3155378976e5;e.jqx.date=function(){var u=this;if(u.ticksPerMillisecond=1e4,u.millisecondsPerTick=1e-4,u.ticksPerSecond=1e7,u.secondsPerTick=1e-7,u.ticksPerMinute=6e8,u.minutesPerTick=1/6e8,u.ticksPerHour=36e9,u.hoursPerTick=1/36e9,u.ticksPerDay=864e9,u.daysPerTick=1/864e9,u.millisPerSecond=1e3,u.millisPerMinute=6e4,u.millisPerHour=36e5,u.millisPerDay=864e5,u.daysPerYear=365,u.daysPer4Years=r,u.daysPer100Years=a,u.daysPer400Years=o,u.daysTo1601=n,u.daysTo1899=l,u.daysTo10000=h,u.minTicks=0,u.maxTicks=d,u.maxMillis=c,u.datePartYear=0,u.datePartDayOfYear=1,u.datePartMonth=2,u.datePartDay=3,u.daysToMonth365=i,u.daysToMonth366=s,u.minValue=new Date(0),u.maxValue=new Date(3155378976e9),u.ticksMask=0x4000000000000000,u.flagsMask=0xc000000000000000,u.localMask=0x8000000000000000,u.ticksCeiling=0x4000000000000000,u.kindUnspecified=0,u.kindUtc=0x4000000000000000,u.kindLocal=0x8000000000000000,u.kindLocalAmbiguousDst=0xc000000000000000,u.kindShift=62,u.regexTrim=/^\s+|\s+$/g,u.regexInfinity=/^[+-]?infinity$/i,u.regexHex=/^0x[a-f0-9]+$/i,u.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,u.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},u.dateData=0,u.timeZone=null,u.timeZones=t,u.internalMS=function(){return u.dateData},u.getDatePart=function(e){var t=u.internalMS(),i=parseInt(t/u.millisPerDay),s=parseInt(i/u.daysPer400Years);i-=s*u.daysPer400Years;var r=parseInt(i/u.daysPer100Years);4==r&&(r=3),i-=r*u.daysPer100Years;var a=parseInt(i/u.daysPer4Years);i-=a*u.daysPer4Years;var o=parseInt(i/u.daysPerYear);if(4==o&&(o=3),e==u.datePartYear)return parseInt(400*s+100*r+4*a+o+1);if(i-=o*u.daysPerYear,e==u.datePartDayOfYear)return parseInt(i+1);for(var n=3==o&&(24!=a||3==r),l=n?u.daysToMonth366:u.daysToMonth365,h=i>>6;i>=l[h];)h++;return e==u.datePartMonth?parseInt(h):parseInt(i-l[h-1]+1)},u.dayOfWeek=function(){var e=u.dateData,t=parseInt(e/u.millisPerDay+1)%7;return t},u.dayOfYear=function(){return u.getDatePart(u.datePartDayOfYear)},u.weekOfYear=function(e){var t=u.toDate(),i=e||u.calendar.firstDay,s=new Date(t.getFullYear(),0,1),r=s.getDay()-i;r=r>=0?r:r+7;var a,o=Math.floor((t.getTime()-s.getTime()-6e4*(t.getTimezoneOffset()-s.getTimezoneOffset()))/864e5)+1;return 4>r?(a=Math.floor((o+r-1)/7)+1,a>52&&(nYear=new Date(t.getFullYear()+1,0,1),nday=nYear.getDay()-i,nday=nday>=0?nday:nday+7,a=nday<4?1:53)):a=Math.floor((o+r-1)/7),a},u.subtract=function(t){return new e.jqx.timeSpan(u.dateData*u.ticksPerMillisecond-t.dateData*u.ticksPerMillisecond)},u.dateToMS=function(e,t,i){if(e>=1&&9999>=e&&t>=1&&12>=t){e=parseInt(e);var s=u.isLeapYear(e)?u.daysToMonth366:u.daysToMonth365;if(i>=1&&i<=s[t]-s[t-1]){var r=e-1,a=365*r+parseInt(r/4)-parseInt(r/100)+parseInt(r/400)+s[t-1]+i-1;return a*u.millisPerDay}}},u.isLeapYear=function(e){if(1>e||e>9999)throw new Error("Year out of Range");return e%4==0&&(e%100!=0||e%400==0)},u.timeToMS=function(e,t,i,s){if(e>=0&&24>e&&t>=0&&60>t&&i>=0&&60>i){var r=parseInt(3600*e+60*t+i);return s>0&&1e3>s?r*u.millisPerSecond+s:r*u.millisPerSecond}},u.daysInMonth=function(e,t){if(1>t||t>12)throw new Error("Month out of Range");var i=u.isLeapYear(e)?u.daysToMonth366:u.daysToMonth365;return i[t]-i[t-1]},u.arrayIndexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;s>i;i++)if(e[i]===t)return i;return-1},u.startsWith=function(e,t){return 0===e.indexOf(t)},u.endsWith=function(e,t){return e.substr(e.length-t.length)===t},u.trim=function(e){return(e+"").replace(u.regexTrim,"")},u.expandFormat=function(e,t){t=t||"F";var i,s=e.patterns,r=t.length;if(1===r){if(i=s[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},u.getEra=function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,s=e.getTime(),r=0,a=t.length;a>r;r++)if(i=t[r].start,null===i||s>=i)return r;return 0},u.toUpper=function(e){return e.split("").join(" ").toUpperCase()},u.toUpperArray=function(e){for(var t=[],i=0,s=e.length;s>i;i++)t[i]=u.toUpper(e[i]);return t},u.getEraYear=function(e,t,i,s){var r=e.getFullYear();return!s&&t.eras&&(r-=t.eras[i].offset),r},u.getDayIndex=function(e,t,i){var s,r=e.days,a=e._upperDays;return a||(e._upperDays=a=[u.toUpperArray(r.names),u.toUpperArray(r.namesAbbr),u.toUpperArray(r.namesShort)]),t=t.toUpperCase(),i?(s=u.arrayIndexOf(a[1],t),-1===s&&(s=u.arrayIndexOf(a[2],t))):s=u.arrayIndexOf(a[0],t),s},u.getMonthIndex=function(e,t,i){var s=e.months,r=e.monthsGenitive||e.months,a=e._upperMonths,o=e._upperMonthsGen;a||(e._upperMonths=a=[u.toUpperArray(s.names),u.toUpperArray(s.namesAbbr)],e._upperMonthsGen=o=[u.toUpperArray(r.names),u.toUpperArray(r.namesAbbr)]),t=u.toUpper(t);var n=u.arrayIndexOf(i?a[1]:a[0],t);return 0>n&&(n=u.arrayIndexOf(i?o[1]:o[0],t)),n},u.appendPreOrPostMatch=function(e,t){for(var i=0,s=!1,r=0,a=e.length;a>r;r++){var o=e.charAt(r);switch(o){case"'":s?t.push("'"):i++,s=!1;break;case"\\":s&&t.push("\\"),s=!s;break;default:t.push(o),s=!1}}return i},u.getTokenRegExp=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},u.tryparseDate=function(t,i,s){if(void 0==i||null==i)i=u.calendar;else if(null!=i&&i&&"string"===e.type(i)&&Globalize){var r=Globalize.cultures[i];r&&(i=r.calendar)}if(void 0!=s){if("array"===e.type(s))for(var a=0;a<s.length;a++){var o=u.parseDate(t,s[a],i);if(o)return o}var o=u.parseDate(t,s,i);if(o)return o}if(""==t)return null;if(null==t||t.substring||(t=t.toString()),null!=t&&"/Date("==t.substring(0,6)){var n=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,l=new Date(+t.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==l){var h=t.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),l=null;h&&(l=new Date(1*h[1]+36e5*h[2]+6e4*h[3]))}if(null==l||"Invalid Date"==l||isNaN(l)){var d=n.exec(t);if(d){var c=new Date(parseInt(d[1]));if(d[2]){var p=parseInt(d[3]);"-"===d[2]&&(p=-p);var m=c.getUTCMinutes();c.setUTCMinutes(m-p)}if(!isNaN(c.valueOf()))return c}}return l}var f={jqxdate:"yyyy-MM-dd HH:mm:ss",d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",d4:"MM.dd.yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",iso:"yyyy-MM-ddTHH:mm:ssZ",iso_date1:"yyyy-MM-dd",iso_date2:"yyyy-MM-dd",iso_date3:"yyyy-ddd",iso_date4:"yyyy-MM-dd HH:mm",iso_date5:"yyyy-MM-dd HH:mm Z",iso_date6:"yyyy-MMM-dd",iso_date7:"yyyy-MM",iso_date8:"yyyy-MMM",iso_date9:"yyyy-MMMM",iso_date10:"yyyy-MMMM-dd",iso_time1:"HH:mm:ss.tttt",iso_time2:"HH:mm:ss",iso_time3:"HH:mm",iso_time4:"HH",iso_time5:"yyyyyy-MM-dd",iso_time6:"yyyyyy-MM-dd"};for(var v in f)if(l=u.parseDate(t,f[v],i))return l;var g=i.patterns;for(v in g)if(l=u.parseDate(t,g[v],i)){if("ISO"==v){var x=u.parseDate(t,g.ISO2,i);if(x)return x}return l}if("string"===e.type(t)){t=u.trim(t);var b=[":","/","-"," ",","],y=function(e,t,i){return i.replace(new RegExp(e,"g"),t)};t=y(", ",",",t);var w="",_=t;t.indexOf(":")>=0?(w=t.substring(t.indexOf(":")-2),w=u.trim(w),_=t.substring(0,t.indexOf(":")-2)):t.toUpperCase().indexOf("AM")>=0?(w=t.substring(t.toUpperCase().indexOf("AM")-2),w=u.trim(w),_=t.substring(0,t.toUpperCase().indexOf("AM")-2)):t.toUpperCase().indexOf("PM")>=0&&(w=t.substring(t.toUpperCase().indexOf("PM")-2),w=u.trim(w),_=t.substring(0,t.toUpperCase().indexOf("PM")-2));var T=new Date,j=!1;if(_){for(var a=0;a<b.length;a++)if(_.indexOf(b[a])>=0){F=_.split(b[a]);break}for(var q=new Array,I=new Array,C=new Array,S=null,D=null,a=0;a<F.length;a++){var k=F[a],P=u.parseDate(k,"d",i)||u.parseDate(k,"dd",i)||u.parseDate(k,"ddd",i)||u.parseDate(k,"dddd",i);if(P&&(q.push(P.getDate()),k.length>2)){S=a;break}}for(var a=0;a<F.length;a++){var k=F[a],H=u.parseDate(k,"M",i)||u.parseDate(k,"MM",i)||u.parseDate(k,"MMM",i)||u.parseDate(k,"MMMM",i);if(H){if(void 0!=S&&S==a)continue;if(I.push(H.getMonth()),k.length>2){D=a;break}}}for(var a=0;a<F.length;a++){var k=F[a],M=u.parseDate(k,"yyyy",i);if(M){if(void 0!=S&&S==a)continue;if(void 0!=D&&D==a)continue;C.push(M.getFullYear())}}for(var B=new Array,E=0;E<q.length;E++)for(var h=0;h<I.length;h++)for(var z=0;z<C.length;z++){var c=new Date(C[z],I[h],q[E]);C[z]<1970&&c.setFullYear(C[z]),NaN!=c.getTime()&&B.push(c)}B.length>0&&(T=B[0],j=!0)}if(w){var O=w.indexOf(":")>=0?w.split(":"):w,A=u.parseDate(w,"h:mm tt",i)||u.parseDate(w,"HH:mm:ss.fff",i)||u.parseDate(w,"HH:mm:ss.ff",i)||u.parseDate(w,"h:mm:ss tt",i)||u.parseDate(w,"HH:mm:ss.tttt",i)||u.parseDate(w,"HH:mm:ss",i)||u.parseDate(w,"HH:mm",i)||u.parseDate(w,"HH",i),L=0,N=0,W=0,R=0;A&&NaN!=A.getTime()?(L=A.getHours(),N=A.getMinutes(),W=A.getSeconds(),R=A.getMilliseconds()):(1==O.length&&(L=parseInt(O[0])),2==O.length&&(L=parseInt(O[0]),N=parseInt(O[1])),3==O.length&&(L=parseInt(O[0]),N=parseInt(O[1]),O[2].indexOf(".")>=0?(W=parseInt(O[2].toString().split(".")[0]),R=parseInt(O[2].toString().split(".")[1])):W=parseInt(O[2])),4==O.length&&(L=parseInt(O[0]),N=parseInt(O[1]),W=parseInt(O[2]),R=parseInt(O[3]))),!T||isNaN(L)||isNaN(N)||isNaN(W)||isNaN(R)||(T.setHours(L,N,W,R),j=!0)}if(j)return T}if(null!=t){for(var x=null,F=[":","/","-"],V=!0,k=0;k<F.length;k++)-1!=t.indexOf(F[k])&&(V=!1);if(V){var U=new Number(t);if(!isNaN(U))return new Date(U)}}return null},u.getParseRegExp=function(e,t){var i=e._parseRegExp;if(i){var s=i[t];if(s)return s}else e._parseRegExp=i={};for(var r,a=u.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],n=[],l=0,h=0,d=u.getTokenRegExp();null!==(r=d.exec(a));){var c=a.slice(l,r.index);if(l=d.lastIndex,h+=u.appendPreOrPostMatch(c,o),h%2)o.push(r[0]);else{var p,m=r[0],f=m.length;switch(m){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":p="(\\D+)";break;case"tt":case"t":p="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":p="(\\d{"+f+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":p="(\\d\\d?)";break;case"zzz":p="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":p="([+-]?\\d\\d?)";break;case"/":p="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+m+"'."}p&&o.push(p),n.push(r[0])}}u.appendPreOrPostMatch(a.slice(l),o),o.push("$");var v=o.join("").replace(/\s+/g,"\\s+"),g={regExp:v,groups:n};return i[t]=g},u.outOfRange=function(e,t,i){return t>e||e>i},u.expandYear=function(e,t){var i=new Date,s=u.getEra(i);if(100>t){var r=e.twoDigitYearMax;r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r;var a=u.getEraYear(i,e,s);t+=a-a%100,t>r&&(t-=100)}return t},u.parseDate=function(e,t,i){(void 0==i||null==i)&&(i=u.calendar),e=u.trim(e);var s=i,r=u.getParseRegExp(s,t),a=new RegExp(r.regExp).exec(e);if(null===a)return null;for(var o,n=r.groups,l=null,h=null,d=null,c=null,p=null,m=0,f=0,v=0,g=0,x=null,b=!1,y=0,w=n.length;w>y;y++){var _=a[y+1];if(_){var T=n[y],j=T.length,q=parseInt(_,10);switch(T){case"dd":case"d":if(c=q,u.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":case"MMMMM":case"MMMMMM":case"MMMMMMM":case"MMMMMMMM":if(d=u.getMonthIndex(s,_,3===j),u.outOfRange(d,0,11))return null;break;case"M":case"MM":if(d=q-1,u.outOfRange(d,0,11))return null;break;case"y":case"yy":case"yyyy":if(h=4>j?u.expandYear(s,q):q,u.outOfRange(h,0,9999))return null;break;case"h":case"hh":if(m=q,12===m&&(m=0),u.outOfRange(m,0,11))return null;break;case"H":case"HH":if(m=q,u.outOfRange(m,0,23))return null;break;case"m":case"mm":if(f=q,u.outOfRange(f,0,59))return null;break;case"s":case"ss":if(v=q,u.outOfRange(v,0,59))return null;break;case"tt":case"t":if(b=s.PM&&(_===s.PM[0]||_===s.PM[1]||_===s.PM[2]),!b&&(!s.AM||_!==s.AM[0]&&_!==s.AM[1]&&_!==s.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=q*Math.pow(10,3-j),u.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(p=u.getDayIndex(s,_,3===j),u.outOfRange(p,0,6))return null;break;case"zzz":var I=_.split(/:/);if(2!==I.length)return null;if(o=parseInt(I[0],10),u.outOfRange(o,-12,13))return null;var C=parseInt(I[1],10);if(u.outOfRange(C,0,59))return null;x=60*o+(u.startsWith(_,"-")?-C:C);break;case"z":case"zz":if(o=q,u.outOfRange(o,-12,13))return null;x=60*o;break;case"g":case"gg":var S=_;if(!S||!s.eras)return null;S=trim(eraNathat.toLowerCase());for(var D=0,k=s.eras.length;k>D;D++)if(S===s.eras[D].nathat.toLowerCase()){l=D;break}if(null===l)return null}}}var P,H=new Date,M=s.convert;if(P=H.getFullYear(),null===h?h=P:s.eras&&(h+=s.eras[l||0].offset),null===d&&(d=0),null===c&&(c=1),M){if(H=M.toGregorian(h,d,c),null===H)return null}else{if(H.setFullYear(h,d,c),H.getDate()!==c)return null;if(null!==p&&H.getDay()!==p)return null}if(b&&12>m&&(m+=12),H.setHours(m,f,v,g),null!==x){var B=H.getMinutes()-(x+H.getTimezoneOffset());H.setHours(H.getHours()+parseInt(B/60,10),B%60)}return H},u.toString=function(t,i){function s(e,t){var i,s=e+"";return t>1&&s.length<t?(i=m[t-2]+s,i.substr(i.length-t,t)):i=s}function r(e,t){if(p)return p[t];if(void 0!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}if(void 0===t&&(t="yyyy-MM-dd HH:mm:ss"),e.jqx.date.cache&&e.jqx.date.cache[u.dateData+t])return e.jqx.date.cache[u.dateData+t];if(i&&"string"===e.type(i)&&Globalize){var a=Globalize.cultures[i];a&&(i=a.calendar)}var o=u.toDate();if((void 0==i||null==i)&&(i=u.calendar),"string"==typeof o)return o;o.toString()+"_"+t;if(!t||!t.length||"i"===t){var n;return n=u.formatDate(o,i.patterns.F,i)}var l=i.eras,h="s"===t;t=u.expandFormat(i,t),n=[];for(var d,c,p,m=["0","00","000"],f=0,v=u.getTokenRegExp();;){var g=v.lastIndex,x=v.exec(t),b=t.slice(g,x?x.index:t.length);if(f+=u.appendPreOrPostMatch(b,n),!x)break;if(f%2)n.push(x[0]);else{var y=x[0],w=y.length;switch(y){case"ddd":case"dddd":var _=3===w?i.days.namesAbbr:i.days.names;n.push(_[o.getDay()]);break;case"d":case"dd":c=!0,n.push(s(r(o,2),w));break;case"MMM":case"MMMM":var T=r(o,1);n.push(i.months[3===w?"namesAbbr":"names"][T]);break;case"M":case"MM":n.push(s(r(o,1)+1,w));break;case"y":case"yy":case"yyyy":T=u.getEraYear(o,i,u.getEra(o,l),h),4>w&&(T%=100),n.push(s(T,w));break;case"h":case"hh":d=o.getHours()%12,0===d&&(d=12),n.push(s(d,w));break;case"H":case"HH":n.push(s(o.getHours(),w));break;case"m":case"mm":n.push(s(o.getMinutes(),w));break;case"s":case"ss":n.push(s(o.getSeconds(),w));break;case"t":case"tt":T=o.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",n.push(1===w?T.charAt(0):T);break;case"f":case"ff":case"fff":n.push(s(o.getMilliseconds(),3).substr(0,w));break;case"z":case"zz":d=o.getTimezoneOffset()/60,n.push((0>=d?"+":"-")+s(Math.floor(Math.abs(d)),w));break;case"zzz":d=o.getTimezoneOffset()/60,n.push((0>=d?"+":"-")+s(Math.floor(Math.abs(d)),2)+":"+s(Math.abs(o.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&n.push(i.eras[u.getEra(o,l)].name);break;case"/":n.push(i["/"]);break;default:throw"Invalid date format pattern '"+y+"'."}}}var j=n.join("");return e.jqx.date.cache||(e.jqx.date.cache=new Array),e.jqx.date.cache[u.dateData+t]=j,j},u.add=function(t,i,s){var r=u.internalMS();if(void 0===i){if(s===!1)return u.dateData=r+parseInt(t._ticks/u.ticksPerMillisecond),u;var a=new e.jqx.date(r+parseInt(t._ticks/u.ticksPerMillisecond));return a.timeZone=u.timeZone,a}var o=t*i;if(o<=-u.maxMillis||o>=u.maxMillis)throw new Error("Out of Range");if(s===!1)return u.dateData=r+o,u;var a=new e.jqx.date(r+o);return a.timeZone=u.timeZone,a},u.addDays=function(e,t){return u.add(e,u.millisPerDay,t)},u.clone=function(){var t=new e.jqx.date(u.dateData);return t.timeZone=u.timeZone,t},u.clearTime=function(){var t=u.month(),i=u.year(),s=u.day(),r=new e.jqx.date(i,t,s,0,0,0,0);return r.timeZone=u.timeZone,r},u.addHours=function(e,t){return u.add(e,u.millisPerHour,t)},u.addMilliseconds=function(e,t){return u.add(e,1,t)},u.addMinutes=function(e,t){return u.add(e,u.millisPerMinute,t)},u.addMonths=function(t,i){if(-12e4>t||t>12e4)throw new Error("Invalid Months Value");var s=parseInt(u.getDatePart(u.datePartYear)),r=parseInt(u.getDatePart(u.datePartMonth)),a=parseInt(u.getDatePart(u.datePartDay)),o=r-1+t;if(o>=0?(r=o%12+1,s+=o/12):(r=12+(o+1)%12,s+=(o-11)/12),s=parseInt(s),1>s||s>9999)throw new Error("Year out of range");var n=u.daysInMonth(s,r);if(a>n&&(a=n),i===!1)return u.dateData=u.dateToMS(s,r,a)+u.internalMS()%u.millisPerDay,u;var l=new e.jqx.date(u.dateToMS(s,r,a)+u.internalMS()%u.millisPerDay);return l.timeZone=u.timeZone,l},u.addSeconds=function(e,t){return u.add(e,u.millisPerSecond,t)},u.addYears=function(e,t){return u.addMonths(12*e,t)},u.getTimeZoneOffset=function(){var e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1),s=e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset());return{offset:-(e.getTimezoneOffset()/60),dst:+s}},u.isInDaylightSavingTime=function(){var e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1);return u.date().getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset())},u.supportsDaylightSavingTime=function(){var e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1);return t.getTimezoneOffset()!=i.getTimezoneOffset()},u.date=function(){var t=u.month(),i=u.year(),s=u.day(),r=new e.jqx.date(i,t,s);return r.timeZone=u.timeZone,r},u.isWeekend=function(){return 0==u.dayOfWeek()||6==u.dayOfWeek()},u.toDate=function(e){var t=u.month(),i=u.year(),s=u.day(),r=u.hour(),a=u.minute(),o=u.second(),n=u.millisecond(),l=new Date(i,t-1,s);if(1970>i&&l.setFullYear(i),l.setHours(r,a,o,n),e){var h=u.timeZones.filter(function(t){return t.id==e});if(h.length){var d=h[0].offset;"Local"==e&&(d=-l.getTimezoneOffset());var c=l.getTime(),p=60*l.getTimezoneOffset()*1e3;if(u.timeZone){var m=u.timeZones.filter(function(e){return e.id==u.timeZone});if(m.length)var p=60*-m[0].offset*1e3;
}var f=c+p;l=new Date(f+6e4*d)}}return l},u.toTimeZone=function(t){var i=t;null==i&&(i="Local");var s=u.toDate(i),r=new e.jqx.date(s);return r.timeZone=t,r},u.day=function(){return u.getDatePart(u.datePartDay)},u.month=function(){return u.getDatePart(u.datePartMonth)},u.year=function(){return u.getDatePart(u.datePartYear)},u.millisecond=function(){return parseInt(u.internalMS()%1e3)},u.hour=function(){return parseInt(u.internalMS()/u.millisPerHour%24)},u.minute=function(){return parseInt(u.internalMS()/u.millisPerMinute%60)},u.second=function(){return parseInt(u.internalMS()/u.millisPerSecond%60)},u.valueOf=function(){return u.dateData},u.equals=function(e){return u.dateData===e.dateData},0===arguments.length){var p=new Date;u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}else if(1===arguments.length){void 0==arguments[0]&&(arguments[0]="todayDate");var m="number"==typeof arguments[0]&&isFinite(arguments[0]);if(m||"string"!==e.type(arguments[0]))if("number"==typeof arguments[0])u.dateData=arguments[0];else if("date"==e.type(arguments[0])){var p=arguments[0];u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}else u.dateData=arguments[0];else if("today"===arguments[0]){var p=new Date;u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}else if("todayDate"===arguments[0]){var p=new Date;p.setHours(0,0,0,0),u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}else{var p=u.tryparseDate(arguments[0]);u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}}else if(2===arguments.length){void 0==arguments[0]&&(arguments[0]="todayDate");var m="number"==typeof arguments[0]&&isFinite(arguments[0]);if(m||"string"!==e.type(arguments[0]))if("number"==typeof arguments[0])u.dateData=arguments[0];else if("date"==e.type(arguments[0])){var p=arguments[0];u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}else u.dateData=arguments[0];else if("today"===arguments[0]){var p=new Date;u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}else if("todayDate"===arguments[0]){var p=new Date;p.setHours(0,0,0,0),u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}else{var p=u.tryparseDate(arguments[0]);u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}u.timeZone=arguments[1]}else if(arguments.length>2)if("string"===e.type(arguments[0])){var p=u.tryparseDate(arguments[0],arguments[2],arguments[1]);u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}else{var f=arguments[0],v=arguments[1],g=arguments[2],x=arguments[3],b=arguments[4],y=arguments[5],w=arguments[6];void 0===x&&(x=0),void 0===b&&(b=0),void 0===y&&(y=0),void 0===w&&(w=0),v--;var p=new Date(f,v,g,x,b,y,w);1970>f&&p.setFullYear(f),u.dateData=u.dateToMS(p.getFullYear(),p.getMonth()+1,p.getDate())+u.timeToMS(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())}return u}}(jqxBaseFramework),Array.prototype.filter||(Array.prototype.filter=function(e){"use strict";if(void 0===this||null===this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var s=[],r=arguments[1],a=0;i>a;a++)if(a in t){var o=t[a];e.call(r,o,a,t)&&s.push(o)}return s}),function(e){e.jqx.jqxWidget("jqxDateTimeInput","",{}),e.extend(e.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){var t={value:e.jqx._jqxDateTimeInput.getDateTime(new Date),minDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),rowHeaderWidth:25,enableViews:!0,views:["month","year","decade"],selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],change:null,changing:null,columnHeaderHeight:20,placeHolder:"",titleHeight:25,firstDayOfWeek:0,showWeekNumbers:!1,showTimeButton:!1,cookies:!1,cookieoptions:null,showFooter:!1,formatString:"dd/MM/yyyy",width:"100%",height:28,dayNameFormat:"firstTwoLetters",textAlign:"left",readonly:!1,culture:"default",activeEditor:null,showCalendarButton:!0,openDelay:250,closeDelay:300,closeCalendarAfterSelection:!0,isEditing:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",enableAbsoluteSelection:!1,disabled:!1,buttonSize:18,animationType:"slide",dropDownWidth:"200px",restrictedDates:new Array,dropDownHeight:"205px",selectionMode:"default",renderMode:"full",rtl:!1,timeRange:null,_editor:!1,todayString:"Today",clearString:"Clear",popupZIndex:9999999999999,allowNullDate:!0,enableHover:!0,allowKeyboardDelete:!0,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close","change"],aria:{"aria-valuenow":{name:"getDate",type:"date"},"aria-valuetext":{name:"getText",type:"string"},"aria-valuemin":{name:"min",type:"date"},"aria-valuemax":{name:"max",type:"date"},"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(1),this.minDate._setMinutes(1),this.minDate._setSeconds(1),this.minDate._setMilliseconds(1),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(1),this.maxDate._setMinutes(1),this.maxDate._setSeconds(1),this.maxDate._setMilliseconds(1),this.defaultMinDate=this.minDate,this.defaultMaxDate=this.maxDate,t},createInstance:function(t){var i="",s=this;if(!s.host.jqxCalendar)throw new Error("jqxDateTimeInput: Missing reference to jqxcalendar.js.");if(s.host.attr("value")){i=!0;var r=s.host.attr("value");if("range"!=s.selectionMode){var a=new Date(r);void 0==a||isNaN(a)||(s.value=e.jqx._jqxDateTimeInput.getDateTime(a))}}if(null!=s.value&&s.value instanceof Date)s.value=e.jqx._jqxDateTimeInput.getDateTime(s.value);else if(null!=s.value&&"string"==typeof s.value){var a=new Date(s.value);if(void 0==a||isNaN(a)){if(s.value.indexOf(",")>=0){s.value=s.value.replace(/\,/g,"/");var a=new Date(s.value);void 0==a||isNaN(a)||(s.value=e.jqx._jqxDateTimeInput.getDateTime(a))}}else s.value=e.jqx._jqxDateTimeInput.getDateTime(a)}if(this._initTimeRange(),this._validateTimeRange(),s.host.attr("data-role","input"),s.render(),e.jqx.aria(this),null!=s.getDate()?e.jqx.aria(this,"aria-label","Current focused date is "+s.getDate().toLocaleString()):e.jqx.aria(this,"aria-label","Current focused date is Null"),s.minDate!==s.defaultMinDate&&(s.min=s.minDate),s.maxDate!==s.defaultMaxDate&&(s.max=s.maxDate),s.setMaxDate(s.max,!1),s.setMinDate(s.min,!1),"range"==s.selectionMode)if(i){var r=s.host.attr("value"),o=r.substring(0,r.indexOf("-")),n=r.substring(r.indexOf("-")+1),l=new Date(o),h=new Date(n);void 0==l||isNaN(l)||void 0==h||isNaN(h)||s.setRange(l,h)}else null!=s.getDate()&&s.setRange(s.getDate(),s.getDate())},_validateTimeRange:function(){if(this.timeRange){var e=this.value.dateTime.getHours(),t=this.value.dateTime.getMinutes();e<=this.timeRange.minHour&&(this.value._setHours(this.timeRange.minHour),t<this.timeRange.minMinute?(this.value._setMinutes(this.timeRange.minMinute),this._updateEditorsValue()):this._updateEditorsValue()),e>=this.timeRange.maxHour&&(this.value._setHours(this.timeRange.maxHour),t>this.timeRange.maxMinute?(this.value._setMinutes(this.timeRange.maxMinute),this._updateEditorsValue()):this._updateEditorsValue())}},_initTimeRange:function(){if(this.timeRange){if(this.timeRange.min){var e=null;(this.timeRange.min.indexOf("AM")>=0||this.timeRange.min.indexOf("PM")>=0)&&(e=this.timeRange.min.indexOf("AM")>=0?"AM":"PM");var t=this.timeRange.min.split(":"),i=parseInt(t[0]),s=parseInt(t[1]);e&&(this.timeRange.minDefaultHour=i,this.timeRange.minMeridian=e),e&&"PM"==e&&(i+=12),this.timeRange.minHour=i,this.timeRange.minMinute=s}if(this.timeRange.max){var e=null;(this.timeRange.max.indexOf("AM")>=0||this.timeRange.max.indexOf("PM")>=0)&&(e=this.timeRange.max.indexOf("AM")>=0?"AM":"PM");var r=this.timeRange.max.split(":"),i=parseInt(r[0]),s=parseInt(r[1]);e&&(this.timeRange.maxDefaultHour=i,this.timeRange.maxMeridian=e),e&&"PM"==e&&(i+=12),this.timeRange.maxHour=i,this.timeRange.maxMinute=s}}},_format:function(t,i,s){var r=!1;try{void 0!=Globalize&&(r=!0)}catch(a){}if(e.global)return e.global.format(t,i,this.culture);if(!r){if(e.jqx.dataFormat)return t instanceof Date?e.jqx.dataFormat.formatdate(t,i,this.localization.calendar):"number"==typeof t?e.jqx.dataFormat.formatnumber(t,i,this.localization.calendar):e.jqx.dataFormat.formatdate(t,i,this.localization.calendar);throw new Error("jqxDateTimeInput: Missing reference to globalize.js.")}try{var i=Globalize.format(t,i,this.culture);return i}catch(a){return Globalize.format(t,i)}},render:function(){var t=this;t._removeHandlers(),t.element.innerHTML="",t.host.attr({role:"textbox"}),t.id=e.jqx.utilities.createId();e.jqx.utilities.createId(),e.jqx.utilities.createId();t._setSize(),null==t.width&&(t.width=t.host.width(),t.host.css({width:t.width})),t.touch=e.jqx.mobile.isTouchDevice();var i=e("<div class='jqx-max-size jqx-position-relative'></div>").appendTo(t.host);t.dateTimeInput=e("<input class='jqx-position-absolute' id='input"+t.element.id+"' autocomplete='off' type='textarea'/>").appendTo(i),t.dateTimeInput.addClass(t.toThemeProperty("jqx-reset")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-clear")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-input-content")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-widget-content")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-rc-all")),t.dateTimeInput.attr("placeHolder",t.placeHolder),"full"!=t.renderMode&&t.dateTimeInput.remove();var s=t.host.attr("name");s&&t.dateTimeInput.attr("name",s),t.host.attr("tabindex")&&(t.dateTimeInput.attr("tabindex",t.host.attr("tabindex")),t.host.removeAttr("tabindex")),t.rtl&&(t.dateTimeInput.css("direction","rtl"),t.dateTimeInput.addClass("jqx-rtl")),t.calendarButton=e("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(i),t.rtl?t.calendarButton.addClass(t.toThemeProperty("jqx-action-button-rtl")):t.calendarButton.addClass(t.toThemeProperty("jqx-action-button")),t.calendarButtonIcon=e(t.calendarButton.children()[0]),t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon")),t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon-calendar")),t.calendarButton.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.calendarButton.addClass(t.toThemeProperty("jqx-rc-l")):t.calendarButton.addClass(t.toThemeProperty("jqx-rc-r")),t.timeButton=e("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(i),t.rtl?t.timeButton.addClass(t.toThemeProperty("jqx-action-button-rtl")):t.timeButton.addClass(t.toThemeProperty("jqx-action-button")),t.timeButtonIcon=e(t.timeButton.children()[0]),t.timeButtonIcon.addClass(t.toThemeProperty("jqx-icon")),t.timeButtonIcon.addClass(t.toThemeProperty("jqx-icon-time")),t.timeButton.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.timeButton.addClass(t.toThemeProperty("jqx-rc-l")):t.timeButton.addClass(t.toThemeProperty("jqx-rc-r"));var r=this;if(t._arrange(),null!=e.jqx._jqxCalendar&&void 0!=e.jqx._jqxCalendar)try{var a="calendar"+t.id,o=e(e.find("#"+a));o.length>0&&o.remove(),e.jqx.aria(this,"aria-owns",a),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-readonly","range"==t.selectionMode?!0:!1);var n=e("<div style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+t.id+"'><div id='innerCalendar"+t.id+"'></div><div id='innerTime"+t.id+"'></div></div>");"opera"==e.jqx.utilities.getBrowser().browser&&n.hide(),n.appendTo(document.body),t.container=n,t.calendarContainer=e(e.find("#innerCalendar"+t.id)).jqxCalendar({restrictedDates:this.restrictedDates,changing:t.changing,change:t.change,enableViews:t.enableViews,selectableDays:t.selectableDays,views:t.views,rowHeaderWidth:t.rowHeaderWidth,titleHeight:t.titleHeight,columnHeaderHeight:t.columnHeaderHeight,_checkForHiddenParent:!1,enableAutoNavigation:!1,canRender:!1,localization:t.localization,todayString:t.todayString,clearString:t.clearString,dayNameFormat:t.dayNameFormat,rtl:t.rtl,culture:t.culture,showFooter:t.showFooter,selectionMode:t.selectionMode,firstDayOfWeek:t.firstDayOfWeek,showWeekNumbers:t.showWeekNumbers,width:t.dropDownWidth,height:t.dropDownHeight,theme:t.theme}),t.calendarContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.calendarContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.calendarContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.timeContainer=e(e.find("#innerTime"+t.id)),t.timeContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.timeContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.timeContainer.addClass(t.toThemeProperty("jqx-noshadow")),t._calendar=e.data(t.calendarContainer[0],"jqxCalendar").instance;var r=this;t._calendar.today=function(){r.today()},t._calendar.clear=function(){r.clear()},"opera"==e.jqx.utilities.getBrowser().browser&&n.show(),n.css({height:parseInt(t.calendarContainer.height())+25}),n.css({width:parseInt(t.calendarContainer.width())+25}),"range"==t.selectionMode&&(t.readonly=!0),"none"==t.animationType?t.container.css("display","none"):t.container.hide()}catch(l){}if(e.global&&e.global.preferCulture(t.culture),t.selectedText="",t._addHandlers(),t.self=this,t.oldValue=t.getDate(),t.items=new Array,t.editors=new Array,t._loadItems(),t.editorText="",1==t.readonly&&t.dateTimeInput.css("readonly",t.readonly),t.dateTimeInput.css("text-align",t.textAlign),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-datetimeinput")),t.host.addClass(t.toThemeProperty("jqx-input")),t.host.addClass(t.toThemeProperty("jqx-overflow-hidden")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-clear")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.propertyChangeMap.disabled=function(t,i,s,a){a?(t.host.addClass(r.toThemeProperty("jqx-input-disabled")),t.host.addClass(r.toThemeProperty("jqx-fill-state-disabled"))):(t.host.removeClass(r.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(r.toThemeProperty("jqx-input-disabled"))),e.jqx.aria(this,"aria-disabled",a)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-input-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dateTimeInput.attr("disabled",!0)),t.host.parents("form").length>0&&t.addHandler(t.host.parents("form"),"reset",function(){setTimeout(function(){r.setDate(new Date)},10)}),t.cookies){var h=e.jqx.cookie.cookie("jqxDateTimeInput"+t.element.id);null!=h&&t.setDate(new Date(h))}if(e.jqx.browser.msie&&e.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0){var d=t.host.parents(".jqx-window").css("z-index");t.container.css("z-index",d+10),t.calendarContainer.css("z-index",d+10)}"default"!=t.culture&&t._applyCulture(),t.value&&(t.calendarContainer.jqxCalendar("_isDisabled",t.value.dateTime)?t.dateTimeInput.addClass(t.toThemeProperty("jqx-input-invalid")):t.dateTimeInput.removeClass(t.toThemeProperty("jqx-input-invalid")))},val:function(e){var t=this;if(0!=arguments.length){if(null==e&&t.setDate(null),"range"==t.selectionMode)return t.setRange(arguments[0],arguments[1]),t.getText();if(e instanceof Date&&t.setDate(e),"string"==typeof e){if("date"==e)return t.getDate();t.setDate(e)}t._calendar.getDate()!=t.getDate()&&t._calendar.setDate(t.getDate())}return t.getText()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.css({width:this.width}):void 0==this.width||isNaN(this.width)||this.host.css({width:this.width}),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.css({height:this.height}):void 0==this.height||isNaN(this.height)||this.host.css({height:this.height});var t=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.host.css({width:this.width})),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.host.css({height:this.height}));var i=this,s=function(){i.calendarContainer&&i._arrange()};if(t&&this.calendarContainer){this._arrange();var r=this.host.width();"auto"!=this.dropDownWidth&&(r=this.dropDownWidth),this.calendarContainer.jqxCalendar({width:r}),this.container.css({width:parseInt(r)+25})}e.jqx.utilities.resize(this.host,function(){s()})},_arrange:function(){null==this.height&&(this.height=27,this.host.css({height:27}));var t=parseInt(this.host.width()),i=parseInt(this.host.height()),s=this.buttonSize,r=6;this.showCalendarButton||this.showTimeButton||(s=0,buttonHeight=0,this.calendarButton.hide(),r=0),this.showCalendarButton?this.calendarButton.show():this.calendarButton.hide(),this.showTimeButton?this.timeButton.show():this.timeButton.hide();var a=t-s-1*r;if(this.showTimeButton&&this.showCalendarButton)var a=t-2*s-1*r;else if(this.showTimeButton||this.showCalendarButton)var a=t-s-1*r;a>0&&(this.dateTimeInput[0].style.width=a+"px"),this.rtl&&(this.dateTimeInput[0].style.width=-1+a+"px"),this.dateTimeInput[0].style.left="0px",this.dateTimeInput[0].style.top="0px",this.calendarButton[0].style.width=s+1+"px",this.calendarButton[0].style.left=1+a+"px",this.timeButton[0].style.width=s+1+"px",this.showCalendarButton?this.timeButton[0].style.left=1+this.calendarButton.width()+a+"px":this.timeButton[0].style.left=1+a+"px","full"!=this.renderMode&&(this.calendarButton[0].style.width="100%",this.calendarButton[0].style.left="0px",this.calendarButton.css("border","none"),this.timeButton[0].style.width="100%",this.timeButton[0].style.left="0px",this.timeButton.css("border","none"));var o=this.dateTimeInput.outerHeight();0==o&&(o=parseInt(this.dateTimeInput.css("font-size"))+3,this.calendarButton.addClass(this.toThemeProperty("jqx-rc-all")),this.timeButton.addClass(this.toThemeProperty("jqx-rc-all"))),-1==this.dateTimeInput[0].className.indexOf("jqx-rc-all")&&this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all"));var n=parseInt(i)/2-parseInt(o)/2;n>0&&(this.dateTimeInput[0].style.marginTop=parseInt(n)+"px"),this.rtl&&(this.calendarButton[0].style.width=s+"px",this.timeButton[0].style.width=s+"px",this.calendarButton.css("left","0px"),this.showCalendarButton?this.timeButton.css("left",s+"px"):this.timeButton.css("left","0px"),this.dateTimeInput.css("left",this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",this.timeButton.width()+this.calendarButton.width()),e.jqx.browser.msie&&e.jqx.browser.version<=8&&(this.dateTimeInput.css("left",1+this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",1+this.timeButton.width()+this.calendarButton.width())))},_removeHandlers:function(){this.removeHandler(e(document),"mousedown."+this.id),this.dateTimeInput&&(this.removeHandler(this.dateTimeInput,"keydown."+this.id),this.removeHandler(this.dateTimeInput,"blur"),this.removeHandler(this.dateTimeInput,"focus"),this.removeHandler(this.host,"focus"),this.removeHandler(this.dateTimeInput,"mousedown"),this.removeHandler(this.dateTimeInput,"mouseup"),this.removeHandler(this.dateTimeInput,"keydown"),this.removeHandler(this.dateTimeInput,"keyup"),this.removeHandler(this.dateTimeInput,"keypress")),null!=this.calendarButton&&this.removeHandler(this.calendarButton,"mousedown"),null!=this.timeButton&&this.removeHandler(this.timeButton,"mousedown"),null!=this.calendarContainer&&(this.removeHandler(this.calendarContainer,"cellSelected"),this.removeHandler(this.calendarContainer,"cellMouseDown")),this.removeHandler(e(window),"resize."+this.id)},isOpened:function(){var t=this,i=e.data(document.body,"openedJQXCalendar"+this.id);return null!=i&&i==t.calendarContainer?!0:!1},wheel:function(e,t){var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s?!1:(e.preventDefault&&e.preventDefault(),e.returnValue=!1,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){return 0>e?this.spinDown():this.spinUp(),!1},focus:function(){try{var e=this;this._setSelectionStart(0),this._selectGroup(-1),this.dateTimeInput.focus(),setTimeout(function(){e._setSelectionStart(0),e._selectGroup(-1),e.dateTimeInput.focus()},25)}catch(t){}},_addHandlers:function(){var t=(this.element.id,this.element,this);this.host.parents()&&this.addHandler(this.host.parents(),"scroll.datetimeinput"+this.element.id,function(e){var i=t.isOpened();i&&t.close()}),this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&(hovered=!0,t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon-calendar-hover")),t.calendarButton.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&(t.calendarButtonIcon.removeClass(t.toThemeProperty("jqx-icon-calendar-hover")),t.calendarButton.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mousewheel",function(e){t.wheel(e,t)}),this.addHandler(e(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this}),e.jqx.mobile.isTouchDevice()&&this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,this._closeOpenedCalendar,{me:this}),this.addHandler(this.dateTimeInput,"keydown."+this.id,function(i){var s=e.data(document.body,"openedJQXCalendar"+t.id);if(null!=s&&s==t.calendarContainer){var r=t.handleCalendarKey(i,t);return r}}),null!=this.calendarContainer&&(this.addHandler(this.calendarContainer,"keydown",function(e){if(13==e.keyCode)return t.isOpened()&&!t._calendar._viewAnimating&&"month"==t._calendar.view?(t.hideCalendar("selected"),t.dateTimeInput.focus(),!1):!0;if(9==e.keyCode){if(t.isOpened())return t.hideCalendar("selected"),!0}else if(27==e.keyCode)return t.isOpened()?(t.hideCalendar(),t.dateTimeInput.focus(),!1):!0;if(t.timePopup=!1,84==e.keyCode&&(t.timePopup=!0),115==e.keyCode){if(t.isOpened())return t.hideCalendar("keyboard"),t.dateTimeInput.focus(),!1;if(!t.isOpened())return t.showCalendar("keyboard"),t.dateTimeInput.focus(),!1}if(e.altKey)if(38==e.keyCode){if(t.isOpened())return t.hideCalendar("keyboard"),t.dateTimeInput.focus(),!1}else if(40==e.keyCode&&!t.isOpened())return t.showCalendar("keyboard"),t.dateTimeInput.focus(),!1}),this.addHandler(this.calendarContainer,"cellSelected",function(i){if(t.closeCalendarAfterSelection){e.data(document.body,"openedJQXCalendarValue");"mouse"==i.args.selectionType&&("range"!=t.selectionMode?t.hideCalendar("selected"):0==t._calendar._clicks&&t.hideCalendar("selected"))}}),this.addHandler(this.calendarContainer,"cellMouseDown",function(i){t.closeCalendarAfterSelection&&t._calendar.value&&e.data(document.body,"openedJQXCalendarValue",new e.jqx._jqxDateTimeInput.getDateTime(t._calendar.value.dateTime))})),this.addHandler(this.dateTimeInput,"blur",function(e){if(null!=t.value){t.isEditing=!1;t.value.dateTime.getDay(),t._oldDT;t._validateValue(!0),e.stopPropagation&&e.stopPropagation(),t._updateText(),t._raiseEvent(9,e)}t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){t.focus()}),this.addHandler(this.dateTimeInput,"focus",function(e){if(null!=t.value){"range"!=t.selectionMode?t._oldDT=new Date(t.value.dateTime):t._oldDT=t.getRange();var i=t._selection();t.isEditing=!0,t._validateValue(),t._updateText(),t._setSelectionStart(0),t._selectGroup(-1,i),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))}else t._setSelectionStart(0),t._selectGroup(-1),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"));return e.stopPropagation&&e.stopPropagation(),e.preventDefault?(e.preventDefault(),!1):void 0});var i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.calendarButton,i,function(e){var i=t.container,s="block"==i.css("display");if(t.timePopup=!1,t.calendarPopup=!0,!t.disabled&&!t.isanimating){if(s)return t.hideCalendar(),!1;t.showCalendar("mouse"),e.preventDefault()}}),this.addHandler(this.timeButton,i,function(e){var i=t.container,s="block"==i.css("display");if(t.timePopup=!0,t.calendarPopup=!1,!t.disabled&&!t.isanimating){if(s)return t.hideCalendar("mouse"),!1;t.showCalendar("mouse"),e.preventDefault()}}),this.addHandler(this.dateTimeInput,"mousedown",function(e){return t._raiseEvent(2,e)}),this.addHandler(this.dateTimeInput,"mouseup",function(e){return t._raiseEvent(3,e)}),this.addHandler(this.dateTimeInput,"keydown",function(e){return t._raiseEvent(4,e)}),this.addHandler(this.dateTimeInput,"keyup",function(e){return t._raiseEvent(5,e)}),this.addHandler(this.dateTimeInput,"keypress",function(e){return t._raiseEvent(6,e)})},createID:function(){var e=Math.random()+"";return e=e.replace(".",""),e="99"+e,e/=1,"dateTimeInput"+e},setMaxDate:function(t,i){null!=t&&(null==t||"string"!=typeof t||(t=new Date(t),"Invalid Date"!=t))&&(this.maxDate=e.jqx._jqxDateTimeInput.getDateTime(t),null!=this._calendar&&this._calendar.setMaxDate(t),0!=i&&(null!=this.getDate()&&this.getDate()>t&&this.setDate(t),e.jqx.aria(this,"aria-valuemax",t),this._refreshValue(),this._updateText()))},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(t,i){null!=t&&(null==t||"string"!=typeof t||(t=new Date(t),"Invalid Date"!=t))&&(this.minDate=e.jqx._jqxDateTimeInput.getDateTime(t),null!=this._calendar&&this._calendar.setMinDate(t),0!=i&&(null!=this.getDate()&&this.getDate()<t&&this.setDate(t),e.jqx.aria(this,"aria-valuemin",t),this._refreshValue(),this._updateText()))},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},_applyCulture:function(){var t=!1;try{void 0!=Globalize&&(t=!0)}catch(i){}try{if(e.global)e.global.preferCulture(this.culture),this.localization.calendar=e.global.culture.calendar;else if(t){var s=Globalize.culture(this.culture);this.localization.calendar=s.calendar}this._loadItems(),null!=this._calendar&&(this._calendar.culture=this.culture,this._calendar.localization=this.localization,this._calendar.render())}catch(i){}},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},propertyChangedHandler:function(t,i,s,r){if(void 0!=t.isInitialized&&0!=t.isInitialized){if("restrictedDates"==i&&t.calendarContainer.css({restrictedDates:r}),"popupZIndex"==i&&t.calendarContainer.css({zIndex:r}),"showCalendarButton"==i&&t._arrange(),"showTimeButton"==i&&(t._arrange(),t.timePopupElement&&(t.timePopupElement.remove(),t.timePopupElement=null)),"selectionMode"==i&&(t._calendar.selectionMode=r,t.refreshValue()),"min"==i&&("string"==typeof r?t.setMinDate(new Date(r)):t.setMinDate(r)),"max"==i&&("string"==typeof r?t.setMaxDate(new Date(r)):t.setMaxDate(r)),"value"==i)if(null!=r&&r instanceof Date){if(isNaN(r.getFullYear())||isNaN(r.getMonth())||isNaN(r.getDate()))return void(this.value=s);r=e.jqx._jqxDateTimeInput.getDateTime(r)}else if(null!=r&&"string"==typeof r){var a=new Date(r);void 0==a||isNaN(a)||(this.value=e.jqx._jqxDateTimeInput.getDateTime(a))}if("views"==i&&t.calendarContainer.jqxCalendar({views:r}),"enableViews"==i&&t.calendarContainer.jqxCalendar({enableViews:r}),"selectableDays"==i&&t.calendarContainer.jqxCalendar({selectableDays:r}),"showFooter"==i&&t.calendarContainer.jqxCalendar({showFooter:r}),"rtl"==i&&(t.calendarContainer.jqxCalendar({rtl:r}),r?(t.dateTimeInput.css("direction","rtl"),t.dateTimeInput.addClass("jqx-rtl")):(t.dateTimeInput.css("direction","ltr"),t.dateTimeInput.removeClass("jqx-rtl"))),("todayString"==i||"clearString"==i)&&t.calendarContainer.jqxCalendar({clearString:t.clearString,todayString:t.todayString}),"dayNameFormat"==i&&t.calendarContainer.jqxCalendar({dayNameFormat:r}),"firstDayOfWeek"==i&&t.calendarContainer.jqxCalendar({firstDayOfWeek:r}),"showWeekNumbers"==i&&t.calendarContainer.jqxCalendar({showWeekNumbers:r}),"culture"==i||"localization"==i?t._applyCulture():"formatString"==i&&t._loadItems(),"theme"==i&&(e.jqx.utilities.setTheme(s,r,t.host),t.calendarContainer.jqxCalendar({theme:r})),"width"==i||"height"==i)return void t.refresh();t._setOption(i,r,s),("dropDownWidth"==i||"dropDownHeight"==i)&&(t.calendarContainer.jqxCalendar({width:t.dropDownWidth,height:t.dropDownHeight}),t._calendar.render(),t.container.css({height:t.calendarContainer.height()}),t.container.css({width:t.calendarContainer.width()}))}},clear:function(){this.allowNullDate?("range"!=this.selectionMode?this.setDate(null):(this._calendar._clicks=1,this.setRange(null,null)),this._calendar._clicks=0):"range"!=this.selectionMode?this.setDate(me.getMinDate()):(this._calendar._clicks=1,this.setRange(me.getMinDate(),me.getMinDate()),this._calendar._clicks=0),this.hideCalendar()},today:function(){var e=new Date;if(e.setHours(0,0,0,0),"range"!=this.selectionMode)this.setDate(e);else{this._calendar._clicks=0;var t=new Date;t.setHours(23,59,59,0),this.setRange(e,t),this._calendar._clicks=0}this.hideCalendar()},setDate:function(t){var i=this.getDate();if(null!=t&&"string"==typeof t){var s=t;if(t.toString().indexOf(",")>=0&&(t=t.replace(/\,/g,"/"),t=new Date(t),"Invalid Date"==t&&(t=s)),t.toString().indexOf("-")>=0&&(t=t.replace(/\-/g,"/"),t=new Date(t),"Invalid Date"==t&&(t=s)),""!=t){var r=t;if(t=void 0!=Globalize?Globalize.parseDate(r,this.formatString,this.culture):e.jqx.dataFormat?e.jqx.dataFormat.parsedate(r,this.formatString,this.localization.calendar):new Date(t),"Invalid Date"==t)return;null===t&&null!==r&&"Invalid Date"!=r&&(t=r)}}if((null==t||"null"==t||"undefined"==t)&&(this.allowNullDate||(t=this.min)),"Invalid Date"==t&&(t=null),null==t||"null"==t||"undefined"==t||""===t)return void(null!=this.value&&(this.value=null,this._calendar.setDate(null),this._refreshValue(),this.cookies&&null!=this.value&&e.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._setSelectionStart(0),this._selectGroup(-1),this._raiseEvent("0",t,i),this._raiseEvent("9",t,i)));if(!(t<this.getMinDate()||t>this.getMaxDate())){null==this.value&&(this.value=new e.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),
this.value._setMilliseconds(0)),t.getFullYear&&(this.value._setYear(t.getFullYear()),this.value._setDay(1),this.value._setMonth(t.getMonth()+1),this.value._setHours(t.getHours()),this.value._setMinutes(t.getMinutes()),this.value._setSeconds(t.getSeconds()),this.value._setMilliseconds(t.getMilliseconds()),this.value._setDay(t.getDate())),this._validateTimeRange(),this._refreshValue(),this.cookies&&null!=this.value&&e.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions);var a=this.getDate(),o=a-i;return 0!=o?(this._raiseEvent("0",t,i),this._raiseEvent("9",t,i),!0):void 0}},getDate:function(){return void 0==this.value?null:new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(t,i){if("Invalid Date"==t&&(t=null),"Invalid Date"==i&&(i=null),!(null!=t&&"string"==typeof t&&(t=new Date(t),"Invalid Date"==t)||null!=i&&"string"==typeof i&&(i=new Date(i),"Invalid Date"==i)||t&&isNaN(t)&&"NaN"==t.toString()&&"string"!=typeof t||i&&isNaN(i)&&"NaN"==i.toString()&&"string"!=typeof i)){this._calendar.setRange(t,i),i&&t&&i.valueOf()!=t.valueOf()?this._range={from:t,to:i}:this._range=this._calendar.getRange();var s=t;null!=s&&s.getFullYear&&(null==this.value&&(this.value=new e.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),this.value._setYear(s.getFullYear()),this.value._setMonth(s.getMonth()+1),this.value._setHours(s.getHours()),this.value._setMinutes(s.getMinutes()),this.value._setSeconds(s.getSeconds()),this.value._setMilliseconds(s.getMilliseconds()),this.value._setDay(s.getDate())),this._refreshValue(),this.value?this._raiseEvent("0",this.value.dateTime):this._raiseEvent("0",null)}},getRange:function(){var e=this._calendar.getRange();if(this._range){var t=this._range.from,i=this._range.to;i&&t&&i.valueOf()!=t.valueOf()&&(e.from&&e.from.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.to&&e.to.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))}return e},_validateValue:function(e){for(var t=!1,i=0;i<this.items.length;i++){var s=this.editors[i].value;switch(this.items[i].type){case"FORMAT_AMPM":0>s?s=0:s>1&&(s=1);break;case"Character":break;case"Day":1>s?s=1:s>31&&(s=31);break;case"FORMAT_hh":1>s?s=1:s>12&&(s=12);break;case"FORMAT_HH":0>s?s=0:s>23&&(s=23);break;case"Millisecond":0>s?s=0:s>999&&(s=999);break;case"Minute":0>s?s=0:s>59&&(s=59);break;case"Month":1>s?s=1:s>12&&(s=12);break;case"ReadOnly":break;case"Second":0>s?s=0:s>59&&(s=59);break;case"Year":s<this.minDate.year?s=this.minDate.year:s>this.maxDate.year&&(s=this.maxDate.year)}this.editors[i].value!=s&&(this.editors[i].value=s,t=!0)}this.updateValue(),null!=this.value&&e===!0&&(this.value.dateTime>this.maxDate.dateTime?(this._internalSetValue(this.maxDate),this._updateEditorsValue()):this.value.dateTime<this.minDate.dateTime&&(this._internalSetValue(this.minDate),this._updateEditorsValue()),this._updateText())},spinUp:function(){var e=this.value;if(null!=e){if(null!=this.activeEditor){var t=this.editors.indexOf(this.activeEditor);if(-1==t)return;"Day"==this.items[t].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var i=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=i}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var s=this.editors.indexOf(this.activeEditor);s>=0&&this._selectGroup(s)}},spinDown:function(){var e=this.value;if(null!=e){if(null!=this.activeEditor){var t=this.editors.indexOf(this.activeEditor);if(-1==t)return;"Day"==this.items[t].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var i=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=i}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var s=this.editors.indexOf(this.activeEditor);s>=0&&this._selectGroup(s)}},_passKeyToCalendar:function(e){if(13==e.keyCode||9==e.keyCode)return this.hideCalendar("selected"),!0;if(27==e.keyCode){var t=(this.calendarContainer,this._calendar),i=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1,t.setDate(this.value.dateTime),this.closeCalendarAfterSelection=i,this.hideCalendar()}var i=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1;var s=this._calendar._handleKey(e);return this.closeCalendarAfterSelection=i,s},handleCalendarKey:function(t,i){var s=(e(t.target),e.data(document.body,"openedJQXCalendar"+this.id));if(null!=s&&s.length>0){var r=i._passKeyToCalendar(t);return r}return!0},_findPos:function(t){if(null!=t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]}},testOffset:function(t,i,s){var r=t.outerWidth(),a=t.outerHeight(),o=e(window).width()+e(window).scrollLeft(),n=e(window).height()+e(window).scrollTop();if(i.left+r>o&&r>this.host.width()){var l=this.host.coord().left,h=r-this.host.width();i.left=l-h+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+a>n&&n>a?Math.abs(a+s+23):0),i},open:function(e){"time"==e?this.timePopup=!0:this.timePopup=!1,this.showCalendar()},close:function(e){this.hideCalendar()},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},initTimePopup:function(){this.timePopupElement=e("<div style='border-style: solid; border-width: 1px;'></div>").appendTo(this.timeContainer),this.timePopupElement.addClass(this.toThemeProperty("jqx-widget-content jqx-widget jqx-date-time-input-popup"));var t="";t+="<table><tbody><tr><td><a class='increment-hour-column' href='javascript:;' data-action='incrementHour'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-minute-column' href='javascript:;' data-action='incrementMinute'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-second-column' href='javascript:;' data-action='incrementSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-millisecond-column' href='javascript:;' data-action='incrementMSSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td class='increment-meridian-column'><a href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-up'></div></a></td></tr><tr><td><input type='text' class='jqx-timepicker-hour' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-minute' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-second' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-millisecond' maxlength='3'></td><td class='separator'>&nbsp;</td><td><input type='text' class='jqx-timepicker-meridian' maxlength='2'></td></tr><tr><td><a class='decrement-hour-column' href='javascript:;' data-action='decrementHour'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-minute-column' href='javascript:;' data-action='decrementMinute'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-second-column' href='javascript:;' data-action='decrementSecond'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-millisecond-column' href='javascript:;' data-action='decrementMillisecond'><div class='jqx-icon-down'></div></a></td><td class='separator'>&nbsp;</td><td><a class='decrement-meridian-column' href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-down'></div></a></td></tr></tbody></table>";var i=this._getFormatValue(this.formatString);"range"!=this.selectionMode?this.timePopupElement[0].innerHTML=t:this.timePopupElement[0].innerHTML="<table><tr><td>"+t+"</td><td>-</td><td>"+t+"</td></tr></table>",this.timePopupElement.find(".jqx-icon-down").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-down")),this.timePopupElement.find(".jqx-icon-up").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-up"));var s=this.timePopupElement.find("input");s.addClass(this.toThemeProperty("jqx-input")),s.addClass(this.toThemeProperty("jqx-rc-all")),this.addHandler(s,"mousedown",function(e){e.stopPropagation()});var r=function(t){t.target.className.indexOf("hour")>=0&&n._decrementHour(e(t.target)),t.target.className.indexOf("minute")>=0&&n._decrementMinuteSecond(e(t.target)),t.target.className.indexOf("second")>=0&&n._decrementMinuteSecond(e(t.target)),t.target.className.indexOf("millisecond")>=0&&n._decrementMillisecond(e(t.target)),t.target.className.indexOf("meridian")>=0&&n._decrementMeridian(e(t.target))},a=function(t){t.target.className.indexOf("hour")>=0&&n._incrementHour(e(t.target)),t.target.className.indexOf("minute")>=0&&n._incrementMinuteSecond(e(t.target)),t.target.className.indexOf("second")>=0&&n._incrementMinuteSecond(e(t.target)),t.target.className.indexOf("millisecond")>=0&&n._incrementMillisecond(e(t.target)),t.target.className.indexOf("meridian")>=0&&n._incrementMeridian(e(t.target))},o=function(e,t){var i=0;e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.originalEvent&&void 0!=e.originalEvent.deltaY&&(i=-e.originalEvent.deltaY),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i&&(document.activeElement==e.target&&"input"==e.target.nodeName.toLowerCase()&&(0>i?r(e):a(e)),e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventDefault&&e.preventDefault(),e.returnValue=!1};this.addHandler(s,"wheel",function(e){o(e)}),this.addHandler(s,"keydown",function(t){e(t.target);if(t.ctrlKey)if(38==t.keyCode){if(n.isOpened())return n.hideCalendar("keyboard"),n.dateTimeInput.focus(),!1}else if(40==t.keyCode&&!n.isOpened())return n.showCalendar("keyboard"),n.dateTimeInput.focus(),!1;40==t.keyCode?(r(t),t.preventDefault()):38==t.keyCode?(a(t),t.preventDefault()):13==t.keyCode?(t.preventDefault(),n.hideCalendar("keyboard"),n.dateTimeInput.focus()):27==t.keyCode&&(t.preventDefault(),n.hideCalendar("cancel"),n.dateTimeInput.focus())}),this.hourInput=e(s[0]),this.minuteInput=e(s[1]),this.secondInput=e(s[2]),this.mssecondInput=e(s[3]),this.meridianInput=e(s[4]),this.hourInput2=e(s[5]),this.minuteInput2=e(s[6]),this.secondInput2=e(s[7]),this.mssecondInput2=e(s[8]),this.meridianInput2=e(s[9]);var n=this,l=this.timePopupElement.find(".increment-hour-column");this.hourIncrement=e(l[0]),this.hourIncrement2=e(l[1]),this.addHandler(s,"change",function(t){var s=e(t.target);if(s.val().length<=1&&s.val("0"+e(t.target).val()),t.target.className.indexOf("hour")>=0){var r=parseInt(e(t.target).val());if(i.indexOf("HH")>=0)for(;r>24;)r-=24;else for(;r>12;)r-=12;10>r&&(r="0"+r),s.val()!=r&&s.val(r)}if(t.target.className.indexOf("minute")>=0||t.target.className.indexOf("second")>=0){for(var r=parseInt(e(t.target).val());r>59;)r--;10>r&&(r="0"+r),s.val()!=r&&s.val(r)}}),this._incrementHour=function(e){var t=parseInt(e.val());t++,i.indexOf("HH")>=0?t>24&&(t=1):t>12&&(t=1),10>t&&(t="0"+t),e.val(t)},this._incrementMinuteSecond=function(e){var t=parseInt(e.val());t++,t>59&&(t=0),10>t&&(t="0"+t),e.val(t)},this._incrementMillisecond=function(e){var t=parseInt(e.val());t++,t>999&&(t=0),10>t&&(t="0"+t),e.val(t)},this._incrementMeridian=function(e){var t=e.val();t=t.toLowerCase().indexOf("a")>=0?"PM":"AM",e.val(t)},this._decrementHour=function(e){var t=parseInt(e.val());t--,i.indexOf("HH")>=0?0>t&&(t=23):1>t&&(t=12),10>t&&(t="0"+t),e.val(t)},this._decrementMinuteSecond=function(e){var t=parseInt(e.val());t--,0>t&&(t=59),10>t&&(t="0"+t),e.val(t)},this._decrementMillisecond=function(e){var t=parseInt(e.val());t--,0>t&&(t=999),10>t&&(t="0"+t),e.val(t)},this._decrementMeridian=function(e){var t=e.val();t=t.toLowerCase().indexOf("a")>=0?"PM":"AM",e.val(t)},this.addHandler(this.hourIncrement,"mousedown",function(e){e.stopPropagation(),n._incrementHour(n.hourInput)}),this.addHandler(this.hourIncrement2,"mousedown",function(e){e.stopPropagation(),n._incrementHour(n.hourInput2)});var h=this.timePopupElement.find(".increment-minute-column");this.minuteIncrement=e(h[0]),this.minuteIncrement2=e(h[1]),this.addHandler(this.minuteIncrement,"mousedown",function(e){e.stopPropagation(),n._incrementMinuteSecond(n.minuteInput)}),this.addHandler(this.minuteIncrement2,"mousedown",function(e){e.stopPropagation(),n._incrementMinuteSecond(n.minuteInput2)});var d=this.timePopupElement.find(".increment-second-column");this.secondIncrement=e(d[0]),this.secondIncrement2=e(d[1]),this.addHandler(this.secondIncrement,"mousedown",function(e){e.stopPropagation(),n._incrementMinuteSecond(n.secondInput)}),this.addHandler(this.secondIncrement2,"mousedown",function(e){e.stopPropagation(),n._incrementMinuteSecond(n.secondInput2)});var c=this.timePopupElement.find(".increment-millisecond-column");this.millisecondsIncrement=e(c[0]),this.millisecondsIncrement2=e(c[1]),this.addHandler(this.millisecondsIncrement,"mousedown",function(e){e.stopPropagation(),n._incrementMillisecond(n.mssecondInput)}),this.addHandler(this.millisecondsIncrement2,"mousedown",function(e){e.stopPropagation(),n._incrementMillisecond(n.mssecondInput2)});var u=this.timePopupElement.find(".increment-meridian-column");this.meridianIncrement=e(u[0]),this.meridianIncrement2=e(u[1]),this.addHandler(this.meridianIncrement,"mousedown",function(e){e.stopPropagation(),n._incrementMeridian(n.meridianInput)}),this.addHandler(this.meridianIncrement2,"mousedown",function(e){e.stopPropagation(),n._incrementMeridian(n.meridianInput2)});var p=this.timePopupElement.find(".decrement-hour-column");this.hourDecrement=e(p[0]),this.hourDecrement2=e(p[1]),this.addHandler(this.hourDecrement,"mousedown",function(e){e.stopPropagation(),n._decrementHour(n.hourInput)}),this.addHandler(this.hourDecrement2,"mousedown",function(e){e.stopPropagation(),n._decrementHour(n.hourInput2)});var m=this.timePopupElement.find(".decrement-minute-column");this.minuteDecrement=e(m[0]),this.minuteDecrement2=e(m[1]),this.addHandler(this.minuteDecrement,"mousedown",function(e){e.stopPropagation(),n._decrementMinuteSecond(n.minuteInput)}),this.addHandler(this.minuteDecrement2,"mousedown",function(e){e.stopPropagation(),n._decrementMinuteSecond(n.minuteInput2)});var f=this.timePopupElement.find(".decrement-second-column");this.secondDecrement=e(f[0]),this.secondDecrement2=e(f[1]),this.addHandler(this.secondDecrement,"mousedown",function(e){e.stopPropagation(),n._decrementMinuteSecond(n.secondInput)}),this.addHandler(this.secondDecrement2,"mousedown",function(e){e.stopPropagation(),n._decrementMinuteSecond(n.secondInput2)});var v=this.timePopupElement.find(".decrement-millisecond-column");this.millisecondsDecrement=e(v[0]),this.millisecondsDecrement2=e(v[1]),this.addHandler(this.millisecondsDecrement,"mousedown",function(e){e.stopPropagation(),n._decrementMillisecond(n.mssecondInput)}),this.addHandler(this.millisecondsDecrement2,"mousedown",function(e){e.stopPropagation(),n._decrementMillisecond(n.mssecondInput2)});var g=this.timePopupElement.find(".decrement-meridian-column");this.meridianDecrement=e(g[0]),this.meridianDecrement2=e(g[1]),this.addHandler(this.meridianDecrement,"mousedown",function(e){e.stopPropagation(),n._decrementMeridian(n.meridianInput)}),this.addHandler(this.meridianDecrement2,"mousedown",function(e){e.stopPropagation(),n._decrementMeridian(n.meridianInput2)});var x=this.timePopupElement.find("table");this.addHandler(this.timePopupElement,"mousedown",function(e){e.stopPropagation()});var b=function(t){var s=t.find("tr");-1==i.indexOf("ss")&&(n.secondInput.hide(),n.secondInput2.hide(),e(e(s[0]).children()[3]).hide(),e(e(s[0]).children()[4]).hide(),e(e(s[1]).children()[3]).hide(),e(e(s[1]).children()[4]).hide(),e(e(s[2]).children()[3]).hide(),e(e(s[2]).children()[4]).hide()),-1==i.indexOf("tt")&&-1==i.indexOf("hh")&&(n.meridianInput.hide(),n.meridianInput2.hide(),e(e(s[0]).children()[7]).hide(),e(e(s[0]).children()[8]).hide(),e(e(s[1]).children()[7]).hide(),e(e(s[1]).children()[8]).hide(),e(e(s[2]).children()[7]).hide(),e(e(s[2]).children()[8]).hide()),-1==i.indexOf("zz")&&(n.mssecondInput.hide(),n.mssecondInput2.hide(),e(e(s[0]).children()[5]).hide(),e(e(s[0]).children()[6]).hide(),e(e(s[1]).children()[5]).hide(),e(e(s[1]).children()[6]).hide(),e(e(s[2]).children()[5]).hide(),e(e(s[2]).children()[6]).hide())};1==x.length?b(x):(b(e(e(x)[1])),b(e(e(x)[2])))},updateTimePopup:function(){var e=this._getFormatValue(this.formatString);if("range"!=this.selectionMode){var t=this.getDate();if(this.hourInput){if(t)var i=t.getHours(),s=t.getMinutes(),r=t.getHours(),a=t.getSeconds(),o=t.getMilliseconds();else var i=0,s=0,r=0,a=0,o=0;i>=12?(r="PM",-1==e.indexOf("HH")&&(i-=12,0==i&&(i=12))):r="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),10>i&&(i="0"+i),10>s&&(s="0"+s),10>a&&(a="0"+a),10>o&&(o="0"+o),this.hourInput.val(i),this.minuteInput.val(s),this.secondInput.val(a),this.mssecondInput.val(o),this.meridianInput.val(r)}}else{var t=this.getRange().from;if(this.hourInput){if(t)var i=t.getHours(),s=t.getMinutes(),r=t.getHours(),a=t.getSeconds(),o=t.getMilliseconds();else var i=0,s=0,r=0,a=0,o=0;i>=12?(r="PM",-1==e.indexOf("HH")&&(i-=12,0==i&&(i=12))):r="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),10>i&&(i="0"+i),10>s&&(s="0"+s),10>a&&(a="0"+a),10>o&&(o="0"+o),this.hourInput.val(i),this.minuteInput.val(s),this.secondInput.val(a),this.mssecondInput.val(o),this.meridianInput.val(r)}var t=this.getRange().to;if(this.hourInput2){if(t)var i=t.getHours(),s=t.getMinutes(),r=t.getHours(),a=t.getSeconds(),o=t.getMilliseconds();else var i=0,s=0,r=0,a=0,o=0;i>=12?(r="PM",-1==e.indexOf("HH")&&(i-=12,0==i&&(i=12))):r="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),10>i&&(i="0"+i),10>s&&(s="0"+s),10>a&&(a="0"+a),10>o&&(o="0"+o),this.hourInput2.val(i),this.minuteInput2.val(s),this.secondInput2.val(a),this.mssecondInput2.val(o),this.meridianInput2.val(r)}}},showCalendar:function(){var t=this.calendarContainer,i=this._calendar;if(e.jqx.aria(this,"aria-expanded",!0),this.showTimeButton)if(this.timePopup){this.timePopupElement||this.initTimePopup(),this.calendarContainer.css("visibility","hidden"),this.timeContainer.css("visibility","visible"),this.updateTimePopup();for(var s=this.timeContainer.find("input"),r=0,a=0;a<s.length;a++)"none"!=s[a].style.display&&(r+=50);this.container.css({width:parseInt(r)}),this.touch||setTimeout(function(){s[0].focus(),e(s[0]).select()},150+this.openDelay)}else this.container.css({width:parseInt(this.calendarContainer.width())+25}),this.timeContainer.css("visibility","hidden"),this.calendarContainer.css("visibility","visible");null!=this.value?"range"!=this.selectionMode?this._oldDT=new Date(this.value.dateTime):this._oldDT=this.getRange():this._oldDT=null,i.canRender||(i.canRender=!0,i.render());var o,n=(this.container,this),l=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),h=parseInt(Math.round(this.host.coord(!0).left));o=h+"px";var d=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();null!=d&&d&&(o=e.jqx.mobile.getLeftPos(this.element),l=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(l=parseInt(l)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(o=parseInt(o)-this._getBodyOffset().left+"px")),this.container.css("left",o),this.container.css("top",l);var c=this.closeCalendarAfterSelection;if(this.closeCalendarAfterSelection=!1,this.isEditing=!1,"default"==n.selectionMode){this._validateValue(),this._updateText();var u=null!=this.value?this.value.dateTime:new Date;i.setDate(u)}this.closeCalendarAfterSelection=c;var p=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var m=this.container.outerWidth(),f=Math.abs(m-this.host.outerWidth()+2);if(this.rtl||(f-=2),m>this.host.width()){var v=23;this.container.css("left",v+parseInt(Math.round(h))-f+"px")}else this.container.css("left",25+parseInt(Math.round(h))+f+"px")}if(this.enableBrowserBoundsDetection){var g=this.testOffset(t,{left:parseInt(this.container.css("left")),top:parseInt(l)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=g.top?(p=!0,t.css("top",23),t.addClass(this.toThemeProperty("jqx-popup-up"))):t.css("top",0),this.container.css("top",g.top),parseInt(this.container.css("left"))!=g.left&&this.container.css("left",g.left)}if(this._raiseEvent(7,t),"none"!=this.animationType){this.container.css("display","block");var x=parseInt(t.outerHeight());t.stop(),this.isanimating=!0,this.opening=!0,"fade"==this.animationType?(t.css("margin-top",0),t.css("opacity",0),t.animate({opacity:1},this.openDelay,function(){n.isanimating=!1,n.opening=!1,e.data(document.body,"openedJQXCalendar"+n.id,t),n.calendarContainer.focus()}),this.timePopup&&(this.timeContainer.css("margin-top",0),this.timeContainer.css("opacity",0),this.timeContainer.animate({opacity:1},this.openDelay,function(){n.isanimating=!1,n.opening=!1,e.data(document.body,"openedJQXCalendar"+n.id,t),n.timeContainer.focus()}))):(t.css("opacity",1),this.timePopup&&this.timeContainer.css("opacity",1),p?t.css("margin-top",x):t.css("margin-top",-x),this.timePopup&&(p?this.timeContainer.css("margin-top",x):this.timeContainer.css("margin-top",-x),this.timeContainer.animate({"margin-top":0},this.openDelay,function(){n.isanimating=!1,n.opening=!1,e.data(document.body,"openedJQXCalendar"+n.id,t),n.timeContainer.focus()})),t.animate({"margin-top":0},this.openDelay,function(){n.isanimating=!1,n.opening=!1,e.data(document.body,"openedJQXCalendar"+n.id,t),n.calendarContainer.focus()}))}else t.stop(),n.isanimating=!1,n.opening=!1,t.css("opacity",1),t.css("margin-top",0),this.container.css("display","block"),e.data(document.body,"openedJQXCalendar"+n.id,t),this.calendarContainer.focus(),this.timePopup&&(this.timeContainer.stop(),this.timeContainer.css("opacity",1),this.timeContainer.css("margin-top",0),this.timeContainer.focus());null==this.value&&this._calendar&&this._calendar._getSelectedCell()&&(this._calendar._getSelectedCell().isSelected=!1),this.timePopup?(this.timeButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))):(this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))},hideCalendar:function(t){var i=this.calendarContainer,s=this.container,r=this;if(e.jqx.aria(this,"aria-expanded",!1),this.showTimeButton&&"hidden"!=this.timeContainer.css("visibility")&&"cancel"!=t)if("range"!=this.selectionMode){var a=this.getDate(),o=parseInt(this.hourInput.val()),n=parseInt(this.minuteInput.val()),l=parseInt(this.secondInput.val()),h=parseInt(this.mssecondInput.val()),d=this.meridianInput.val();isNaN(o)&&(o=0),isNaN(n)&&(n=0),isNaN(l)&&(l=0),isNaN(h)&&(h=0),"none"!=this.meridianInput.css("display")&&(d.toLowerCase().indexOf("p")>=0&&12>o&&(o+=12),d.toLowerCase().indexOf("a")>=0&&o>=12&&(o-=12)),a||(a=new Date),a.setHours(o,n,l,h),this.setDate(a)}else if(this.hourInput&&"selected"!=t){var c=this.getRange(),o=parseInt(this.hourInput.val()),n=parseInt(this.minuteInput.val()),l=parseInt(this.secondInput.val()),h=parseInt(this.mssecondInput.val()),d=this.meridianInput.val();isNaN(o)&&(o=0),isNaN(n)&&(n=0),isNaN(l)&&(l=0),isNaN(h)&&(h=0),"none"!=this.meridianInput.css("display")&&(d.toLowerCase().indexOf("p")>=0&&12>o&&(o+=12),d.toLowerCase().indexOf("a")>=0&&o>=12&&(o-=12));var u=c.from;u||(u=new Date),u.setHours(o,n,l,h);var o=parseInt(this.hourInput2.val()),n=parseInt(this.minuteInput2.val()),l=parseInt(this.secondInput2.val()),h=parseInt(this.mssecondInput2.val()),d=this.meridianInput2.val();""==n&&(n=0),""==l&&(l=0),""==h&&(h=0),"none"!=this.meridianInput2.css("display")&&(d.toLowerCase().indexOf("p")>=0&&12>o&&(o+=12),d.toLowerCase().indexOf("a")>=0&&o>=12&&(o-=12));var p=c.to;if(p||(p=new Date),p.setHours(o,n,l,h),p.valueOf()<u.valueOf())return!1;this.setRange(u,p)}else if("selected"==t)return;if(e.data(document.body,"openedJQXCalendar"+this.id,null),"none"!=this.animationType){var m=i.outerHeight();i.css("margin-top",0),this.showTimeButton&&this.timeContainer.css("margin-top",0),this.isanimating=!0;var f=-m;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(f=m),"fade"==this.animationType?i.animate({opacity:0},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1}):i.animate({"margin-top":f},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1}),this.showTimeButton&&("fade"==this.animationType?this.timeContainer.animate({opacity:0},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1}):this.timeContainer.animate({"margin-top":f},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1}))}else s.css("display","none");void 0!=t&&this._updateSelectedDate(t),this.timeButtonIcon.removeClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarButtonIcon.removeClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent(8,i)},_updateSelectedDate:function(){var t=this.value;null==t&&(t=new e.jqx._jqxDateTimeInput.getDateTime(new Date),t._setHours(0),t._setMinutes(0),t._setSeconds(0),t._setMilliseconds(0));var i=t.hour,s=t.minute,r=t.second,a=t.millisecond;if("range"==this.selectionMode&&null==this._calendar.getRange().from)return void this.setDate(null);var o=new e.jqx._jqxDateTimeInput.getDateTime(this._calendar.value.dateTime);o._setHours(i),o._setMinutes(s),o._setSeconds(r),o._setMilliseconds(a);var n=this.setDate(o.dateTime);if("range"==this.selectionMode&&!n&&this._oldDT){var l=this.getRange(),h=(this._oldDT,!1),d=!1,c=this._oldDT.from,o=l.from;null!=o&&c&&o.getFullYear()==c.getFullYear()&&o.getMonth()==c.getMonth()&&o.getDate()==c.getDate()&&o.getHours()==c.getHours()&&o.getMinutes()==c.getMinutes()&&o.getSeconds()==c.getSeconds()&&(h=!0);var o=l.to;if(null!=o&&(c=this._oldDT.to,c&&o.getFullYear()==c.getFullYear()&&o.getMonth()==c.getMonth()&&o.getDate()==c.getDate()&&o.getHours()==c.getHours()&&o.getMinutes()==c.getMinutes()&&o.getSeconds()==c.getSeconds()&&(d=!0)),h&&d)return!0;this._raiseEvent(0,{}),this._raiseEvent(9,{})}},_closeOpenedCalendar:function(t){var i=e(t.target),s=e.data(document.body,"openedJQXCalendar"+t.data.me.id),r=!1;if(e.each(i.parents(),function(){if(this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-calendar"))return r=!0,!1;if(-1!=this.className.indexOf("jqx-date-time-input-popup"))return r=!0,!1;if(-1!=this.className.indexOf("jqx-input"))return!1}}),e(t.target).ischildof(t.data.me.host))return!0;if(null!=t.target&&("B"==t.target.tagName||"b"==t.target.tagName)){var a=t.data.me.host.coord(),o=t.data.me.host.width(),n=t.data.me.host.height(),l=parseInt(a.top),h=parseInt(a.left);if(l<=t.pageY&&t.pageY<=l+n&&h<=t.pageX&&t.pageX<=h+o)return!0}if(null!=s&&!r&&s.length>0){var d=s[0].id.toString(),c=d.toString().substring(13),u=(e(document).find("#"+c),t.data.me.hideCalendar());u!==!1&&e.data(document.body,"openedJQXCalendar"+t.data.me.id,null)}},_loadItems:function(){if(null!=this.value){this.items=new Array;var e=this._getFormatValue(this.formatString);this.items=this._parseFormatValue(e),this.editors=new Array;for(var t=0;t<this.items.length;t++){var i=this.items[t].getDateTimeEditorByItemType(this.value,this);this.editors[t]=i}}this._updateEditorsValue(),this._updateText()},_updateText:function(){var t=this,i="";if(0==t.items.length&&null!=t.value&&t._loadItems(),null!=t.value){t.items.length>=1&&(i=t.format(t.value,0,t.items.length));var s=t.dateTimeInput.val();s!=i&&t._raiseEvent(1,t.value)}if("range"==t.selectionMode){var r=t.getRange();if(fromText=t.format(t.value,0,t.items.length),r.to){var a=e.jqx._jqxDateTimeInput.getDateTime(r.from);fromText=t.format(a,0,t.items.length);var o=e.jqx._jqxDateTimeInput.getDateTime(r.to);toText=t.format(o,0,t.items.length);var i=fromText+" - "+toText;" - "==i&&(i="")}else i=""}t.dateTimeInput.val(i)},format:function(e,t,i){for(var s="",r=t;i>r;++r){var a=this.items[r].dateParser(e,this);if(this.isEditing&&"ReadOnly"!=this.items[r].type&&"range"!=this.selectionMode){var o="Day"==this.items[r].type&&this.items[r].format.length>2;if("FORMAT_AMPM"==this.items[r].type&&(o=!0,a=0==this.editors[r].value?this.editors[r].amString:this.editors[r].pmString),!o)for(a=this.items[r].dateParserInEditMode(new Number(this.editors[r].value),"d"+this.editors[r].maxEditPositions,this);a.length<this.editors[r].maxEditPositions;)a="0"+a}s+=a}return s},_getFormatValueGroupLength:function(e){for(i=1;i<e.toString().length;++i)if(e.substring(i,i+1)!=e.substring(0,1))return i;return e.length},_parseFormatValue:function(t){for(var i=new Array,s=t.toString(),r=0;s.length>0;){var a=this._getFormatValueGroupLength(s),o=null;switch(s.substring(0,1)){case":":case"/":a=1,o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":var n=s.indexOf(s[0],1);o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(1,1+Math.max(1,n-1)),"ReadOnly",this.culture),a=Math.max(1,n+1);break;case"\\":s.length>=2&&(o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(1,1),"ReadOnly",this.culture),a=2);break;case"d":case"D":o=a>2?e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,a),"Day",this.culture):e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,a),"Day",this.culture);break;case"f":case"F":a>7&&(a=7),o=a>3?e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,a),"ReadOnly",this.culture):e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,a),"Millisecond",this.culture);break;case"g":o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,a),"ReadOnly",this.culture);break;case"h":o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,a),"FORMAT_hh",this.culture);break;case"H":o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,a),"FORMAT_HH",this.culture);break;case"m":o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,a),"Minute",this.culture);break;case"M":a>4&&(a=4),o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,a),"Month",this.culture);break;case"s":case"S":o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,a),"Second",this.culture);break;case"t":case"T":o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,a),"FORMAT_AMPM",this.culture);break;case"y":case"Y":a>1?o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,a),"Year",this.culture):(a=1,o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,1),dateTimeFormatInfo,"ReadOnly",this.culture));break;case"z":o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,a),"ReadOnly",this.culture);break;
default:a=1,o=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(s.substring(0,1),"ReadOnly",this.culture)}i[r]=e.extend(!0,{},o),s=s.substring(a),r++}return i},_getFormatValue:function(e){if((null==e||0==e.length)&&(e="d"),1==e.length)switch(e.substring(0,1)){case"d":return this.localization.calendar.patterns.d;case"D":return this.localization.calendar.patterns.D;case"t":return this.localization.calendar.patterns.t;case"T":return this.localization.calendar.patterns.T;case"f":return this.localization.calendar.patterns.f;case"F":return this.localization.calendar.patterns.F;case"M":return this.localization.calendar.patterns.M;case"Y":return this.localization.calendar.patterns.Y;case"S":return this.localization.calendar.patterns.S}return 2==e.length&&"%"==e.substring(0,1)&&(e=e.substring(1)),e},_updateEditorsValue:function(){var e=this.value;if(null!=e){var t=e.year,i=e.day,s=e.hour,r=e.millisecond,a=e.second,o=e.minute,n=e.month;if(null!=this.items)for(var l=0;l<this.items.length;l++)switch(this.items[l].type){case"FORMAT_AMPM":var h=s%12;0==h&&(h=12),s>=0&&12>s?this.editors[l].value=0:this.editors[l].value=1;break;case"Day":this.editors[l].value=i;break;case"FORMAT_hh":var h=s%12;0==h&&(h=12),this.editors[l].value=h;break;case"FORMAT_HH":this.editors[l].value=s;break;case"Millisecond":this.editors[l].value=r;break;case"Minute":this.editors[l].value=o;break;case"Month":this.editors[l].value=n;break;case"Second":this.editors[l].value=a;break;case"Year":this.editors[l].value=t}}},updateValue:function(){if(!(this.isEditing||this.items&&0==this.items.length)){for(var t=1,i=1,s=0,r=0,a=0,o=0,n=1,l=0,h=!1,d=!1,c=!1,u=!1,p=!1,m=!1,f=!1,v=new Array,g=null,x=0,b=0;b<this.items.length;b++)switch(this.items[b].type){case"FORMAT_AMPM":l=this.editors[b].value,g=this.editors[b];break;case"Character":break;case"Day":this.items[b].format.length<3&&(i=this.editors[b].value,v[x++]=this.editors[b],0==i&&(i=1),c=!0);break;case"FORMAT_hh":var y=this.editors[b];s=y.value,u=!0;break;case"FORMAT_HH":s=this.editors[b].value,u=!0;break;case"Millisecond":r=this.editors[b].value,f=!0;break;case"Minute":o=this.editors[b].value,p=!0;break;case"Month":n=this.editors[b].value,d=!0,0==n&&(n=1);break;case"ReadOnly":break;case"Second":a=this.editors[b].value,m=!0;break;case"Year":h=!0,t=this.editors[b].value;var w=this.editors[b].getDateTimeItem().format;if(w.length<3){var _="1900";if(4==_.Length){var T,j=""+_[0]+_[1];T=parseInt(j),t+=100*T}}0==t&&(t=1)}var q=null!=this.value?new Date(this.value.dateTime):null;if(t>0&&n>0&&i>0&&o>=0&&s>=0&&a>=0&&r>=0){var I=this.value;null!=I&&(h||(t=I.year),d||(n=I.month),c||(i=I.day));try{if(n>12&&(n=12),1>n&&(n=1),I._daysInMonth(t,n)<=i&&(i=I._daysInMonth(t,n),null!=v&&v.length>0))for(b=0;b<v.length;b++)v[b].value=i;null!=g&&(0==g.value?s>=12&&(s-=12):24>s+12&&(s+=12));this.value.dateTime.getDate();this.value._setYear(parseInt(t)),this.value._setDay(i),this.value._setMonth(n),u&&this.value._setHours(s),p&&this.value._setMinutes(o),m&&this.value._setSeconds(a),f&&this.value._setMilliseconds(r),this._validateTimeRange()}catch(C){this.value=I}if(null!=q){var S=this.value.dateTime.getFullYear()==q.getFullYear()&&this.value.dateTime.getDate()==q.getDate()&&this.value.dateTime.getMonth()==q.getMonth()&&this.value.dateTime.getHours()==q.getHours()&&this.value.dateTime.getMinutes()==q.getMinutes()&&this.value.dateTime.getSeconds()==q.getSeconds();if(!S){if(this.changing){var D=this.changing(q,this.value.dateTime);D&&(this.value=e.jqx._jqxDateTimeInput.getDateTime(D))}this._raiseEvent("0",this.value.dateTime),this.cookies&&null!=this.value&&e.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this.change&&this.change(this.value.dateTime)}}}var k=this.editors.indexOf(this.activeEditor);this.items[k];this.value&&(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)?this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid")):this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid")))}},_internalSetValue:function(e){this.value._setYear(parseInt(e.year)),this.value._setDay(e.day),this.value._setMonth(e.month),this.value._setHours(e.hour),this.value._setMinutes(e.minute),this.value._setSeconds(e.second),this.value._setMilliseconds(e.milisecond)},_raiseEvent:function(t,i,s){var r=this.events[t],a={};a.owner=this,null==i&&(i={}),null==s&&(s=i);var o=i.charCode?i.charCode:i.keyCode?i.keyCode:0,n=!0,l=this.readonly,h=new e.Event(r);if(h.owner=this,h.args=a,h.args.date=this.getDate(),this.element.value=this.dateTimeInput.val(),9==t&&"range"!=this.selectionMode){var d=h.args.date;if(this._oldDT){if(null!=d&&d.getFullYear()==this._oldDT.getFullYear()&&d.getMonth()==this._oldDT.getMonth()&&d.getDate()==this._oldDT.getDate()&&d.getHours()==this._oldDT.getHours()&&d.getMinutes()==this._oldDT.getMinutes()&&d.getSeconds()==this._oldDT.getSeconds())return!0;e.jqx.aria(this,"aria-valuenow",this.getDate()),e.jqx.aria(this,"aria-valuetext",this.getText()),null!=this.getDate()?e.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString()):e.jqx.aria(this,"aria-label","Current focused date is Null")}h.args.oldValue=s,h.args.newValue=h.args.date,this._oldDT&&(h.args.oldValue=this._oldDT)}if("range"==this.selectionMode){if(h.args.date=this.getRange(),this._oldDT){var d=h.args.date.from;if(9==t){var c=!1,u=!1,p=this._oldDT.from;null!=d&&p&&d.getFullYear()==p.getFullYear()&&d.getMonth()==p.getMonth()&&d.getDate()==p.getDate()&&d.getHours()==p.getHours()&&d.getMinutes()==p.getMinutes()&&d.getSeconds()==p.getSeconds()&&(c=!0);var d=h.args.date.to;if(null!=d&&(p=this._oldDT.to,p&&d.getFullYear()==p.getFullYear()&&d.getMonth()==p.getMonth()&&d.getDate()==p.getDate()&&d.getHours()==p.getHours()&&d.getMinutes()==p.getMinutes()&&d.getSeconds()==p.getSeconds()&&(u=!0)),c&&u)return!0;var c=h.args.date.from;c=null==c?"":c.toString();var u=h.args.date.to;u=null==u?"":u.toString(),e.jqx.aria(this,"aria-valuenow",c+"-"+u),e.jqx.aria(this,"aria-valuetext",this.getText()),c&&u&&e.jqx.aria(this,"aria-label","Current focused range is "+c.toLocaleString()+"-"+u.toLocaleString())}}h.args.oldValue=s,h.args.newValue=h.args.date,this._oldDT&&(h.args.oldValue=this._oldDT)}if("none"==this.host.css("display"))return!0;2!=t&&3!=t&&4!=t&&5!=t&&6!=t&&(n=this.host.trigger(h),h.stopPropagation&&h.stopPropagation());var m=this;if(l||2!=t||this.disabled||setTimeout(function(){m.isEditing=!0,"range"==this.selectionMode?m._selectGroup(-1):m._selectGroup(-1)},25),4==t){if(l||this.disabled){if((8==o||46==o)&&(this.isEditing=!1,this.allowKeyboardDelete&&(this.allowNullDate?this.setDate(null):"range"!=this.selectionMode?this.setDate(this.getMinDate()):this.setRange(this.getMinDate(),this.getMinDate()))),9==o)return!0;if(!i.altKey)return!1}n=this._handleKeyDown(i,o)}else if(5==t){if(9==o)return!0;if(l||this.disabled)return!1}else if(6==t){if(9==o)return!0;if(l||this.disabled)return!1;n=this._handleKeyPress(i,o)}return n},_doLeftKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var e=this.activeEditor,t=!1,i=this.editors.indexOf(this.activeEditor),s=i;if(this.enableAbsoluteSelection&&i>=0&&this.activeEditor.positions>0)return this.activeEditor.positions--,void this._selectGroup(i);for(;i>0;)if(this.activeEditor=this.editors[--i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){t=!0;break}return t||s>=0&&(this.activeEditor=this.editors[s]),null!=this.activeEditor&&e!=this.activeEditor&&"ReadOnly"!=this.items[i].type&&(this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0),this.activeEditor!=e?(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0):!1}},_doRightKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var e=this.activeEditor,t=!1,i=this.editors.indexOf(this.activeEditor),s=i;if(this.enableAbsoluteSelection&&i>=0&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1)return this.activeEditor.positions++,void this._selectGroup(i);for(;i<=this.editors.length-2;)if(this.activeEditor=this.editors[++i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){if("Day"==this.items[i].type&&this.items[i].format.length>2)break;t=!0;break}return t||s>=0&&(this.activeEditor=this.editors[s]),null!=this.activeEditor&&this.activeEditor!=e&&"ReadOnly"!=this.items[i].type&&(this.activeEditor.positions=0),this.activeEditor!=e?(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0):!1}},_saveSelectedText:function(){var e=this._selection(),t="",s=this.dateTimeInput.val();if(e.start>0||e.length>0)for(i=e.start;i<e.end;i++)t+=s[i];return window.clipboardData&&window.clipboardData.setData("Text",t),t},_selectWithAdvancePattern:function(){var e=this.editors.indexOf(this.activeEditor),t=!1;if("ReadOnly"!=this.items[e].type&&(t=!0),t){var i=this.activeEditor;if(null!=i){var s=i.positions==i.maxEditPositions;if(s){this.editorText="";var r=i.value,a=!1;switch(this.items[e].type){case"FORMAT_AMPM":0>r?r=0:r>1&&(r=1);break;case"Character":break;case"Day":1>r?r=1:r>31&&(r=31);break;case"FORMAT_hh":1>r?r=1:r>12&&(r=12);break;case"FORMAT_HH":0>r?r=0:r>23&&(r=23);break;case"Millisecond":0>r?r=0:r>99&&(r=99);break;case"Minute":0>r?r=0:r>59&&(r=59);break;case"Month":1>r?r=1:r>12&&(r=12);break;case"ReadOnly":break;case"Second":0>r?r=0:r>59&&(r=59);break;case"Year":r<this.minDate.year?r=this.minDate.year:r>this.maxDate.year&&(r=this.maxDate.year)}return i.value!=r&&(a=!0),a?!1:(this.isEditing=!1,this._validateValue(),this._updateText(),this.isEditing=!0,this._doRightKey(),!0)}}}},_handleKeyPress:function(e,t){var i=this._selection(),s=this,r=e.ctrlKey||e.metaKey;if(r&&97==t||r&&65==t)return!0;if(8==t)return i.start>0&&s._setSelectionStart(i.start),!1;if(46==t)return i.start<this.items.length&&s._setSelectionStart(i.start),!1;if(i.start>=0){var a=String.fromCharCode(t),o=parseInt(a);if(("p"==a||"a"==a||"A"==a||"P"==a)&&"FORMAT_AMPM"==this.activeEditor.item.type&&(0!=this.activeEditor.value||"p"!=a&&"P"!=a?1!=this.activeEditor.value||"a"!=a&&"A"!=a||this.spinDown():this.spinUp()),!isNaN(o)){"block"==this.container.css("display")&&this.hideCalendar(),this.updateValue(),this._updateText();var n=!1,l=this.editors.indexOf(this.activeEditor),h=null;if(this.isEditing=!0,"ReadOnly"!=l.type&&(h=this.activeEditor),null!=h&&0==h.positions&&(this.editorText=""),null==this.activeEditor&&(this.activeEditor=this.editors[0]),null==this.activeEditor)return!1;this.activeEditor.insert(a),null!=h&&this.editorText.length>=h.maxEditPositions&&(this.editorText=""),this.editorText+=a;var d=this._selectWithAdvancePattern();if(this.activeEditor.positions==this.activeEditor.maxEditPositions){var c=this._getLastEditableEditorIndex();this.editors.indexOf(this.activeEditor)==c&&d&&this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0}return n=!0,this.updateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!1}}var u=this._isSpecialKey(t);return u},_getLastEditableEditorIndex:function(){for(itemIndex=this.items.length-1;itemIndex>=0;itemIndex--)if("ReadOnly"!=this.items[itemIndex].type)return itemIndex;return-1},_handleKeyDown:function(t,i){var s=this;if(this.timePopup=!1,84==i&&(this.timePopup=!0),115==t.keyCode){if(s.isOpened())return s.hideCalendar("keyboard"),!1;if(!s.isOpened())return s.showCalendar("keyboard"),!1}if(t.altKey){if(38==t.keyCode){if(s.isOpened())return s.hideCalendar("keyboard"),!1}else if(40==t.keyCode&&!s.isOpened())return s.showCalendar("keyboard"),!1}else if(t.ctrlKey)if(this.timePopup=!0,38==t.keyCode){if(s.isOpened())return s.hideCalendar("keyboard"),!1}else if(40==t.keyCode&&!s.isOpened())return s.showCalendar("keyboard"),!1;if(!s.isOpened()){var r=(s._selection(),t.ctrlKey||t.metaKey);if(r&&99==i||r&&67==i)return s._saveSelectedText(t),!0;if(r&&122==i||r&&90==i)return!1;if(r&&118==i||r&&86==i||t.shiftKey&&45==i){var a=(s.val(),this),o=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');return e("body").append(o),o.select(),setTimeout(function(){var e=o.val();a.setDate(e),o.remove()},100),!0}if(8==i||46==i){if(t.altKey||r||46!=i){if(null!=s.activeEditor){var n=s.editors.indexOf(s.activeEditor);if(s.activeEditor.positions>=0){var l=s._format(Number(s.activeEditor.value),"d"+s.activeEditor.maxEditPositions,s.culture);if(tmp=l,tmp=tmp.substring(0,s.activeEditor.positions)+"0"+tmp.substring(s.activeEditor.positions+1),parseInt(tmp)<s.activeEditor.minValue&&(tmp=s._format(Number(s.activeEditor.minValue),"d"+s.activeEditor.maxEditPositions,s.culture)),s.enableAbsoluteSelection?s.activeEditor.value=tmp:s.activeEditor.value=s.activeEditor.minValue,s._validateValue(),s._updateText(),8==i){var h=this;s.enableAbsoluteSelection&&s.activeEditor.positions>0?setTimeout(function(){h.activeEditor.positions=h.activeEditor.positions-1,h._selectGroup(n)},10):setTimeout(function(){h._doLeftKey()},10)}else s._selectGroup(n)}else s._doLeftKey()}}else s.isEditing=!1,s.allowKeyboardDelete&&(s.allowNullDate?s.setDate(null):"range"!=s.selectionMode?s.setDate(s.getMinDate()):s.setRange(s.getMinDate(),s.getMinDate()));return!1}if(38==i)return this.spinUp(),!1;if(40==i)return this.spinDown(),!1;if(9==i){if(t.shiftKey)var d=this._doLeftKey();else var d=this._doRightKey();return d?!1:!0}if(37==i){if(this._editor){var d=this._doLeftKey();return d||(this.isEditing=!1,this._validateValue()),!d}var d=this._doLeftKey();return!1}if(39==i||191==i){if(this._editor){var d=this._doRightKey();return d||(this.isEditing=!1,this._validateValue()),!d}var d=this._doRightKey();return!1}var c=this._isSpecialKey(i);return null==this.value&&(i>=48&&57>=i||i>=96&&105>=i)&&(new Date>=this.getMinDate()&&new Date<=this.getMaxDate()?this.setDate(new Date):this.setDate(this.getMaxDate())),e.jqx.browser.mozilla?e.jqx.browser.mozilla&&e.jqx.browser.version>24?!0:c:!0}return 9==t.keyCode?(s.hideCalendar("selected"),!0):void 0},_isSpecialKey:function(e){return 8!=e&&9!=e&&13!=e&&35!=e&&36!=e&&37!=e&&39!=e&&27!=e&&46!=e?!1:!0},_selection:function(){if("selectionStart"in this.dateTimeInput[0]){var e=this.dateTimeInput[0],t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:e.value.length,length:0};var s=this.dateTimeInput[0].createTextRange(),r=s.duplicate();s.moveToBookmark(i.getBookmark()),r.setEndPoint("EndToStart",s);var t=i.text.length;return{start:r.text.length,end:r.text.length+i.text.length,length:t,text:i.text}},_selectGroup:function(e,t){if("none"!=this.host.css("display")&&!this.readonly){if(!t)var t=this._selection();for(var i="",s="",r=null,a=0;a<this.items.length;a++){if(s=this.items[a].dateParser(this.value,this),this.isEditing&&"ReadOnly"!=this.items[a].type){var o="Day"==this.items[a].type&&this.items[a].format.length>2;if(!o&&"FORMAT_AMPM"!=this.items[a].type)for(s=this.items[a].dateParserInEditMode(new Number(this.editors[a].value),"d"+this.editors[a].maxEditPositions,this);s.length<this.editors[a].maxEditPositions;)s="0"+s}if(i+=s,"ReadOnly"!=this.items[a].type&&!("Day"==this.items[a].type&&this.items[a].format.length>2))if(void 0!=e&&-1!=e){if(a>=e){var n=i.length-s.length,l=s.length;this.enableAbsoluteSelection&&!isNaN(parseInt(s))&&this.isEditing&&-1!=e&&(l=1,n+=this.editors[a].positions),n==this.dateTimeInput.val().length&&n--,this._setSelection(n,n+l),r=this.editors[a],this.activeEditor=r;break}}else if(i.length>=t.start){r=this.editors[a],this.activeEditor=r;var n=i.length-s.length,l=1;this.enableAbsoluteSelection?!isNaN(parseInt(s))&&this.isEditing&&-1!=e&&(l=1,n+=this.editors[a].positions):l=s.length,this._setSelection(n,n+l);break}}a<this.items.length&&-1==e&&"ReadOnly"!=this.items[a].type&&(this.activeEditor.positions=0);var h=this._selection();if(0==h.length&&h.start>0){this._getLastEditableEditorIndex()}}},_getLastEditableEditorIndex:function(){var e=-1;for(i=0;i<this.editors.length;i++)"ReadOnly"!=this.items[i].type&&("Day"==this.items[i].type&&this.items[i].format.length>2||(e=i));return e},_setSelection:function(e,t){try{if("selectionStart"in this.dateTimeInput[0])this.dateTimeInput[0].setSelectionRange(e,t);else{var i=this.dateTimeInput[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}catch(s){}},_setSelectionStart:function(e){this._setSelection(e,e)},destroy:function(){this.host.removeClass("jqx-rc-all"),this.timePopupElement&&this.timePopupElement.remove(),this._calendar.destroy(),this.container.remove(),this._removeHandlers(),this.dateTimeInput.remove(),this.host.remove()},refreshValue:function(){this._refreshValue()},refresh:function(e){1!=e&&(this._setSize(),this._arrange())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_setOption:function(e,t,i){"value"===e&&("range"!=this.selectionMode?this._oldDT=null:this._oldDT=null,this.value=t,this._refreshValue(),this._raiseEvent(9,{type:"api"})),"maxDate"==e&&(this._calendar.maxDate=t,this._raiseEvent(9,{type:"api"})),"minDate"==e&&(this._calendar.minDate=t,this._raiseEvent(9,{type:"api"})),"showCalendarButton"==e&&(t?this.calendarButton.css("display","block"):this.calendarButton.css("display","none")),"disabled"==e&&this.dateTimeInput.attr("disabled",t),"readonly"==e&&(this.readonly=t,this.dateTimeInput.css("readonly",t)),"textAlign"==e&&(this.dateTimeInput.css("text-align",t),this.textAlign=t),"width"==e?(this.width=t,this.width=parseInt(this.width),this._arrange()):"height"==e&&(this.height=t,this.height=parseInt(this.height),this._arrange())},_refreshValue:function(){this._updateEditorsValue(),this.updateValue(),this._validateValue(),this._updateText()}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DateTimeFormatItem={},e.extend(e.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(e,t,i){return this.format=e,this.type=t,this.culture=i,this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(e,t){if(null==e)return"";var i=t._format(e.dateTime,1==this.format.length?"%"+this.format:this.format,this.culture);return i},dateParserInEditMode:function(e,t,i){if(null==e)return"";var s=i._format(e.toString(),1==t.length?"%"+t:t,this.culture);return s},getDateTimeEditorByItemType:function(t,i){switch(this.type){case"FORMAT_AMPM":var s=e.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,t.hour/12,i.localization.calendar.AM[0],i.localization.calendar.PM[0],this,i),r=e.extend({},s);return r;case"Character":return null;case"Day":var a,o=t.year,n=t.month;a=3==this.format.length?i.localization.calendar.days.namesAbbr:this.format.length>3?i.localization.calendar.days.names:null;var l=t.day;null!=a&&(l=t.dayOfWeek+1);var h=e.jqx._jqxDateTimeInput.DateEditor._createDayEditor(t,t.day,1,t._daysInMonth(o,n),1==this.format.length?1:2,2,a,this,i),r=e.extend({},h);return r;case"FORMAT_hh":var d=t.hour%12;0==d&&(d=12);var c=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(d,1,12,1==this.format.length?1:2,2,this,i),r=e.extend({},c);return r;case"FORMAT_HH":var u=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.hour,0,23,1==this.format.length?1:2,2,this,i),r=e.extend({},u);return r;case"Millisecond":var p=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this,i),r=e.extend({},p);return r;case"Minute":var m=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.minute,0,59,1==this.format.length?1:2,2,this,i),r=e.extend({},m);return r;case"Month":var f;f=3==this.format.length?i.localization.calendar.months.namesAbbr:this.format.length>3?i.localization.calendar.months.names:null;var v=e.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(t.month,2==this.format.length?2:1,f,this,i),r=e.extend({},v);return r;case"ReadOnly":return e.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,t.day,this,i);case"Second":var g=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.second,0,59,1==this.format.length?1:2,2,this,i),r=e.extend({},g);return r;case"Year":var x=e.jqx._jqxDateTimeInput.DateEditor._createYearEditor(t.year,4,this,i),r=e.extend({},x);return r}return null}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DateEditor=e.extend(e.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:!1,handleDays:!1,handleMonths:!1,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},initializeFields:function(e,t,i,s,r){this.minValue=e,this.maxValue=t,this.minEditPositions=i,this.maxEditPositions=s,this.updateActiveEditor(e),this.item=r},_createYearEditor:function(t,i,s,r){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(0,4>i?99:9999,2==i?2:1,i>3?4:2,s),this.initializeYearEditor(t,i,s.culture),this.handleYears=!0,this.that=r,this},initializeYearEditor:function(e,t,i){this.formatValueLength=t,this.dateTimeFormatInfo=i;var s=e;s=Math.min(s,9999),s=Math.max(s,1),s=this.formatValueLength<4?s%100:s,this.updateActiveEditor(s),this.value=s},updateActiveEditor:function(e){this.value=e,this.positions=0},_createDayEditor:function(t,i,s,r,a,o,n,l,h){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(s,r,1,o,l),this.currentValue=t,this.value=i,this.days=n,this.handleDays=!0,this.that=h,this},getDayOfWeek:function(t){return typeof this.currentValue==e.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),t},defaultTextValue:function(){var e=(this.value,this.minEditPositions),t=e,i=this.that._format(this.value,"d"+t,"");return i},textValue:function(){if(this.handleDays){if(null==this.days)return this.defaultTextValue();var e=this.value%7+1;return e=this.getDayOfWeek(e),this.days[e]}return this.handleMonths?null==this.dateTimeMonths||this.value<1||this.value>12?this.defaultTextValue():this.dateTimeMonths[this.value-1]:this.defaultTextValue()},defaultInsertString:function(e){if(null==e)return this.deleteValue();if(0==e.length)return this.deleteValue();var t=e.substring(0,1);if(!isNaN(t)){var i,s=1,r=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);return i=r,this.positions>=this.maxEditPositions&&(this.positions=0),i=i.substring(0,this.positions)+t+i.substring(this.positions+1),i=this.setValueByString(i,s),!0}},setValueByString:function(e,t){e=this.fixValueString(e);var i=new Number(e);return this.value=i,this.positions+=t,e},fixValueString:function(e){return e.length>this.maxEditPositions&&(e=e.substring(e.length-this.maxEditPositions)),e},initializeValueString:function(e){var t;return t="",this.hasDigits()&&(t=e),t},deleteValue:function(){return this.value==this.minValue&&0==this.hasDigits()?!1:(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},insert:function(e){if(this.handleDays){if(null!=this.days){var t=!1;if(t=this.insertLongString(e,t))return t;if(t=this.insertShortString(e,t))return t}return 1==this.value&&null!=this.lastDayInput&&this.lastDayInput.toString().length>0&&"0"==this.lastDayInput.toString()&&(this.value=0),this.lastDayInput=e,this.defaultInsertString(e)}if(this.handleMonths&&null!=this.dateTimeMonths){var t=!1;if(t=this.insertLongString2(e,t))return t;if(t=this.insertShortString2(e,t))return t}return this.defaultInsertString(e)},insertShortString:function(e,t){if(1==e.length)for(i=0;i<6;++i){var s=(this.value+i)%7+1,r=this.days[s-1];if(r.substring(0,1)==e)return this.updateActiveEditor(s),t=!0}return t},insertLongString:function(e,t){if(e.length>0)for(i=0;i<6;++i){var s=(this.value+i)%7+1;if(this.days[s-1]==e)return this.updateActiveEditor(s),t=!0}return t},_createMonthEditor:function(t,i,s,r,a){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(1,12,i,2,r),this.dateTimeMonths=s,this.value=t,null!=this.dateTimeMonths&&null!=this.dateTimeMonths[12]&&this.dateTimeMonths[12].length>0&&(this.dateTimeMonths=null),this.handleMonths=!0,this.that=a,this},insertLongString2:function(e,t){if(e.length>0)for(i=0;i<11;++i)if(month=(this.value+i)%12+1,this.dateTimeMonths[month-1]==e)return this.updateActiveEditor(month),t=!0;return t},insertShortString2:function(e,t){if(1==e.length)for(i=0;i<11;++i){var s=(this.value+i)%12+1,r=this.dateTimeMonths[s-1];if(r.substring(0,1)==e)return this.updateActiveEditor(s),t=!0}return t},correctMaximumValue:function(e){return e>this.maxValue&&(e=this.minValue),e},correctMinimumValue:function(e){return e<this.minValue&&(e=this.maxValue),e},increaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(i=parseInt(i)+1,i>9&&(i=0),!e){var s=this.value+1;return s=this.correctMaximumValue(s),this.updateActiveEditor(s),!0}var r=t.substring(0,this.positions)+i+t.substring(this.positions+1);return r!=this.value||this.hasDigits()?(this.updateActiveEditor(r),!0):!1},decreaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(i=parseInt(i)-1,0>i&&(i=9),!e){var s=this.value-1;return s=this.correctMinimumValue(s),this.updateActiveEditor(s),!0}var r=t.substring(0,this.positions)+i+t.substring(this.positions+1);return r!=this.value||this.hasDigits()?(this.updateActiveEditor(r),!0):!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.NumberEditor={},e.extend(e.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},_createNumberEditor:function(t,i,s,r,a,o,n){return e.jqx._jqxDateTimeInput.NumberEditor=e.extend(!0,{},this),this.initializeFields(i,s,r,a,o),this.that=n,this},initializeFields:function(e,t,i,s,r){this.minValue=e,this.maxValue=t,this.minEditPositions=i,this.maxEditPositions=s,this.updateActiveEditor(e),this.item=r},updateActiveEditor:function(e){this.value=e,this.positions=0},getDayOfWeek:function(t){return typeof this.currentValue==e.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),t},textValue:function(){var e=(this.value,this.minEditPositions),t=e,i=this.that._format(this.value,"d"+t,"");return i},insert:function(e){if(null==e)return this.deleteValue();if(0==e.length)return this.deleteValue();var t=e.substring(0,1);if(!isNaN(t)){var i,s=1,r=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);return i=r,this.positions>=this.maxEditPositions&&(this.positions=0),i=i.substring(0,this.positions)+t+i.substring(this.positions+1),i=this.setValueByString(i,s),!0}},setValueByString:function(e,t){e=this.fixValueString(e);var i=new Number(e);return this.value=i,this.positions+=t,e},fixValueString:function(e){return e.length>this.maxEditPositions&&(e=e.substring(e.length-this.maxEditPositions)),e},initializeValueString:function(e){var t;return t="",this.hasDigits()&&(t=e),t},deleteValue:function(){return this.value==this.minValue&&0==this.hasDigits()?!1:(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},correctMaximumValue:function(e){return e>this.maxValue&&(e=this.minValue),e},correctMinimumValue:function(e){return e<this.minValue&&(e=this.maxValue),e},increaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(i=parseInt(i)+1,i>9&&(i=0),!e){var s=this.value+1;return s=this.correctMaximumValue(s),this.updateActiveEditor(s),!0}var r=t.substring(0,this.positions)+i+t.substring(this.positions+1);return r!=this.value||this.hasDigits()?(this.updateActiveEditor(r),!0):!1},decreaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(i=parseInt(i)-1,0>i&&(i=9),!e){var s=this.value-1;return s=this.correctMinimumValue(s),this.updateActiveEditor(s),!0}var r=t.substring(0,this.positions)+i+t.substring(this.positions+1);return r!=this.value||this.hasDigits()?(this.updateActiveEditor(r),!0):!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DisabledEditor={},e.extend(e.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(e,t,i,s,r,a){return this.format=e,this.value=-1,this.item=r,this.that=a,this},textValue:function(){return""},insert:function(e){return!1},deleteValue:function(){return!1},increaseValue:function(){return!1},decreaseValue:function(){return!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.AmPmEditor={},e.extend(e.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(e,t,i,s,r,a){return this.format=e,this.value=t,this.amString=i,this.pmString=s,this.item=r,this.that=a,i==s&&(this.amString="<"+i,this.pmString=">"+s),this},textValue:function(){var e=this.amString;return 0!=this.value&&(e=this.pmString),1==this.format.length&&e.length>1&&(e=e.substring(0,1)),e},insert:function(e){var t=e.toString();if(0==t.Length)return this.deleteValue();var i=!1;if(this.amString.Length>0&&this.pmString.Length>0){var s=amString[0],r=t[0],a=pmString[0];s.toString()==r.toString()?(this.value=0,i=!0):a.toString()==r.toString()&&(this.value=1,i=!0)}else this.pmString.Length>0?(this.value=1,i=!0):this.amString.Length>0&&(this.value=0,i=!0);return i},deleteValue:function(){var e=!0;if(0==this.amString.Length&&0!=this.pmString.Length){if(0==this.value)return!1;this.value=0}else{if(1==this.value)return!1;this.value=1}return e},increaseValue:function(){return this.value=1-this.value,!0},decreaseValue:function(){return this.increaseValue(),!0},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.getDateTime=function(e){var t={dateTime:new Date(e),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976e9,millisPerDay:864e5,millisPerHour:36e5,millisPerMinute:6e4,millisPerSecond:1e3,minTicks:0,minValue:0,ticksPerDay:864e9,ticksPerHour:36e9,ticksPerMillisecond:1e4,ticksPerMinute:6e8,ticksPerSecond:1e7,hour:e.getHours(),minute:e.getMinutes(),day:e.getDate(),second:e.getSeconds(),month:1+e.getMonth(),year:e.getFullYear(),millisecond:e.getMilliseconds(),dayOfWeek:e.getDay(),isWeekend:function(e){(void 0==e||null==e)&&(e=this.dateTime);var t=e.getDay()%6==0;return t},dayOfYear:function(e){(void 0==e||null==e)&&(e=this.dateTime);var t=new Date(e.getFullYear(),0,1);return Math.ceil((e-t)/864e5)},_setDay:function(e){(void 0==e||null==e)&&(e=0),this.dateTime.setDate(e),this.day=this.dateTime.getDate()},_setMonth:function(e){(void 0==e||null==e)&&(e=0),this.dateTime.setMonth(e-1),this.month=1+this.dateTime.getMonth()},_setYear:function(e){(void 0==e||null==e)&&(e=0),this.dateTime.setFullYear(e),this.year=this.dateTime.getFullYear()},_setHours:function(e){(void 0==e||null==e)&&(e=0),this.dateTime.setHours(e),this.hour=this.dateTime.getHours()},_setMinutes:function(e){(void 0==e||null==e)&&(e=0),this.dateTime.setMinutes(e),this.minute=this.dateTime.getMinutes()},_setSeconds:function(e){(void 0==e||null==e)&&(e=0),this.dateTime.setSeconds(e),
this.second=this.dateTime.getSeconds()},_setMilliseconds:function(e){(void 0==e||null==e)&&(e=0),this.dateTime.setMilliseconds(e),this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(e){var t=this.dateTime,i=t.getDate();return t.setDate(t.getDate()+e),i===t.getDate()&&t.setHours(t.getHours()+t.getTimezoneOffset()/60),t},_addWeeks:function(e){var t=this.dateTime;return t.setDate(t.getDate()+7*e),t},_addMonths:function(e){var t=this.dateTime;return t.setMonth(t.getMonth()+e),t},_addYears:function(e){var t=this.dateTime;return t.setFullYear(t.getFullYear()+e),t},_addHours:function(e){var t=this.dateTime;return t.setHours(t.getHours()+e),t},_addMinutes:function(e){var t=this.dateTime;return t.setMinutes(t.getMinutes()+e),t},_addSeconds:function(e){var t=this.dateTime;return t.setSeconds(t.getSeconds()+e),t},_addMilliseconds:function(e){var t=this.dateTime;return t.setMilliseconds(t.getMilliseconds()+e),t},_isLeapYear:function(e){if(1>e||e>9999)throw"invalid year";return e%4!=0?!1:e%100==0?e%400==0:!0},_dateToTicks:function(e,t,i){if(e>=1&&9999>=e&&t>=1&&12>=t){var s=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;if(i>=1&&i<=s[t]-s[t-1]){var e=e-1,r=365*e+e/4-e/100+e/400+s[t-1]+i-1;return 864e9*r}}},_daysInMonth:function(e,t){if(1>t||t>12)throw"Invalid month.";var i=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;return i[t]-i[t-1]},_timeToTicks:function(e,t,i){var s=3600*e+60*t+i;return 1e7*s},_equalDate:function(e){return this.year==e.getFullYear()&&this.day==e.getDate()&&this.month==e.getMonth()+1?!0:!1}};return t}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDropDownButton","",{}),e.extend(e.jqx._jqxDropDownButton.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,arrowSize:19,enableHover:!0,openDelay:250,closeDelay:300,animationType:"default",enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",popupZIndex:2e4,autoOpen:!1,rtl:!1,initContent:null,dropDownWidth:null,dropDownHeight:null,focusable:!0,touchMode:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","opening","closing"]};return e.extend(!0,this,t),t},createInstance:function(t){var i=this;i.width||(i.width="100%"),i.height||(i.height=28),i.isanimating=!1,i.setupInstance();var s=e("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropDownButtonArrow' unselectable='on'  style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");i.host.attr("tabindex")?(s.attr("tabindex",i.host.attr("tabindex")),i.host.removeAttr("tabindex")):s.attr("tabindex",0),i.focusable||s.removeAttr("tabIndex"),e.jqx.aria(this),i.popupContent=i.host.children(),i.host.attr("role","button"),0==i.popupContent.length?(i.popupContent=e("<div>"+i.host.text()+"</div>"),i.popupContent.css("display","block"),i.element.innerHTML=""):i.popupContent.detach();var r=this;i.addHandler(i.host,"loadContent",function(e){r._arrange()});try{var a="dropDownButtonPopup"+i.element.id,o=e(e.find("#"+a));o.length>0&&o.remove(),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-owns",a);var n=e("<div class='dropDownButton' style='overflow: hidden; left: -1000px; top: -1000px; position: absolute;' id='dropDownButtonPopup"+i.element.id+"'></div>");n.addClass(i.toThemeProperty("jqx-widget-content")),n.addClass(i.toThemeProperty("jqx-dropdownbutton-popup")),n.addClass(i.toThemeProperty("jqx-popup")),n.addClass(i.toThemeProperty("jqx-rc-all")),n.css("z-index",i.popupZIndex),e.jqx.browser.msie&&n.addClass(i.toThemeProperty("jqx-noshadow")),i.popupContent.appendTo(n),n.appendTo(document.body),i.container=n,i.container.css("visibility","hidden")}catch(l){}i.touch=e.jqx.mobile.isTouchDevice(),i.dropDownButtonStructure=s,i.host.append(s),i.dropDownButtonWrapper=i.host.find("#dropDownButtonWrapper"),i.firstDiv=i.dropDownButtonWrapper.parent(),i.dropDownButtonArrow=i.host.find("#dropDownButtonArrow"),i.arrow=e(i.dropDownButtonArrow.children()[0]),i.dropDownButtonContent=i.host.find("#dropDownButtonContent"),i.dropDownButtonContent.addClass(i.toThemeProperty("jqx-dropdownlist-content")),i.dropDownButtonWrapper.addClass(i.toThemeProperty("jqx-disableselect")),i.rtl&&i.dropDownButtonContent.addClass(i.toThemeProperty("jqx-rtl"));var h=this;i.host.parents()&&i.addHandler(i.host.parents(),"scroll.dropdownbutton"+i.element.id,function(e){var t=h.isOpened();t&&h.close()}),i.addHandler(i.dropDownButtonWrapper,"selectstart",function(){return!1}),i.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+i.element.id,i.dropDownButtonArrow[0].id="dropDownButtonArrow"+i.element.id,i.dropDownButtonContent[0].id="dropDownButtonContent"+i.element.id;var h=this;i.propertyChangeMap.disabled=function(t,i,s,r){r?(t.host.addClass(h.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(h.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.addClass(h.toThemeProperty("jqx-dropdownlist-content-disabled"))):(t.host.removeClass(h.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.removeClass(h.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.removeClass(h.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(t,"aria-disabled",t.disabled)},i.disabled&&(i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),i.dropDownButtonContent.addClass(i.toThemeProperty("jqx-dropdownlist-content-disabled")));var d=i.toThemeProperty("jqx-rc-all")+" "+i.toThemeProperty("jqx-fill-state-normal")+" "+i.toThemeProperty("jqx-widget")+" "+i.toThemeProperty("jqx-widget-content")+" "+i.toThemeProperty("jqx-dropdownlist-state-normal");if(i.host.addClass(d),i.arrow.addClass(i.toThemeProperty("jqx-icon-arrow-down")),i.arrow.addClass(i.toThemeProperty("jqx-icon")),i._setSize(),i.render(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(i.container.css("display","none"),i.host.parents(".jqx-window").length>0)){var c=i.host.parents(".jqx-window").css("z-index");n.css("z-index",c+10),i.container.css("z-index",c+10)}},setupInstance:function(){var t=this,i={setContent:function(e){t.dropDownButtonContent.children().remove(),t.dropDownButtonContent[0].innerHTML="",t.dropDownButtonContent.append(e)},val:function(e){return 0==arguments.length||"object"==typeof e?t.dropDownButtonContent.text():void t.dropDownButtonContent.html(e)},getContent:function(){return t.dropDownButtonContent.children().length>0?t.dropDownButtonContent.children():t.dropDownButtonContent.text()},_setSize:function(){null!=t.width&&-1!=t.width.toString().indexOf("px")?t.host[0].style.width=t.width:void 0==t.width||isNaN(t.width)||(t.host[0].style.width=parseInt(t.width)+"px"),null!=t.height&&-1!=t.height.toString().indexOf("px")?t.host[0].style.height=t.height:void 0==t.height||isNaN(t.height)||(t.host[0].style.height=parseInt(t.height)+"px");var i=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(i=!0,t.host.css("width",t.width)),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(i=!0,t.host.css("height",t.height));var s=this;i&&t.refresh(!1),e.jqx.utilities.resize(t.host,function(){s._arrange()})},isOpened:function(){var t=this,i=e.data(document.body,"openedJQXButton"+t.element.id);return null!=i&&i==t.popupContent?!0:!1},focus:function(){try{t.host.focus()}catch(e){}},render:function(){t.removeHandlers();var i=this,s=!1;t.touch||(t.addHandler(t.host,"mouseenter",function(){!i.disabled&&i.enableHover&&(s=!0,i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-hover")),i.arrow.addClass(i.toThemeProperty("jqx-icon-arrow-down-hover")),i.host.addClass(i.toThemeProperty("jqx-fill-state-hover")))}),t.addHandler(t.host,"mouseleave",function(){!i.disabled&&i.enableHover&&(i.host.removeClass(i.toThemeProperty("jqx-dropdownlist-state-hover")),i.host.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i.arrow.removeClass(i.toThemeProperty("jqx-icon-arrow-down-hover")),s=!1)})),i.autoOpen&&(t.addHandler(t.host,"mouseenter",function(){var e=i.isOpened();!e&&i.autoOpen&&(i.open(),i.host.focus())}),t.addHandler(e(document),"mousemove."+i.element.id,function(e){var t=i.isOpened();if(t&&i.autoOpen){var s=i.host.coord(),r=s.top,a=s.left,o=i.container.coord(),n=o.left,l=o.top;canClose=!0,e.pageY>=r&&e.pageY<=r+i.host.height()&&e.pageX>=a&&e.pageX<a+i.host.width()&&(canClose=!1),e.pageY>=l&&e.pageY<=l+i.container.height()&&e.pageX>=n&&e.pageX<n+i.container.width()&&(canClose=!1),canClose&&i.close()}})),t.addHandler(t.dropDownButtonWrapper,"mousedown",function(e){if(!i.disabled){var t="visible"==i.container.css("visibility");if(!i.isanimating){if(t)return i.close(),!1;i.open(),i.focusable||e.preventDefault&&e.preventDefault()}}}),t.touch&&t.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+t.element.id,i.closeOpenedDropDown,{me:this,popup:t.container,id:t.element.id}),t.addHandler(e(document),"mousedown."+t.element.id,i.closeOpenedDropDown,{me:this,popup:t.container,id:t.element.id}),t.addHandler(t.host,"keydown",function(e){var t="visible"==i.container.css("visibility");return"none"==i.host.css("display")?!0:("13"==e.keyCode&&(i.isanimating||t&&i.close()),115==e.keyCode?(i.isanimating||(i.isOpened()?i.isOpened()&&i.close():i.open()),!1):(e.altKey&&"block"==i.host.css("display")&&(38==e.keyCode?i.isOpened()&&i.close():40==e.keyCode&&(i.isOpened()||i.open())),void("27"==e.keyCode&&(i.ishiding||(i.close(),void 0!=i.tempSelectedIndex&&i.selectIndex(i.tempSelectedIndex))))))}),t.addHandler(t.firstDiv,"focus",function(){i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),i.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(t.firstDiv,"blur",function(){i.host.removeClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus"))})},removeHandlers:function(){var i=this;t.removeHandler(t.dropDownButtonWrapper,"mousedown"),t.removeHandler(t.host,"keydown"),t.removeHandler(t.firstDiv,"focus"),t.removeHandler(t.firstDiv,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.autoOpen&&(t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave")),t.removeHandler(e(document),"mousemove."+i.element.id)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(i,s,r){var a=i.outerWidth(),o=i.outerHeight(),n=e(window).width()+e(window).scrollLeft(),l=e(window).height()+e(window).scrollTop();if(s.left+a>n&&a>t.host.width()){var h=t.host.coord().left,d=a-t.host.width();s.left=h-d+2}return s.left<0&&(s.left=parseInt(t.host.coord().left)+"px"),s.top-=Math.min(s.top,s.top+o>l&&l>o?Math.abs(o+r+22):0),s},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},open:function(){e.jqx.aria(this,"aria-expanded",!0);var t=this,i=this;if((null==t.dropDownWidth||"auto"==t.dropDownWidth)&&null!=t.width&&t.width.indexOf&&-1!=t.width.indexOf("%")){var s=t.host.outerWidth();t.container.css({width:parseInt(s,10)})}i._raiseEvent("2");var r,a=t.popupContent,o=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(t._findPos(t.host[0])[1])+parseInt(t.host.outerHeight())-1+"px"),n=parseInt(Math.round(t.host.coord(!0).left));r=n+"px";var l=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();t.ishiding=!1,t.tempSelectedIndex=t.selectedIndex,null!=l&&l&&(r=e.jqx.mobile.getLeftPos(t.element),o=e.jqx.mobile.getTopPos(t.element)+parseInt(t.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(o=parseInt(o)-t._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(r=parseInt(r)-t._getBodyOffset().left+"px")),a.stop(),t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-selected")),t.host.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected"));var h=!1;e.jqx.browser.msie&&e.jqx.browser.version<8&&(h=!0),h&&t.container.css("display","block"),t.container.css("left",r),t.container.css("top",o);var d=!1,c=function(){if("right"==t.dropDownHorizontalAlignment||t.rtl){var e=t.container.width(),i=Math.abs(e-t.host.width());e>t.host.width()?t.container.css("left",parseInt(Math.round(n))-i+"px"):t.container.css("left",parseInt(Math.round(n))+i+"px")}};if(c.call(this),t.enableBrowserBoundsDetection){var u=t.testOffset(a,{left:parseInt(t.container.css("left")),top:parseInt(o)},parseInt(t.host.outerHeight()));parseInt(t.container.css("top"))!=u.top?(d=!0,t.container.css({height:a.outerHeight()}),a.css("top",23),t.interval&&clearInterval(t.interval),t.interval=setInterval(function(){if(a.outerHeight()!=i.container.height()){var e=i.testOffset(a,{left:parseInt(i.container.css("left")),top:parseInt(o)},parseInt(i.host.outerHeight()));i.container.css("top",e.top),i.container.css({height:a.outerHeight()})}},50)):a.css("top",0),t.container.css("top",u.top),parseInt(t.container.css("left"))!=u.left&&t.container.css("left",u.left)}if("none"==t.animationType)t.container.css("visibility","visible"),e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+t.element.id,a),a.css("margin-top",0),a.css("opacity",1),t._raiseEvent("0"),c.call(i);else{t.container.css("visibility","visible");var p=a.outerHeight();i.isanimating=!0,"fade"==t.animationType?(a.css("margin-top",0),a.css("opacity",0),a.animate({opacity:1},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,a),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")}),c.call(i)):(a.css("opacity",1),d?a.css("margin-top",p):a.css("margin-top",-p),c.call(i),a.animate({"margin-top":0},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,a),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")}))}d?(t.host.addClass(t.toThemeProperty("jqx-rc-t-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-b-expanded"))):(t.host.addClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-t-expanded"))),t.focusable&&(t.firstDiv.focus(),setTimeout(function(){i.firstDiv.focus()},10)),t.container.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))},close:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this,i=t.popupContent,s=t.container,r=this;r._raiseEvent("3");var a=!1;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(a=!0),t.isOpened()){if(e.data(document.body,"openedJQXButton"+t.element.id,null),"none"==t.animationType)t.container.css("visibility","hidden"),a&&t.container.css("display","none");else if(!r.ishiding){r.isanimating=!0,i.stop();var o=i.outerHeight();i.css("margin-top",0);var n=-o;parseInt(t.container.coord().top)<parseInt(t.host.coord().top)&&(n=o),"fade"==t.animationType?(i.css({opacity:1}),i.animate({opacity:0},t.closeDelay,function(){s.css("visibility","hidden"),r.isanimating=!1,r.ishiding=!1,a&&s.css("display","none")})):i.animate({"margin-top":n},t.closeDelay,function(){s.css("visibility","hidden"),r.isanimating=!1,r.ishiding=!1,a&&s.css("display","none")})}t.ishiding=!0,t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-selected")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected")),t.host.removeClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.removeClass(t.toThemeProperty("jqx-rc-t-expanded")),t.host.removeClass(t.toThemeProperty("jqx-rc-t-expanded")),t.container.removeClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._raiseEvent("1")}},closeOpenedDropDown:function(t){var i=t.data.me,s=e(t.target);if(e(t.target).ischildof(t.data.me.host))return!0;if(e(t.target).ischildof(t.data.me.popupContent))return!0;var r=!1;return e.each(s.parents(),function(){return"undefined"!=this.className&&this.className.indexOf&&-1!=this.className.indexOf("dropDownButton")?(r=!0,!1):void 0}),r||i.close(),!0},refresh:function(){t._arrange()},_arrange:function(){var e=this,t=parseInt(e.host.width()),i=parseInt(e.host.height()),s=(e.arrowSize,e.arrowSize),r=3,a=t-s-2*r;if(a>0&&(e.dropDownButtonContent[0].style.width=a+"px"),e.dropDownButtonContent[0].style.height=parseInt(i)+"px",e.dropDownButtonContent[0].style.left="0px",e.dropDownButtonContent[0].style.top="0px",e.dropDownButtonArrow[0].style.width=parseInt(s)+"px",e.dropDownButtonArrow[0].style.height=parseInt(i)+"px",e.rtl&&(e.dropDownButtonArrow.css("float","left"),e.dropDownButtonContent.css("float","right"),e.dropDownButtonContent.css("left",-r)),null!=e.dropDownWidth)if(e.dropDownWidth.toString().indexOf("%")>=0){var t=parseInt(e.dropDownWidth)*e.host.width()/100;e.container.css({width:t})}else e.container.css({width:e.dropDownWidth});null!=e.dropDownHeight&&e.container.css({height:e.dropDownHeight})},destroy:function(){var t=this;t.removeHandler(t.dropDownButtonWrapper,"selectstart"),t.removeHandler(t.dropDownButtonWrapper,"mousedown"),t.removeHandler(t.host,"keydown"),t.host.removeClass(),t.removeHandler(e(document),"mousedown."+t.element.id,self.closeOpenedDropDown),t.host.remove(),t.container.remove()},_raiseEvent:function(i,s){void 0==s&&(s={owner:null}),2!=i||t.contentInitialized||t.initContent&&(t.initContent(),t.contentInitialized=!0);var r=t.events[i];args=s,args.owner=this;var a=new e.Event(r);a.owner=this,(2==i||3==i||4==i)&&(a.args=s);var o=t.host.trigger(a);return o},resize:function(e,i){t.width=e,t.height=i,t._setSize(),t._arrange()},propertyChangedHandler:function(i,s,r,a){void 0!=t.isInitialized&&0!=t.isInitialized&&("rtl"==s&&(a?(i.dropDownButtonArrow.css("float","left"),i.dropDownButtonContent.css("float","right")):(i.dropDownButtonArrow.css("float","right"),i.dropDownButtonContent.css("float","left"))),"autoOpen"==s&&i.render(),"theme"==s&&null!=a&&e.jqx.utilities.setTheme(r,a,i.host),("width"==s||"height"==s)&&(i._setSize(),i._arrange()))}};e.extend(!0,this,i)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDropDownList","",{}),e.extend(e.jqx._jqxDropDownList.prototype,{defineInstance:function(){var t={disabled:!1,width:e.jqx.utilities.dropdown_width,height:e.jqx.utilities.dropdown_height,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:9999999999999,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete"]};return e.extend(!0,this,t),t},createInstance:function(e){this.render()},render:function(){var t=this;t.width||(t.width=e.jqx.utilities.dropdown_width),t.height||(t.height=e.jqx.utilities.dropdown_height);var i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var s={title:t.field.title};t.field.id.length?s.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":s.id=e.jqx.utilities.createId()+"_jqxDropDownList";var r=e("<div></div>",s);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),e(t.field).hide().after(r);var a=t.host.data();if(t.host=r,t.host.data(a),t.element=r[0],t.element.id=t.field.id,t.field.id=s.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var o=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=o}var n=e.jqx.parseSourceTag(t.field);t.source=n.items,-1==t.selectedIndex&&(t.selectedIndex=n.index)}t.element.innerHTML="",t.isanimating=!1,t.id=t.element.id||e.jqx.utilities.createId(),t.host.attr("role","combobox"),e.jqx.aria(t,"aria-autocomplete","both"),e.jqx.aria(t,"aria-readonly",!1);var l="<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>";if(null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");t.host.attr("tabindex")||t.host.attr("tabindex",0);t.touch=e.jqx.mobile.isTouchDevice(),t.comboStructure=l,t.element.innerHTML=l,t.dropdownlistWrapper=e(t.element.firstChild.firstChild),t.dropdownlistArrow=e(t.dropdownlistWrapper[0].firstChild.nextSibling),t.arrow=e(t.dropdownlistArrow[0].firstChild),t.dropdownlistContent=e(t.dropdownlistWrapper[0].firstChild),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content jqx-disableselect")),t.rtl&&t.dropdownlistContent.addClass(t.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl")),t.addHandler(t.dropdownlistWrapper,"selectstart",function(){return!1}),t.dropdownlistWrapper[0].id="dropdownlistWrapper"+t.element.id,t.dropdownlistArrow[0].id="dropdownlistArrow"+t.element.id,t.dropdownlistContent[0].id="dropdownlistContent"+t.element.id,t._addInput(),"Please Choose:"!=t.promptText&&(t.placeHolder=t.promptText);var h=t.toThemeProperty("jqx-widget")+" "+t.toThemeProperty("jqx-dropdownlist-state-normal")+" "+t.toThemeProperty("jqx-rc-all")+" "+t.toThemeProperty("jqx-fill-state-normal");t.element.className+=" "+h,t._firstDiv=e(t.element.firstChild);try{var d="listBox"+t.id,c=e(e.find("#"+d));c.length>0&&c.remove(),e.jqx.aria(t,"aria-owns",d),e.jqx.aria(t,"aria-haspopup",!0);var u=e("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+t.id+"'><div id='innerListBox"+t.id+"'></div></div>");u.hide(),u.appendTo(document.body),t.container=u,t.listBoxContainer=e(e.find("#innerListBox"+t.id));var p=t.width;"auto"!=t.dropDownWidth&&(p=t.dropDownWidth),null==p&&(p=t.host.width(),0==p&&(p=t.dropDownWidth)),null==t.dropDownHeight&&(t.dropDownHeight=200);t.container.css({width:parseInt(p,10)}),t.container.css({height:parseInt(t.dropDownHeight)+25}),t.addHandler(t.listBoxContainer,"bindingComplete",function(i){t.listBox||(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance),t.selectedIndex!=t.listBoxContainer.jqxListBox("selectedIndex")?(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBoxContainer.jqxListBox({selectedIndex:t.selectedIndex}),t.renderSelection("mouse")):t.renderSelection("mouse"),t._raiseEvent("6")}),t.listBoxContainer.jqxListBox({filterHeight:t.filterHeight,filterPlaceHolder:t.filterPlaceHolder,filterDelay:t.filterDelay,filterable:t.filterable,allowDrop:!1,allowDrag:!1,autoBind:t.autoBind,_checkForHiddenParent:!1,focusable:t.focusable,touchMode:t.touchMode,checkboxes:t.checkboxes,rtl:t.rtl,_renderOnDemand:!0,emptyString:t.emptyString,itemHeight:t.itemHeight,width:p,searchMode:t.searchMode,incrementalSearch:t.incrementalSearch,incrementalSearchDelay:t.incrementalSearchDelay,groupMember:t.groupMember,searchMember:t.searchMember,displayMember:t.displayMember,valueMember:t.valueMember,height:t.dropDownHeight,autoHeight:t.autoDropDownHeight,scrollBarSize:t.scrollBarSize,selectedIndex:t.selectedIndex,source:t.source,theme:t.theme,rendered:function(){t.selectedIndex!=t.listBoxContainer.jqxListBox("selectedIndex")?(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBoxContainer.jqxListBox({selectedIndex:t.selectedIndex}),t.renderSelection("mouse")):t.renderSelection("mouse")},renderer:t.renderer}),t.listBoxContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBox.enableSelection=t.enableSelection,t.listBox.enableHover=t.enableHover,t.listBox.equalItemsWidth=t.equalItemsWidth,t.listBox.selectIndex(t.selectedIndex),t.listBox._arrange(),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.addHandler(t.listBoxContainer,"unselect",function(e){t._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),t.addHandler(t.listBoxContainer,"change",function(e){e.args&&("keyboard"!=e.args.type?t._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}):"keyboard"==e.args.type&&(t.isOpened()||t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})))}),"none"==t.animationType?t.container.css("display","none"):t.container.hide()}catch(m){console&&console.log(m)}var t=t;if(t.propertyChangeMap.disabled=function(i,s,r,a){a?(i.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))):(i.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.removeClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(i,"aria-disabled",i.disabled)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.arrow.addClass(t.toThemeProperty("jqx-icon")),"simple"===t.renderMode&&(t.arrow.remove(),t.host.removeClass(t.toThemeProperty("jqx-fill-state-normal")),t.host.removeClass(t.toThemeProperty("jqx-rc-all"))),t._updateHandlers(),t._setSize(),t._arrange(),t.listBox&&t.renderSelection(),e.jqx.browser.msie&&e.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0){var f=t.host.parents(".jqx-window").css("z-index");u.css("z-index",f+10),t.listBoxContainer.css("z-index",f+10)}},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},val:function(e){if(!this.dropdownlistContent)return"";var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"==typeof e?!1:!0};if(this.input&&(t(e)||0==arguments.length))return this.input.val();var i=this.getItemByValue(e);return null!=i&&this.selectItem(i),this.input?this.input.val():void 0},focus:function(){try{var e=this,t=function(){e.host.focus(),e._firstDiv&&e._firstDiv.focus()};t(),setTimeout(function(){t()},10)}catch(i){}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.css({width:this.width}):void 0==this.width||isNaN(this.width)||this.host.css({width:this.width}),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.css({height:this.height}):void 0==this.height||isNaN(this.height)||this.host.css({height:this.height});var t=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.host.css({width:this.width})),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.host.css({height:this.height}));var i=this,s=function(){if(i._arrange(),"auto"==i.dropDownWidth){var e=i.host.width();i.listBoxContainer.jqxListBox({width:e}),i.container.css({width:parseInt(e)+25})}};if(t){var r=this.host.outerWidth();"auto"!=this.dropDownWidth&&(r=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:r}),this.container.css({width:parseInt(r)})}e.jqx.utilities.resize(this.host,function(){s()},!1,this._checkForHiddenParent)},isOpened:function(){var t=this,i=e.data(document.body,"openedJQXListBox"+this.id);return null!=i&&i==t.listBoxContainer?!0:!1},_updateHandlers:function(){var t=this,i=!1;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(i=!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),i=!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(e){var i=t.isOpened();i&&t.close()});var s="mousedown";this.touch&&(s=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,s,function(e){if(!t.disabled){var i="block"==t.container.css("display");if(!t.isanimating){if(i)return t.hideListBox(),!1;t.showListBox(),t.focusable?t.focus():e.preventDefault&&e.preventDefault()}}}),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var e=t.isOpened();!e&&t.autoOpen&&(t.open(),t.host.focus())}),e(document).on("mousemove."+t.id,function(e){var i=t.isOpened();if(i&&t.autoOpen){var s=t.host.coord(),r=s.top,a=s.left,o=t.container.coord(),n=o.left,l=o.top;canClose=!0,e.pageY>=r&&e.pageY<=r+t.host.height()&&e.pageX>=a&&e.pageX<a+t.host.width()&&(canClose=!1),e.pageY>=l&&e.pageY<=l+t.container.height()&&e.pageX>=n&&e.pageX<n+t.container.width()&&(canClose=!1),canClose&&t.close()}})),this.touch?this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var i="block"==t.container.css("display");if("none"==t.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&!t.isanimating)return i&&(t.renderSelection(),"13"==e.keyCode&&t.focusable&&t._firstDiv.focus(),
t.hideListBox(),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"13"==e.keyCode&&t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})),i&&"9"!=e.keyCode?!1:!0;if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox():t.showListBox()),!1;if(e.altKey&&"block"==t.host.css("display"))if(38==e.keyCode){if(t.isOpened())return t.hideListBox(),!0}else if(40==e.keyCode&&!t.isOpened())return t.showListBox(),!0;return"27"!=e.keyCode||t.ishiding?t.disabled?void 0:(t._kbnavigated=t.listBox._handleKeyDown(e),t._kbnavigated):(t.isOpened()&&(t.hideListBox(),void 0!=t.tempSelectedIndex&&t.selectIndex(t.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(e){t.renderSelection(),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!t.disabled){if(!e.args)return;"keyboard"!=e.args.type||t.isOpened()||t.renderSelection(),("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(),t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item,originalEvent:e.args.originalEvent}),"mouse"==e.args.type&&(t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus())))}}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0;t.renderSelection("mouse"),t.touch||t.ishiding||t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus()),t.keyboardSelection||(t._kbnavigated===!1&&(t.tempSelectedIndex!=t.selectedIndex&&t._raiseEvent("4",{index:t.selectedIndex,type:"mouse",item:t.getItem(t.selectedIndex)}),t._kbnavigated=!0),void 0==t._oldSelectedInd&&(t._oldSelectedIndx=t.selectedIndex),t.selectedIndex!=t._oldSelectedIndx&&(t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),t._oldSelectedIndx=t.selectedIndex))}}),this.addHandler(this.host,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var t=this,i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,i),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+t.id)},getItem:function(e){var t=this.listBox.getItem(e);return t},getItemByValue:function(e){var t=this.listBox.getItemByValue(e);return t},selectItem:function(e){void 0!=this.listBox&&(this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(e){void 0!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"))},checkItem:function(e){void 0!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){void 0!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){void 0!=this.listBox&&this.listBox.indeterminateItem(e)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var t=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var i in this.listBox.selectedValues){var s=this.listBox.selectedValues[i],r=this.listBox.getItemByValue(s);r&&(t=r)}if(this.checkboxes){var a=this.getCheckedItems();t=null!=a&&a.length>0?a[0]:null}if(null==t){var o=e('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');o.appendTo(e(document.body)),o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-listitem-state-normal")),o.addClass(this.toThemeProperty("jqx-item")),e.jqx.utilities.html(o,this.placeHolder);var n=this.dropdownlistContent.css("padding-top"),l=this.dropdownlistContent.css("padding-bottom");o.css("padding-top",n),o.css("padding-bottom",l);var h=o.outerHeight();o.remove(),o.removeClass(),e.jqx.utilities.html(this.dropdownlistContent,o);var d=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height));parseInt((parseInt(d)-parseInt(h))/2);return this.selectionRenderer?(e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(o,-1,"","")),this._updateInputSelection()):this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex;var o=e(document.createElement("span"));o[0].setAttribute("unselectable","on");try{o[0].style.color="inherit"}catch(c){}o[0].style.borderWidth="0px",o[0].style.backgroundColor="transparent",o.appendTo(e(document.body)),o.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"));var u=!1;try{void 0!=t.html&&null!=t.html&&t.html.toString().length>0?e.jqx.utilities.html(o,t.html):void 0!=t.label&&null!=t.label&&t.label.toString().length>0?e.jqx.utilities.html(o,t.label):null===t.label||""===t.label?(u=!0,e.jqx.utilities.html(o,"")):void 0!=t.value&&null!=t.value&&t.value.toString().length>0?e.jqx.utilities.html(o,t.value):void 0!=t.title&&null!=t.title&&t.title.toString().length>0?e.jqx.utilities.html(o,t.title):(""==t.label||null==t.label)&&(u=!0,e.jqx.utilities.html(o,""))}catch(p){}var n=this.dropdownlistContent[0].style.paddingTop,l=this.dropdownlistContent[0].style.paddingBottom;""===n&&(n="0px"),""===l&&(l="0px"),o[0].style.paddingTop=n,o[0].style.paddingBottom=l;var h=o.outerHeight();0===h&&(h=16),""!=t.label&&null!=t.label||!u||e.jqx.utilities.html(o,"");var m=this.width&&this.width.toString().indexOf("%")<=0;if(o.remove(),o.removeClass(),this.selectionRenderer)e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(o,t.index,t.label,t.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var f=this.getCheckedItems(),v="",g=0;g<f.length;g++)v+=g==f.length-1?f[g].label:f[g].label+",";o.text(v),m&&o.css("max-width",this.host.width()-30),o.css("overflow","hidden"),o.css("display","block"),this.rtl||m&&o.css("width",this.host.width()-30),o.css("text-overflow","ellipsis"),o.css("padding-bottom",1+parseInt(l)),this.dropdownlistContent.html(o),this.focusable&&this.isOpened()&&this.focus()}else{var x=this.host.width()-this.arrowSize-3;this.width&&"auto"!==this.width&&(m&&(this.rtl||o.css("max-width",x+"px")),o[0].style.overflow="hidden",o[0].style.display="block",o[0].style.paddingTop=1+parseInt(l)+"px",this.rtl||m&&(o[0].style.width=x+"px"),o[0].style.textOverflow="ellipsis"),this.dropdownlistContent[0].innerHTML=o[0].innerHTML,this.focusable&&this.isOpened()&&this.focus()}var d=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height));parseInt((parseInt(d)-parseInt(h))/2);this.selectionRenderer,this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var t=new Array;if(-1==this.selectedIndex)this.input.val("");else{var i=this.getSelectedItem();null!=i?(this.input.val(i.value),t.push(i.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var s=this.getCheckedItems(),r="";if(null!=s)for(var a=0;a<s.length;a++){var o=s[a].value;void 0!=o&&(r+=a==s.length-1?o:o+",",t.push(o))}this.input.val(r)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,s){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,s){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(t){e.jqx.utilities.html(this.dropdownlistContent,t),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(t){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||e.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(e,t){isNaN(e)||(this.listBox.unselectIndex(e,t),this.renderSelection())},selectIndex:function(e,t,i,s){this.listBox.selectIndex(e,t,i,s,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(e){return this.listBox.addItem(e)},insertAt:function(e,t){return null==e?!1:this.listBox.insertAt(e,t)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){return this.listBox.disableAt(e)},enableAt:function(e){return this.listBox.enableAt(e)},disableItem:function(e){return this.listBox.disableItem(e)},enableItem:function(e){return this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(t,i,s){var r=t.outerWidth(),a=t.outerHeight(),o=e(window).width()+e(window).scrollLeft(),n=e(window).height()+e(window).scrollTop();if(i.left+r>o&&r>this.host.width()){var l=this.host.coord().left,h=r-this.host.width();i.left=l-h+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+a>n&&n>a?Math.abs(a+s+22):0),i},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(){if(e.jqx.aria(this,"aria-expanded",!0),this.listBox._renderOnDemand&&this.listBoxContainer.jqxListBox({_renderOnDemand:!1}),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.outerWidth()){var t=this.host.outerWidth();this.listBoxContainer.jqxListBox({width:t}),this.container.css({width:parseInt(t,10)})}var i,s=this,r=this.listBoxContainer,a=this.listBox,o=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),n=parseInt(Math.round(this.host.coord(!0).left));i=n+"px";var l=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();if(null!=this.listBox){this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.css({height:this.listBoxContainer.height()+25}),null!=l&&l&&(i=e.jqx.mobile.getLeftPos(this.element),o=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(o=parseInt(o)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(i=parseInt(i)-this._getBodyOffset().left+"px")),r.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",i),this.container.css("top",o),a._arrange();var h=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var d=this.container.outerWidth(),c=Math.abs(d-this.host.width());d>this.host.width()?this.container.css("left",25+parseInt(Math.round(n))-c+"px"):this.container.css("left",25+parseInt(Math.round(n))+c+"px")}if(this.enableBrowserBoundsDetection){var u=this.testOffset(r,{left:parseInt(this.container.css("left")),top:parseInt(o)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=u.top?(h=!0,r.css("top",9),r.addClass(this.toThemeProperty("jqx-popup-up"))):r.css("top",0),this.container.css("top",u.top),parseInt(this.container.css("left"))!=u.left&&this.container.css("left",u.left)}if("none"==this.animationType)this.container.css("display","block"),e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+this.id,r),r.css("margin-top",0),r.css("opacity",1),a._renderItems(),s._raiseEvent("0",a);else if(this.container.css("display","block"),s.isanimating=!0,"fade"==this.animationType)r.css("margin-top",0),r.css("opacity",0),r.animate({opacity:1},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+s.id,r),s.ishiding=!1,s.isanimating=!1,a._renderItems(),s._raiseEvent("0",a)});else{r.css("opacity",1);var p=r.outerHeight();h?r.css("margin-top",p):r.css("margin-top",-p),r.animate({"margin-top":4},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+s.id,r),s.ishiding=!1,s.isanimating=!1,a._renderItems(),s._raiseEvent("0",a)})}h?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),r.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),r.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(r.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")))}},hideListBox:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this.listBoxContainer,i=this.listBox,s=this.container,r=this;if(e.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!r.ishiding){t.stop();var a=t.outerHeight();t.css("margin-top",0),r.isanimating=!0;var o=-a;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(o=a),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1,r.ishiding=!1})):t.animate({"margin-top":o},this.closeDelay,function(){s.css("display","none"),r.isanimating=!1,r.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",i)},closeOpenedListBox:function(t){var i=t.data.me,s=e(t.target),r=t.data.listbox;if(null==r)return!0;if(e(t.target).ischildof(t.data.me.host))return!0;if(!i.isOpened())return!0;if(e(t.target).ischildof(i.listBoxContainer))return!0;var a=!1;return e.each(s.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return a=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return i.element.id==this.id&&(a=!0),!1}}),null!=r&&!a&&i.isOpened()&&i.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(e){this.listBox.loadFromSelect(e)},refresh:function(e){e!==!0&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var e=this,t=parseInt(e.host.outerWidth()),i=parseInt(e.host.height()),s=(e.arrowSize,e.arrowSize),r=4,a=t-s-2*r;if(a>0&&"auto"!==e.width?e.dropdownlistContent[0].style.width=a+"px":0>=a&&(e.dropdownlistContent[0].style.width="0px"),"auto"===e.width&&(e.dropdownlistContent.css("width","auto"),t=e.dropdownlistContent.width()+s+2*r,e.host.css({width:t})),e.dropdownlistContent[0].style.height=i+"px",e.dropdownlistContent[0].style.left="0px",e.dropdownlistContent[0].style.top="0px",e.dropdownlistArrow[0].style.width=s+"px",e.width&&e.width.toString().indexOf("%")>=0){var o=100*s/t,n=100*a/t;e.dropdownlistArrow[0].style.width=o+"%",e.dropdownlistContent[0].style.width=n+"%"}e.dropdownlistArrow[0].style.height=i+"px",e.rtl&&(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right"))},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var t=e.data(this.element,"jqxDropDownList");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this;var r=new e.Event(s);r.owner=this,(2==t||3==t||4==t||5==t)&&(r.args=i);var a=this.host.trigger(r);return a},propertyChangedHandler:function(t,i,s,r){if(void 0!=t.isInitialized&&0!=t.isInitialized){if("filterable"==i&&t.listBoxContainer.jqxListBox({filterable:r}),"filterHeight"==i&&t.listBoxContainer.jqxListBox({filterHeight:r}),"filterPlaceHolder"==i&&t.listBoxContainer.jqxListBox({filterPlaceHolder:r}),"filterDelay"==i&&t.listBoxContainer.jqxListBox({filterDelay:r}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:r}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:r}),"autoOpen"==i&&t._updateHandlers(),"emptyString"==i&&(t.listBox.emptyString=t.emptyString),"itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:r}),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:r}),"rtl"==i&&(r?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),"source"==i&&(t.listBoxContainer.jqxListBox({source:t.source}),t.listBox.selectedIndex=-1,t.listBox.selectIndex(this.selectedIndex),t.renderSelection(),null==r&&t.clear()),("displayMember"==i||"valueMember"==i)&&(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection()),"placeHolder"==i&&t.renderSelection(),"theme"==i&&null!=r&&(t.listBoxContainer.jqxListBox({theme:r}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.utilities.setTheme(s,r,t.host)),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.css({height:t.listBoxContainer.height()+25}):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.css({height:parseInt(t.dropDownHeight)+25})),t.listBox._arrange(),t.listBox._updatescrollbars()),"searchMode"==i&&t.listBoxContainer.jqxListBox({searchMode:t.searchMode}),"incrementalSearch"==i&&t.listBoxContainer.jqxListBox({incrementalSearch:t.incrementalSearch}),"incrementalSearchDelay"==i&&t.listBoxContainer.jqxListBox({incrementalSearchDelay:t.incrementalSearchDelay}),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.css({height:parseInt(t.dropDownHeight)+25}))),"dropDownWidth"==i||"scrollBarSize"==i){var a=t.width;"auto"!=t.dropDownWidth&&(a=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:a,scrollBarSize:t.scrollBarSize}),t.container.css({width:parseInt(a)+25})}if(("width"==i||"height"==i)&&r!=s&&(this.refresh(),"width"==i&&"auto"==t.dropDownWidth)){var a=t.host.width();t.listBoxContainer.jqxListBox({width:a}),t.container.css({width:parseInt(a)+25})}"checkboxes"==i&&t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),"selectedIndex"==i&&null!=t.listBox&&(t.listBox.selectIndex(parseInt(r)),t.renderSelection())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxInput","",{}),e.extend(e.jqx._jqxInput.prototype,{defineInstance:function(){var t=this,i={disabled:!1,filter:t._filter,sort:t._sort,highlight:t._highlight,dropDownWidth:null,renderer:t._renderer,opened:!1,$popup:e("<ul></ul>"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,value:"",rtl:!1,displayMember:"",valueMember:"",events:["select","open","close","change"],popupZIndex:2e4,items:8,item:'<li><a href:"#"></a></li>',minLength:1,maxLength:null};return e.extend(!0,this,i),i},createInstance:function(e){this.render()},render:function(){if("textarea"==this.element.nodeName.toLowerCase())this.element.style.overflow="auto";else if("div"==this.element.nodeName.toLowerCase()){this.baseHost=this.element;var t=this.host.find("input"),i=!1;if(e.each(t,function(){var s=this.type;return null==s||"text"==s||"textarea"==s?(t=e(this),i=!0,!1):void 0}),!i)throw new Error("jqxInput: Missing Text Input in the Input Group");if(t.length>0){this.baseHost=e(this.element),this.host=t,this.element=t[0],this.baseHost.addClass(this.toThemeProperty("jqx-widget")),this.baseHost.addClass(this.toThemeProperty("jqx-rc-all")),this.baseHost.addClass(this.toThemeProperty("jqx-input-group"));var s=this.baseHost.children(),r=this;e.each(s,function(t){e(this).addClass(r.toThemeProperty("jqx-input-group-addon")),e(this).removeClass(r.toThemeProperty("jqx-rc-all")),0==t&&e(this).addClass(r.toThemeProperty("jqx-rc-l")),t==s.length-1&&e(this).addClass(r.toThemeProperty("jqx-rc-r")),this!=r.element&&e(this).addClass(r.toThemeProperty("jqx-fill-state-normal"))})}}this.addHandlers(),this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl")),this.host.attr("role","textbox"),e.jqx.aria(this,"aria-autocomplete","both"),e.jqx.aria(this,"aria-disabled",this.disabled),e.jqx.aria(this,"aria-readonly",!1),e.jqx.aria(this,"aria-multiline",!1),this.source&&this.source.length&&e.jqx.aria(this,"aria-haspopup",!0),""!=this.value&&(this.element.value=this.value),this._oldsource=this.source,this._updateSource()},_updateSource:function(){var t=this,i=function(i){var s=new Array;return s=e.map(i,function(e){if(void 0==e)return null;if("string"==typeof e||e instanceof String)return{label:e,value:e};if("string"!=typeof e&&e instanceof String==0){var i="",s="";return""!=t.displayMember&&void 0!=t.displayMember&&e[t.displayMember]&&(i=e[t.displayMember]),""!=t.valueMember&&void 0!=t.valueMember&&(s=e[t.valueMember]),""==i&&(i=e.label),""==s&&(s=e.value),{label:i,value:s}}return e})};if(this.source&&this.source._source){if(this.adapter=this.source,null!=this.adapter._source.localdata)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(e){t.source=i(t.adapter.records)});else{var s={};this.adapter._options.data?e.extend(t.adapter._options.data,s):(this.source._source.data&&e.extend(s,this.source._source.data),this.adapter._options.data=s),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(e){t.source=i(t.adapter.records)})}return void this.source.dataBind()}e.isFunction(this.source)||(this.source=i(this.source))},_refreshClasses:function(t){var i=t?"addClass":"removeClass";this.host[i](this.toThemeProperty("jqx-widget-content")),this.host[i](this.toThemeProperty("jqx-input")),this.host[i](this.toThemeProperty("jqx-widget")),this.$popup[i](this.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&this.$popup[i](this.toThemeProperty("jqx-noshadow")),this.$popup[i](this.toThemeProperty("jqx-input-popup")),this.$popup[i](this.toThemeProperty("jqx-menu")),this.$popup[i](this.toThemeProperty("jqx-menu-vertical")),this.$popup[i](this.toThemeProperty("jqx-menu-dropdown")),this.$popup[i](this.toThemeProperty("jqx-widget")),this.$popup[i](this.toThemeProperty("jqx-widget-content")),this.roundedCorners&&(this.host[i](this.toThemeProperty("jqx-rc-all")),this.$popup[i](this.toThemeProperty("jqx-rc-all"))),this.disabled?this.host[i](this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},selectAll:function(){var e=this.host;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},selectLast:function(){var e=this.host;this.selectStart(e[0].value.length)},selectFirst:function(){this.host;this.selectStart(0)},selectStart:function(e){var t=this.host;setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(e,e);else{var i=t[0].createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(t){}},resize:function(e,t){this.width=e,this.height=t,this.refresh()},refresh:function(){if(this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost){if(this.width&&this.baseHost.css({width:this.width}),this.height){this.baseHost.css({height:this.height});var t=this,i=0,s=this.baseHost.height()-2;e.jqx.browser.msie&&e.jqx.browser.version<8&&this.baseHost.css("display","inline-block"),e.each(this.baseHost.children(),function(){e(this).css("height","100%"),e.jqx.browser.msie&&e.jqx.browser.version<8&&e(this).css("height",s+"px"),this!==t.element&&(i+=e(this).outerWidth()+2)}),this.host.css("width",this.baseHost.width()-i-4+"px"),e.jqx.browser.msie&&e.jqx.browser.version<9&&(this.host.css("min-height",s+"px"),this.host.css("line-height",s+"px"))}}else this.width&&this.host.css({width:this.width}),this.height&&this.host.css({height:this.height});this.host.attr("disabled",this.disabled),this.maxLength&&this.host.attr("maxlength",this.maxLength),this.host.attr("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){if("placeholder"in this.element)this.host.attr("placeHolder",this.placeHolder);else{var e=this;""==this.element.value&&(this.element.value=this.placeHolder,this.host.focus(function(){e.element.value==e.placeHolder&&(e.element.value="")}),this.host.blur(function(){(""==e.element.value||e.element.value==e.placeHolder)&&(e.element.value=e.placeHolder)}))}},destroy:function(){this.removeHandlers(),this.baseHost?this.baseHost.remove():this.host.remove(),this.$popup&&this.$popup.remove()},propertyChangedHandler:function(t,i,s,r){return"placeHolder"==i?void t._refreshPlaceHolder():("theme"===i&&e.jqx.utilities.setTheme(s,r,t.host),"opened"==i?void(r?t.open():t.close()):("source"==i&&(t._oldsource=r,t._updateSource()),("displayMember"==i||"valueMember"==i)&&(t.source=t._oldsource,t._updateSource()),"disabled"==i&&e.jqx.aria(t,"aria-disabled",t.disabled),"value"==i&&(t.element.value=r),void t.refresh()))},select:function(e,t){var i=this.$popup.find(".jqx-fill-state-pressed").attr("data-value"),s=this.$popup.find(".jqx-fill-state-pressed").attr("data-name");return this.element.value=this.renderer(s,this.element.value),this.selectedItem={label:s,value:i},this.host.attr("data-value",i),this.host.attr("data-label",s),this._raiseEvent("0",{item:{label:s,value:i},label:s,value:i}),this._raiseEvent("3",{item:{label:s,value:i},label:s,value:i}),this.close()},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e&&!e.label&&!e.value?""!=this.displayMember&&""!=this.valueMember&&this.selectedItem?""===this.element.value?"":this.selectedItem:this.element.value:e&&e.label?(this.selectedItem={label:e.label,value:e.value},this.host.attr("data-value",e.value),this.host.attr("data-label",e.label),this.value=e,this.element.value=e.label,this.element.value):(this.value=e,this.element.value=e,this.host.attr("data-value",e),this.host.attr("data-label",e),e&&e.label?this._raiseEvent("3",{item:{label:e.label,value:e.value},label:e.label,value:e.value}):this._raiseEvent("3",{item:{label:e,value:e},label:e,value:e}),this.element.value)},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);r.owner=this,r.args=i,r.preventDefault&&r.preventDefault();var a=this.host.trigger(r);return a},_renderer:function(e){return e},open:function(){if(!e.jqx.isHidden(this.host)){var t=e.extend({},this.host.coord(!0),{height:this.host[0].offsetHeight});if(0==this.$popup.parent().length){var i=this.element.id+"_popup";this.$popup[0].id=i,e.jqx.aria(this,"aria-owns",i)}this.$popup.appendTo(e(document.body)).css({position:"absolute",zIndex:this.popupZIndex,top:t.top+t.height,left:t.left}).show();var s=0,r=this.$popup.children();return e.each(r,function(){s+=e(this).outerHeight(!0)-1}),this.$popup.css({height:s}),this.opened=!0,
this._raiseEvent("1",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.hide(),this.opened=!1,this._raiseEvent("2",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!1),this},suggest:function(t){var i;return this.query=this.element.value,!this.query||this.query.length<this.minLength?this.opened?this.close():this:(i=e.isFunction(this.source)?this.source(this.query,e.proxy(this.load,this)):this.source,i?this.load(i):this)},load:function(t){var i=this;return t=e.grep(t,function(e){return i.filter(e)}),t=this.sort(t),t.length?this._render(t.slice(0,this.items)).open():this.opened?this.close():this},_filter:function(t){var i=this.query,s=t;switch(null!=t.label?s=t.label:this.displayMember&&(s=t[this.displayMember]),this.searchMode){case"none":break;case"containsignorecase":default:return e.jqx.string.containsIgnoreCase(s,i);case"contains":return e.jqx.string.contains(s,i);case"equals":return e.jqx.string.equals(s,i);case"equalsignorecase":return e.jqx.string.equalsIgnoreCase(s,i);case"startswith":return e.jqx.string.startsWith(s,i);case"startswithignorecase":return e.jqx.string.startsWithIgnoreCase(s,i);case"endswith":return e.jqx.string.endsWith(s,i);case"endswithignorecase":return e.jqx.string.endsWithIgnoreCase(s,i)}},_sort:function(e){for(var t,i=[],s=[],r=[],a=0;a<e.length;a++){var t=e[a],o=t;t.label?o=t.label:this.displayMember&&(o=t[this.displayMember]),0===o.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())?i.push(t):o.toString().indexOf(this.query)>=0?s.push(t):o.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())>=0&&r.push(t)}return i.concat(s,r)},_highlight:function(e){var t=this.query;t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i=new RegExp("("+t+")","ig");return e.replace(i,function(e,t){return"<b>"+t+"</b>"})},_render:function(t){var i=this;return t=e(t).map(function(t,s){var r=s;t=void 0!=s.value?void 0!=s.label?e(i.item).attr({"data-name":s.label,"data-value":s.value}):e(i.item).attr({"data-name":s.value,"data-value":s.value}):void 0!=s.label?e(i.item).attr({"data-value":s.label,"data-name":s.label}):void 0!=i.displayMember&&""!=i.displayMember?e(i.item).attr({"data-name":s[i.displayMember],"data-value":s[i.valueMember]}):e(i.item).attr({"data-value":s,"data-name":s}),s.label?r=s.label:i.displayMember&&(r=s[i.displayMember]),t.find("a").html(i.highlight(r));var a="";return i.rtl&&(a=" "+i.toThemeProperty("jqx-rtl")),t[0].className=i.toThemeProperty("jqx-item")+" "+i.toThemeProperty("jqx-menu-item")+" "+i.toThemeProperty("jqx-rc-all")+a,t[0]}),t.first().addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.$popup.html(t),this.dropDownWidth?this.$popup.css({width:this.dropDownWidth}):this.$popup.css({width:this.host.outerWidth()-6}),this},next:function(t){var i=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),s=i.next();s.length||(s=e(this.$popup.find("li")[0])),s.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},prev:function(e){var t=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i=t.prev();i.length||(i=this.$popup.find("li").last()),i.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},addHandlers:function(){this.addHandler(this.host,"focus",e.proxy(this.onFocus,this)),this.addHandler(this.host,"blur",e.proxy(this.onBlur,this)),this.addHandler(this.host,"keypress",e.proxy(this.keypress,this)),this.addHandler(this.host,"keyup",e.proxy(this.keyup,this)),this.addHandler(this.host,"keydown",e.proxy(this.keydown,this)),this.addHandler(this.$popup,"mousedown",e.proxy(this.click,this)),this.host.on?this.$popup.on("mouseenter","li",e.proxy(this.mouseenter,this)):this.$popup.bind("mouseenter","li",e.proxy(this.mouseenter,this))},removeHandlers:function(){this.removeHandler(this.host,"focus",e.proxy(this.onFocus,this)),this.removeHandler(this.host,"blur",e.proxy(this.onBlur,this)),this.removeHandler(this.host,"keypress",e.proxy(this.keypress,this)),this.removeHandler(this.host,"keyup",e.proxy(this.keyup,this)),this.removeHandler(this.host,"keydown",e.proxy(this.keydown,this)),this.removeHandler(this.$popup,"mousedown",e.proxy(this.click,this)),this.host.off?this.$popup.off("mouseenter","li",e.proxy(this.mouseenter,this)):this.$popup.unbind("mouseenter","li",e.proxy(this.mouseenter,this))},move:function(e){if(this.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),this.prev());break;case 40:e.shiftKey||(e.preventDefault(),this.next())}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.opened)return;this.select(e,this);break;case 27:if(!this.opened)return;this.close();break;default:var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.suggest()},300)}e.stopPropagation(),e.preventDefault()},clear:function(){this.host.val("")},onBlur:function(e){var t=this;setTimeout(function(){t.close()},150),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),this.value=this.host.val()},onFocus:function(e){var t=this;t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(e,this)},mouseenter:function(t){this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),e(t.currentTarget).addClass(this.toThemeProperty("jqx-fill-state-pressed"))}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxListBox","",{}),e.extend(e.jqx._jqxListBox.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:e.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,_renderOnDemand:!1,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete"]};return e.extend(!0,this,t),t},createInstance:function(t){var i=this;15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),null==i.width&&(i.width=200),null==i.height&&(i.height=200),i.render();var s=i;e.jqx.utilities.resize(i.host,function(){s._updateSize()},!1,i._checkForHiddenParent)},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},render:function(){var t=this,i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var s={title:t.field.title};t.field.id.length?s.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":s.id=e.jqx.utilities.createId()+"_jqxListBox";var r=e("<div></div>",s);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),e(t.field).hide().after(r);var a=t.host.data();if(t.host=r,t.host.data(a),t.element=r[0],t.element.id=t.field.id,t.field.id=s.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var o=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=o}}t.element.innerHTML="";var t=t,n=t.element.className;n+=" "+t.toThemeProperty("jqx-listbox"),n+=" "+t.toThemeProperty("jqx-reset"),n+=" "+t.toThemeProperty("jqx-rc-all"),n+=" "+t.toThemeProperty("jqx-widget"),n+=" "+t.toThemeProperty("jqx-widget-content"),t.element.className=n;var l=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.css({width:t.width}),l=!0),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.css({height:t.height}),0==t.host.height()&&t.host.css({height:200}),l=!0),null!=t.width&&-1!=t.width.toString().indexOf("px")?t.host.css({width:t.width}):void 0==t.width||isNaN(t.width)||(t.element.style.width=parseInt(t.width)+"px"),null!=t.height&&-1!=t.height.toString().indexOf("px")?t.host.css({height:t.height}):void 0==t.height||isNaN(t.height)||(t.element.style.height=parseInt(t.height)+"px"),t.multiple||t.multipleextended||t.checkboxes?e.jqx.aria(t,"aria-multiselectable",!0):e.jqx.aria(t,"aria-multiselectable",!1);var h="<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+t.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>";t.host.attr("role","listbox"),t.element.innerHTML=h,t._checkForHiddenParent&&(t._addInput(),t.host.attr("tabIndex")||t.host.attr("tabIndex",1)),t.filter=e(t.element.firstChild.firstChild.firstChild),t.filterInput=e(t.filter[0].firstChild),t.filterInput.attr("placeholder",t.filterPlaceHolder),t.filterInput.addClass(t.toThemeProperty("jqx-widget jqx-listbox-filter-input jqx-input jqx-rc-all")),t.addHandler(t.filterInput,"keyup.textchange",function(e){13==e.keyCode?t._search(e):t.filterDelay>0&&(t._filterTimer&&clearTimeout(t._filterTimer),t._filterTimer=setTimeout(function(){t._search(e)},t.filterDelay)),e.stopPropagation()});var d=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling);if(!t.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!d.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var c=parseInt(t.host.height())/2;0==c&&(c=10),t.vScrollBar=d.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:t.rtl,theme:t.theme,touchMode:t.touchMode,largestep:c});var u=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling);if(t.hScrollBar=u.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:t.rtl,touchMode:t.touchMode,theme:t.theme}),t.content=e(t.element.firstChild.firstChild.firstChild.nextSibling),t.content[0].id="listBoxContent"+t.element.id,t.bottomRight=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling).addClass(t.toThemeProperty("jqx-listbox-bottomright")).addClass(t.toThemeProperty("jqx-scrollbar-state-normal")),t.bottomRight[0].id="bottomRight"+t.element.id,t.vScrollInstance=e.data(t.vScrollBar[0],"jqxScrollBar").instance,t.hScrollInstance=e.data(t.hScrollBar[0],"jqxScrollBar").instance,t.isTouchDevice()&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var p=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(p),t.overlayContent=t.host.find(".overlay"),t.filterable&&t.overlayContent.css("top","30px")}t._updateTouchScrolling(),t.host.addClass("jqx-disableselect"),t.host.jqxDragDrop&&jqxListBoxDragDrop()},_highlight:function(e,t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+i+")","ig"),function(e,t){return"<b>"+t+"</b>"})},_addInput:function(){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t)},_updateTouchScrolling:function(){var t=this;if(this.isTouchDevice()){t.enableHover=!1;var i=this.overlayContent?this.overlayContent:this.content;this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(e(i),"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(i,t.vScrollInstance.max,function(e,i){if("hidden"!=t.vScrollBar.css("visibility")){var s=t.vScrollInstance.value;t.vScrollInstance.setPosition(s+i),t._lastScroll=new Date}if("hidden"!=t.hScrollBar.css("visibility")){var s=t.hScrollInstance.value;t.hScrollInstance.setPosition(s+e),t._lastScroll=new Date}},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,this.element.id):e.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(e.jqx.browser.msie&&e.jqx.browser.version<9)return!1;this.touchDevice=!0,t=!0,e.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t&&this.host.addClass(this.toThemeProperty("jqx-touch")),t},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertiesChangedHandler:function(e,t,i){e._cachedItemHtml=new Array,e.clearSelection(),e.refresh()},propertyChangedHandler:function(t,i,s,r){if(void 0!=this.isInitialized&&0!=this.isInitialized&&(!t.batchUpdate||"touchMode"==i||"rtl"==i)){if("_renderOnDemand"==i&&(t._render(!1,!0),-1!=t.selectedIndex)){var a=t.selectedIndex;t.selectedIndex=-1,t._stopEvents=!0,t.selectIndex(a,!1,!0),-1==t.selectedIndex&&(t.selectedIndex=a),t._stopEvents=!1}if("filterable"==i&&t.refresh(),"filterHeight"==i&&t._arrange(),"filterPlaceHolder"==i&&t.filterInput.attr("placeholder",r),"renderer"==i&&(t._cachedItemHtml=new Array,t.refresh()),"itemHeight"==i&&t.refresh(),("source"==i||"checkboxes"==i)&&(null==r&&s&&s.unbindBindingUpdate&&(s.unbindBindingUpdate(t.element.id),s.unbindDownloadComplete(t.element.id)),t.clearSelection(),t.refresh()),("scrollBarSize"==i||"equalItemsWidth"==i)&&r!=s&&t._updatescrollbars(),"disabled"==i&&(t._renderItems(),t.vScrollBar.jqxScrollBar({disabled:r}),t.hScrollBar.jqxScrollBar({disabled:r})),"touchMode"==i||"rtl"==i){if(t._removeHandlers(),t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),"touchMode"==i&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var o=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(o),t.overlayContent=t.host.find(".overlay")}t.filterable&&t.filterInput&&("rtl"==i&&r?t.filterInput.addClass(t.toThemeProperty("jqx-rtl")):"rtl"!=i||r||t.filterInput.removeClass(t.toThemeProperty("jqx-rtl")),t._arrange()),t._updateTouchScrolling(),t._addHandlers(),t._render(!1)}if(this.updating||("width"==i||"height"==i)&&t._updateSize(),"theme"==i&&s!=r&&(t.hScrollBar.jqxScrollBar({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-listbox")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.refresh()),"selectedIndex"==i&&(t.clearSelection(),t.selectIndex(r,!0)),"displayMember"==i||"valueMember"==i){if(s!=r){var n=t.selectedIndex;t.refresh(),t.selectedIndex=n,t.selectedIndexes[n]=n}t._renderItems()}"autoHeight"==i&&(s!=r?t._render(!1):(t._updatescrollbars(),t._renderItems())),t._checkForHiddenParent&&e.jqx.isHidden(t.host)&&e.jqx.utilities.resize(this.host,function(){t._updateSize()},!1,t._checkForHiddenParent)}},loadFromSelect:function(t){if(null!=t){var i="#"+t,s=e(i);if(s.length>0){var r=e.jqx.parseSourceTag(s[0]),a=r.items,o=r.index;this.source=a,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=o,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(t){var i=this;if(void 0!=this.vScrollBar){this._cachedItemHtml=[],this.visibleItems=new Array;var s=function(e){if(1==e&&-1!=i.selectedIndex){var t=i.selectedIndex;i.selectedIndex=-1,i._stopEvents=!0,i.selectIndex(t,!1,!0),-1==i.selectedIndex&&(i.selectedIndex=t),i._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),e.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,t),void s(t);(this.autoBind||!this.autoBind&&!t)&&(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._raiseEvent("6"),this._render(!1,1==t),s(t)}},loadSelectTag:function(){var t=e.jqx.parseSourceTag(this.field);this.source=t.items,-1==this.selectedIndex&&(this.selectedIndex=t.index)},_render:function(e,t){return this._renderOnDemand?(this.visibleItems=new Array,this.renderedVisibleItems=new Array,void this._renderItems()):(this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(void 0==e||e)&&void 0!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready())))},_hitTest:function(e,t){this.filterable&&(t-=this.filterHeight,0>t&&(t=0));var i=parseInt(this.vScrollInstance.value),s=this._searchFirstVisibleIndex(t+i,this.renderedVisibleItems);if(void 0!=this.renderedVisibleItems[s]&&this.renderedVisibleItems[s].isGroup)return null;if(this.renderedVisibleItems.length>0){var r=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(r.height+r.top<t+i)return null}return s=this._searchFirstVisibleIndex(t+i),this.visibleItems[s]},_searchFirstVisibleIndex:function(e,t){void 0==e&&(e=parseInt(this.vScrollInstance.value));var i=0;(void 0==t||null==t)&&(t=this.visibleItems);for(var s=t.length;s>=i;){mid=parseInt((i+s)/2);var r=t[mid];if(void 0==r)break;if(r.initialTop>e&&r.initialTop+r.height>e)s=mid-1;else{if(!(r.initialTop<e&&r.initialTop+r.height<=e))return mid;i=mid+1}}return 0},_renderItems:function(){if(void 0==this.items||0==this.items.length)return void(this.visibleItems=new Array);if(1!=this.updatingListBox){var t=this.isTouchDevice(),i=this.vScrollInstance,s=this.hScrollInstance,r=parseInt(i.value),a=parseInt(s.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(a=s.max-a);var o=(this.items.length,this.host.width(),parseInt(this.content[0].style.width)),n=o+parseInt(s.max),l=parseInt(this.vScrollBar[0].style.width)+2;"hidden"==this.vScrollBar[0].style.visibility&&(l=0),"visible"!=this.hScrollBar[0].style.visibility&&(n=o);var h=(this._getVirtualItemsCount(),new Array),d=0,c=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(c=this.host.outerHeight()),isNaN(c)&&(c=0);var u=0,p=0,m=0;if(0==i.value||0==this.visibleItems.length)for(var f=0;f<this.items.length;f++){var v=this.items[f];if(v.visible){v.top=-r,v.initialTop=-r,!v.isGroup&&v.visible&&(this.visibleItems[p++]=v,v.visibleIndex=p-1),this.renderedVisibleItems[m++]=v,v.left=-a;var g=v.top+v.height;g>=0&&v.top-v.height<=c&&(h[d++]={index:f,item:v}),r-=v.height}}var x=r>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,b=0;d=0;for(var y=this.vScrollInstance.value,w=0;100+c>b;){var v=this.renderedVisibleItems[x];if(void 0==v)break;if(v.visible){v.left=-a;var g=v.top+v.height-y;g>=0&&v.initialTop-y-v.height<=2*c&&(h[d++]={index:x,item:v})}if(x++,v.visible&&(b+=v.initialTop-y+v.height-b),w++,w>this.items.length-1)break}if(!this._renderOnDemand)for(var _=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),T=this.toThemeProperty("jqx-listitem-state-group"),j=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),q=0,I=this,f=0;f<this.visualItems.length;f++){var C=this.visualItems[f],S=function(){var e=C[0].firstChild;if(I.checkboxes&&(e=C[0].lastChild),null!=e&&(e.style.visibility="hidden",e.className=""),I.checkboxes){var t=C.find(".chkbox");t.css({visibility:"hidden"})}};if(f<h.length){var v=h[f].item;if(v.initialTop-y>=c){S();continue}var D=e(C[0].firstChild);if(this.checkboxes&&(D=e(C[0].lastChild)),0==D.length)continue;if(null==D[0])continue;D[0].className="",D[0].style.display="block",D[0].style.visibility="inherit";var k="";if(k=!v.isGroup&&!this.selectedIndexes[v.index]>=0?_:T,(v.disabled||this.disabled)&&(k+=" "+j),this.roundedcorners&&(k+=" "+this.toThemeProperty("jqx-rc-all")),t&&(k+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),D[0].className=k,this.renderer)if(v.key||(v.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[v.key])D[0].innerHTML!=this._cachedItemHtml[v.key]&&(D[0].innerHTML=this._cachedItemHtml[v.key]);else{var P=this.renderer(v.index,v.label,v.value);D[0].innerHTML=P,this._cachedItemHtml[v.key]=D[0].innerHTML}else{if(-1!==this.itemHeight){var H=2+2*parseInt(D.css("padding-top"));D[0].style.lineHeight=v.height-H+"px",D.css("vertical-align","middle")}null!=v.html&&v.html.toString().length>0?D[0].innerHTML=v.html:null!=v.label||null!=v.value?null!=v.label?(D[0].innerHTML!==v.label&&(D[0].innerHTML=v.label),""==e.trim(v.label)&&(D[0].innerHTML=this.emptyString,""==this.emptyString&&(D[0].style.height=v.height-8+"px")),this.incrementalSearch||v.disabled||void 0!=this.searchString&&""!=this.searchString&&(D[0].innerHTML=this._highlight(v.label.toString(),this.searchString))):null===v.label?(D[0].innerHTML=this.emptyString,""==this.emptyString&&(D[0].style.height=v.height-8+"px")):D[0].innerHTML!==v.value?D[0].innerHTML=v.value:""==v.label&&(D[0].innerHTML=" "):(""==v.label||null==v.label)&&(D[0].innerHTML="",D[0].style.height=v.height-8+"px")}if(C[0].style.left=v.left+"px",C[0].style.top=v.initialTop-y+"px",v.element=D[0],v.title&&(D[0].title=v.title),this.equalItemsWidth&&!v.isGroup){if(0==u){var M=parseInt(n),B=parseInt(D.outerWidth())-parseInt(D.width());M-=B;var E=1;E=null!=E?parseInt(E):0,M-=2*E,u=M,this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(u-=18)}o>this.virtualSize.width?(D[0].style.width=u+"px",v.width=u):(D[0].style.width=-4+this.virtualSize.width+"px",v.width=this.virtualSize.width-4)}else D.width()<this.host.width()&&D.css({width:this.host.width()-2});if(this.rtl&&(D[0].style.textAlign="right"),this.autoItemsHeight&&(D[0].style.whiteSpace="pre-line",D.css({width:u}),v.width=u),q=0,this.checkboxes&&!v.isGroup){0==q&&(q=(v.height-16)/2,q++);var z=e(C.children()[0]);z[0].item=v,this.rtl?"0px"!=D[0].style.left&&(D[0].style.left="0px"):"18px"!=D[0].style.left&&(D[0].style.left="18px"),this.rtl&&z.css("left",8+v.width+"px"),z[0].style.top=q+"px",z[0].style.display="block",z[0].style.visibility="inherit";var O=v.checked,A=v.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";z[0].firstChild&&z[0].firstChild.firstChild&&z[0].firstChild.firstChild.firstChild&&z[0].firstChild.firstChild&&(O?z[0].firstChild.firstChild.firstChild.className=A:O===!1?z[0].firstChild.firstChild.firstChild.className="":null===O&&(z[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),e.jqx.ariaEnabled&&(O?C[0].setAttribute("aria-selected",!0):C[0].removeAttribute("aria-selected"))}else if(this.checkboxes){var z=e(C.children()[0]);z.css({display:"none",visibility:"inherit"})}!v.disabled&&(!this.filterable&&this.selectedIndexes[v.visibleIndex]>=0||v.selected&&this.filterable)?(D.addClass(this.toThemeProperty("jqx-listitem-state-selected")),D.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.ariaEnabled&&(C[0].setAttribute("aria-selected",!0),this._activeElement=C[0])):this.checkboxes||e.jqx.ariaEnabled&&C[0].removeAttribute("aria-selected")}else S()}}},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_calculateVirtualSize:function(t){if(!this._renderOnDemand){var i=0,s=2,r=0,a=document.createElement("span");this.equalItemsWidth&&e(a).css("float","left"),a.style.whiteSpace="pre";var o=0,n=void 0===t?this.host.outerHeight():t+2;document.body.appendChild(a);var l=this.items.length,h=this.host.width();if(this.autoItemsHeight&&(h-=10,"hidden"!=this.vScrollBar.css("visibility")&&(h-=20)),this.autoItemsHeight||this.renderer||this.groups.length>=1||l>0&&null!=this.items[0].html&&""!=this.items[0].html)for(var r=0;l>r;r++){var d=this.items[r];if((!d.isGroup||""!=d.label||""!=d.html)&&d.visible){var c="";if(c+=d.isGroup?this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),c+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(c+=" "+this.toThemeProperty("jqx-touch")),a.className=c,this.autoItemsHeight){a.style.whiteSpace="pre-line";var u=this.checkboxes?-20:0;a.style.width=u+h+"px"}if(this.renderer){var p=this.renderer(d.index,d.label,d.value);a.innerHTML=p}else null!=d.html&&d.html.toString().length>0?a.innerHTML=d.html:(null!=d.label||null!=d.value)&&(null!=d.label?(a.innerHTML=d.label,""==d.label&&(a.innerHTML="Empty")):a.innerHTML=d.value);var m=a.offsetHeight,f=a.offsetWidth;this.itemHeight>-1&&(m=this.itemHeight),d.height=m,d.width=f,s+=m,i=Math.max(i,f),n>=s&&o++}}else{for(var s=0,v=0,g="",x=0,b=0,y=-1,r=0;l>r;r++){var d=this.items[r];if((!d.isGroup||""!=d.label||""!=d.html)&&d.visible){y++;var c="";if(0==y){if(c+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),c+=" "+this.toThemeProperty("jqx-fill-state-normal"),c+=" "+this.toThemeProperty("jqx-widget"),c+=" "+this.toThemeProperty("jqx-listbox"),c+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(c+=" "+this.toThemeProperty("jqx-touch"),c+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),a.className=c,this.autoItemsHeight){a.style.whiteSpace="pre-line";var u=this.checkboxes?-20:0;a.style.width=u+h+"px"}null==d.html||""==d.label||null==d.label?a.innerHTML="Item":null!=d.html&&d.html.toString().length>0?a.innerHTML=d.html:(null!=d.label||null!=d.value)&&(null!=d.label?null!=d.label.toString().match(new RegExp("\\w"))||null!=d.label.toString().match(new RegExp("\\d"))?a.innerHTML=d.label:a.innerHTML="Item":a.innerHTML=d.value);var m=1+a.offsetHeight;this.itemHeight>-1&&(m=this.itemHeight),v=m}void 0!=x&&(b=x),null!=d.html&&d.html.toString().length>0?(x=Math.max(x,d.html.toString().length),b!=x&&(g=d.html)):null!=d.label?(x=Math.max(x,d.label.length),b!=x&&(g=d.label)):null!=d.value&&(x=Math.max(x,d.value.length),b!=x&&(g=d.value)),d.height=v,s+=v,n>=s&&o++}}a.innerHTML=g,i=a.offsetWidth}return s+=2,10>o&&(o=10),this.filterable&&(s+=this.filterHeight),a.parentNode.removeChild(a),{width:i,height:s,itemsPerPage:o}}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var e=parseInt(this.host.height())/5;return e>this.items.length&&(e=this.items.length),e}return this.virtualItemsCount},_addItems:function(t){if(!this._renderOnDemand){var i=this;if(1!=i.updatingListBox){if(void 0==i.items||0==i.items.length)return i.virtualSize={width:0,height:0,itemsPerPage:0},i._updatescrollbars(),i.renderedVisibleItems=new Array,void(i.itemswrapper&&i.itemswrapper.children().remove());var s=i.host.height();if(0==t){var r=i._calculateVirtualSize(s),a=2*r.itemsPerPage;i.autoHeight&&(a=i.items.length),i.virtualItemsCount=Math.min(a,i.items.length);r.width;return i.virtualSize=r,void i._updatescrollbars()}var o=this,n=0;i.visibleItems=new Array,i.renderedVisibleItems=new Array,i._removeHandlers(),i.allowDrag&&i._enableDragDrop&&(i.itemswrapper=null),null==i.itemswrapper&&(i.content[0].innerHTML="",i.itemswrapper=e('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),i.itemswrapper[0].style.height=2*s+"px",i.content[0].appendChild(i.itemswrapper[0]));var r=i._calculateVirtualSize(s),a=2*r.itemsPerPage;i.autoHeight&&(a=i.items.length),i.virtualItemsCount=Math.min(a,i.items.length);var i=this;r.width;i.virtualSize=r;var l=Math.max(i.host.width(),17+r.width);i.itemswrapper[0].style.width=l+"px";for(var h=0,d="",c=e.jqx.browser.msie&&e.jqx.browser.version<9,u=c?' unselectable="on"':"",p=h;p<i.virtualItemsCount;p++){var m=i.items[p],f="listitem"+p+i.element.id;if(d+="<div"+u+" role='option' id='"+f+"' class='jqx-listitem-element'>",i.checkboxes){d+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var v='<div class="'+i.toThemeProperty("jqx-checkbox-default")+" "+i.toThemeProperty("jqx-fill-state-normal")+" "+i.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">',g=m.checked?" "+i.toThemeProperty("jqx-checkbox-check-checked"):"";v+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+g+'"></span>',v+="</div></div>",d+=v,d+="</div>"}d+="<span"+u+" style='white-space: pre; -ms-touch-action: none;'></span></div>"}o.WinJS?i.itemswrapper.html(d):i.itemswrapper[0].innerHTML=d;for(var x=i.itemswrapper.children(),p=h;p<i.virtualItemsCount;p++){var m=i.items[p],b=e(x[p]);if(i.allowDrag&&i._enableDragDrop&&b.addClass("draggable"),i.checkboxes){e(b.children()[0]);b.css("float","left");var y=e(b[0].firstChild);y.css("float","left")}b[0].style.height=m.height+"px",b[0].style.top=n+"px",n+=m.height,i.visualItems[p]=b}if(i._addHandlers(),i._updatescrollbars(),i.autoItemsHeight){var r=i._calculateVirtualSize(s),a=2*r.itemsPerPage;i.autoHeight&&(a=i.items.length),i.virtualItemsCount=Math.min(a,i.items.length);var i=this;r.width;i.virtualSize=r,i._updatescrollbars()}e.jqx.browser.msie&&e.jqx.browser.version<8&&(i.host.attr("hideFocus",!0),i.host.find("div").attr("hideFocus",!0))}}},_updatescrollbars:function(){var t=this;if(t.virtualSize){var i=t.virtualSize.height,s=t.virtualSize.width,r=t.vScrollInstance,a=t.hScrollInstance;
t._arrange(!1);var o=!1,n=t.host.outerWidth(),l=t.host.outerHeight(),h=0;if(s>n&&(h=t.hScrollBar.outerHeight()+2),i+h>l){var d=r.max;r.max=2+parseInt(i)+h-parseInt(l-2),"inherit"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="inherit",o=!0),d!=r.max&&r._arrange()}else"hidden"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="hidden",o=!0,r.setPosition(0));var c=0;"hidden"!=t.vScrollBar[0].style.visibility&&(c=t.scrollBarSize+6);var u=t.checkboxes?20:0;if(t.autoItemsHeight)t.hScrollBar[0].style.visibility="hidden";else if(s>=n-c-u){var p=a.max;"inherit"==t.vScrollBar[0].style.visibility?a.max=u+c+parseInt(s)-t.host.width()+4:a.max=u+parseInt(s)-t.host.width()+6,"inherit"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="inherit",o=!0),p!=a.max&&a._arrange(),"inherit"==t.vScrollBar[0].style.visibility&&(r.max=2+parseInt(i)+t.hScrollBar.outerHeight()+2-parseInt(t.host.height()))}else"hidden"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="hidden",o=!0);a.setPosition(0),o&&t._arrange(),t.itemswrapper&&(t.itemswrapper[0].style.width=Math.max(0,Math.max(n-2,17+s))+"px",t.itemswrapper[0].style.height=Math.max(0,2*l)+"px");var m=t.isTouchDevice();m&&("visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,t.element.id):e.jqx.mobile.setTouchScroll(!0,t.element.id))}},clear:function(){this.source=null,this.clearSelection(),this.refresh()},clearSelection:function(e){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&-1!=this.selectedIndexes[t]&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1;this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=e&&this._renderItems()},unselectIndex:function(e,t){if(!isNaN(e)){this.selectedIndexes[e]=-1;for(var i=!1,s=0;s<this.selectedIndexes.length;s++){var r=this.selectedIndexes[s];-1!=r&&void 0!=r&&(i=!0)}if(!i){this.selectedValue=null,this.selectedIndex=-1;var a=this.getVisibleItem(e);a&&this.selectedValues[a.value]&&(this.selectedValues[a.value]=null)}(void 0==t||1==t)&&(this._renderItems(),this._raiseEvent("1",{index:e,type:"api",item:this.getVisibleItem(e),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:e,type:"api",item:this.getItem(e)})}},getInfo:function(){var e=this,t=this.getItems(),i=this.getVisibleItems(),s=function(){var t=e.vScrollInstance.value;e.filterable&&(t-=e.filterHeight);for(var s=new Array,r=0;r<i.length;r++){var a=i[r];if(a){var o=a.initialTop,n=a.height,l=!0;(0>o+n-t||o-t>=e.host.height())&&(l=!1),l&&s.push(a)}}return s}();return{items:t,visibleItems:i,viewItems:s}},getItem:function(t){if(-1==t||isNaN(t)||"string"==typeof t)return-1===t?null:this.getItemByValue(t);var i=null;e.each(this.items,function(){return this.index==t?(i=this,!1):void 0});return i},getVisibleItem:function(e){return-1==e||isNaN(e)||"string"==typeof e?-1===e?null:this.getItemByValue(e):this.visibleItems[e]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)var r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=!0,(void 0==i||1==i)&&this._updateCheckedItems()}(void 0==s||1==s)&&this._raiseEvent(3,{label:r.label,value:r.value,checked:!0,item:r})}},getCheckedItems:function(){if(!this.checkboxes)return null;var t=new Array;if(void 0!=this.items)return e.each(this.items,function(){this.checked&&(t[t.length]=this)}),t},checkAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;t!==!1&&e.checked!==!0&&i._raiseEvent(3,{label:e.label,value:e.value,checked:!0,item:e}),this.checked=!0}),this._updateCheckedItems()}},uncheckAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;t!==!1&&e.checked!==!1&&(this.checked=!1,i._raiseEvent(3,{label:e.label,value:e.value,checked:!1,item:e})),this.checked=!1}),this._updateCheckedItems()}},uncheckIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)var r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=!1,(void 0==i||1==i)&&this._updateCheckedItems()}(void 0==s||1==s)&&this._raiseEvent(3,{label:r.label,value:r.value,checked:!1,item:r})}},indeterminateIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)var r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=null,(void 0==i||1==i)&&this._updateCheckedItems()}(void 0==s||1==s)&&this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var e=this.getVisibleItems(),t=this.selectedIndexes,i=[];for(var s in t)-1!=t[s]&&(i[i.length]=e[s]);return i},getSelectedItem:function(){var e=this.getSelectedItems();return e&&e.length>0?e[0]:null},_updateCheckedItems:function(){var t=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=t,this._renderItems();var i=e.data(this.element,"hoveredItem");null!=i&&(e(i).addClass(this.toThemeProperty("jqx-listitem-state-hover")),e(i).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(t){if(null!=this.visibleItems){if(t&&t.value&&(t=t.value),this.itemsByValue)return this.itemsByValue[e.trim(t).split(" ").join("?")];for(var i=this.visibleItems,s=0;s<i.length;s++)if(i[s].value==t)return i[s]}},checkItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.checkIndex(t.visibleIndex,!0)}return!1},uncheckItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.uncheckIndex(t.visibleIndex,!0)}return!1},indeterminateItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.indeterminateIndex(t.visibleIndex,!0)}return!1},val:function(e){if(this.input){var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"==typeof e?!1:!0};if(t(e)||0==arguments.length)return this.input.val();var i=this.getItemByValue(e);return null!=i&&this.selectItem(i),this.input?this.input.val():void 0}},selectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.selectIndex(e.visibleIndex,!0)}return!1},unselectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.unselectIndex(e.visibleIndex,!0)}return!1},selectIndex:function(e,t,i,s,r,a){if(!isNaN(e)){var o=this.selectedIndex;if(this.filterable&&(this.selectedIndex=-1),!(-1>e||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){if(!(this.multiple||this.multipleextended||this.selectedIndex!=e||s||this.checkboxes))return void(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value)));if(this.checkboxes){this._updateCheckedItems();var n=o;this.selectedIndex!=e||this.multiple||(n=-1),void 0==r&&(r="none");var l=this.getItem(e),h=this.getItem(n);return this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),h=this.getVisibleItem(n)),this._raiseEvent("1",{index:n,type:r,item:h,originalEvent:a}),this.selectedIndex=e,this.selectedIndexes[n]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:a}),void this._renderItems()}this.focused=!0;var d=!1;this.selectedIndex!=e&&(d=!0);var n=o;this.selectedIndex!=e||this.multiple||(n=-1),void 0==r&&(r="none");var l=this.getItem(e),h=this.getItem(n);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),h=this.getVisibleItem(n)),void 0!=s&&s)this._raiseEvent("1",{index:n,type:r,item:h,originalEvent:a}),this.selectedIndex=e,this.selectedIndexes[n]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:a});else{var c=this,u=function(e,t,i,s,r,a){c._raiseEvent("1",{index:t,type:i,item:s,originalEvent:a}),c.selectedIndex=e,c.selectedIndexes=[],t=e,c.selectedIndexes[e]=e,c.selectedValues=new Array,r&&(c.selectedValues[r.value]=r.value),c._raiseEvent("0",{index:e,type:i,item:r,originalEvent:a})},p=function(e,t,i,s,r,a){void 0==c.selectedIndexes[e]||-1==c.selectedIndexes[e]?(c.selectedIndexes[e]=e,c.selectedIndex=e,r&&(c.selectedValues[r.value]=r.value,c._raiseEvent("0",{index:e,type:i,item:r,originalEvent:a}))):(t=c.selectedIndexes[e],s=c.getVisibleItem(t),s&&(c.selectedValues[s.value]=null),c.selectedIndexes[e]=-1,c.selectedIndex=-1,c._raiseEvent("1",{index:t,type:i,item:s,originalEvent:a}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==r&&(this.clearSelection(!1),c._clickedIndex=e),p(e,n,r,h,l,a);else if(this._shiftKey){void 0==c._clickedIndex&&(c._clickedIndex=n);var m=Math.min(c._clickedIndex,e),f=Math.max(c._clickedIndex,e);this.clearSelection(!1);for(var v=m;f>=v;v++)c.selectedIndexes[v]=v,c.selectedValues[c.getVisibleItem(v).value]=c.getVisibleItem(v).value,c._raiseEvent("0",{index:v,type:r,item:this.getVisibleItem(v),originalEvent:a});"keyboard"!=r?c.selectedIndex=c._clickedIndex:c.selectedIndex=e}}else"keyboard"!=r&&"mouse"!=r?(p(e,n,r,h,l,a),c._clickedIndex=e):(this.clearSelection(!1),c._clickedIndex=e,u(e,n,r,h,l,a));else this.multiple?p(e,n,r,h,l,a):(l&&(this.selectedValue=l.value),u(e,n,r,h,l,a))}return(void 0==i||1==i)&&this._renderItems(),void 0!=t&&null!=t&&1==t&&this.ensureVisible(e),this._raiseEvent("2",{index:e,item:l,oldItem:h,type:r,originalEvent:a}),this._updateInputSelection(),d}}},_updateInputSelection:function(){this._syncSelection();var t=new Array;if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&void 0!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),t.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var i=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),s="";if(i){for(var r=0;r<i.length;r++)void 0!=i[r]&&(s+=r==i.length-1?i[r].value:i[r].value+",",t.push(i[r].value));this.input.val(s)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,s){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,s){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(e){if(isNaN(e))return!1;if(!this.items)return!1;if(0>e||e>=this.items.length)return!1;var t=this.vScrollInstance.value,i=0;this.filterable&&(i=this.filterHeight);var s=this.visibleItems[e];if(void 0==s)return!0;var r=s.initialTop,a=s.height;return i>r-t||r-t+i+a>=this.host.outerHeight()?!1:!0},_itemsInPage:function(){var t=0,i=this;return this.items&&e.each(this.items,function(){return this.initialTop+this.height>=i.content.height()?!1:void t++}),t},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(e){for(indx=e+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(e){for(indx=e-1;indx>=0;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},clearFilter:function(){this.filterInput.val(""),this._updateItemsVisibility("")},_search:function(e){var t=this,i=t.filterInput.val();return 9!=e.keyCode&&"none"!=t.searchMode&&null!=t.searchMode&&"undefined"!=t.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode?37==e.keyCode||39==e.keyCode?!1:void(e.altKey||18==e.keyCode||e.keyCode>=33&&e.keyCode<=40||(e.ctrlKey||e.metaKey||t.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode||i!==t.searchString&&t._updateItemsVisibility(i)):void 0},_updateItemsVisibility:function(t){var i=this.getItems();if(void 0==i)return{index:-1,matchItem:new Array};var s=this,r=-1,a=new Array,o=0;e.each(i,function(i){var n="";if(!this.isGroup){n=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem",n=n.toString();var l=!1;switch(s.searchMode){case"containsignorecase":l=e.jqx.string.containsIgnoreCase(n,t);break;case"contains":l=e.jqx.string.contains(n,t);break;case"equals":l=e.jqx.string.equals(n,t);break;case"equalsignorecase":l=e.jqx.string.equalsIgnoreCase(n,t);break;case"startswith":l=e.jqx.string.startsWith(n,t);break;case"startswithignorecase":l=e.jqx.string.startsWithIgnoreCase(n,t);break;case"endswith":l=e.jqx.string.endsWith(n,t);break;case"endswithignorecase":l=e.jqx.string.endsWithIgnoreCase(n,t)}l||(this.visible=!1),l&&(a[o++]=this,this.visible=!0,r=this.visibleIndex),""==t&&(this.visible=!0,l=!1)}}),s.renderedVisibleItems=new Array,s.visibleItems=new Array,s.vScrollInstance.setPosition(0,!0),s._addItems(!1),s._renderItems();for(var n=0;n<s.items.length;n++)s.selectedIndexes[n]=-1;s.selectedIndex=-1;for(var l in s.selectedValues){var t=s.selectedValues[l],h=s.getItemByValue(t);h&&h.visible&&(s.selectedIndex=h.visibleIndex,s.selectedIndexes[h.visibleIndex]=h.visibleIndex)}s._syncSelection()},_getMatches:function(t,i){if(void 0==t||0==t.length)return-1;void 0==i&&(i=0);var s=this.getItems(),r=this,a=-1;return e.each(s,function(s){var o="";if(!this.isGroup){o=this.searchLabel?this.searchLabel.toString():this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var n=!1;switch(r.searchMode){case"containsignorecase":n=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":n=e.jqx.string.contains(o,t);break;case"equals":n=e.jqx.string.equals(o,t);break;case"equalsignorecase":n=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":n=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":n=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":n=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":n=e.jqx.string.endsWithIgnoreCase(o,t)}if(n&&this.visibleIndex>=i)return a=this.visibleIndex,!1}}),a},findItems:function(t){var i=this.getItems(),s=this,r=0,a=new Array;return e.each(i,function(i){var o="";if(!this.isGroup){o=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var n=!1;switch(s.searchMode){case"containsignorecase":n=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":n=e.jqx.string.contains(o,t);break;case"equals":n=e.jqx.string.equals(o,t);break;case"equalsignorecase":n=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":n=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":n=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":n=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":n=e.jqx.string.endsWithIgnoreCase(o,t)}n&&(a[r++]=this)}}),a},_syncSelection:function(){var e=this;if(e.filterable){if(e.items)for(var t=0;t<e.items.length;t++){var i=e.items[t];i.selected=!1}for(var t=0;t<e.visibleItems.length;t++){var i=e.visibleItems[t];e.selectedIndexes&&e.selectedIndexes[t]==i.visibleIndex&&(i.selected=!0)}e.itemswrapper&&e._renderItems()}},_handleKeyDown:function(e){var t=e.keyCode,i=this,s=i.selectedIndex,r=i.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&(!this.filterInput||e.target!=this.filterInput[0])){var a=function(){(i.multiple||i.checkboxes)&&i.clearSelection(!1)};if(e.altKey&&(t=-1),32==t&&this.checkboxes){var o=this.getItem(s);return null!=o&&(i._updateItemCheck(o,s),e.preventDefault()),i._searchString="",i.selectIndex(o.visibleIndex,!1,!0,!0,"keyboard",e),void i._renderItems()}if(i.incrementalSearch){var n=-1;i._searchString||(i._searchString=""),(8==t||46==t)&&i._searchString.length>=1&&(i._searchString=i._searchString.substr(0,i._searchString.length-1));var l=String.fromCharCode(t),h=!isNaN(parseInt(l)),d=!1;if(t>=65&&97>=t||h||8==t||32==t||46==t){e.shiftKey||(l=l.toLocaleLowerCase());var c=1+i.selectedIndex;8!=t&&32!=t&&46!=t&&(i._searchString.length>0&&i._searchString.substr(0,1)==l?c=1+i.selectedIndex:i._searchString+=l),32==t&&(i._searchString+=" ");var u=this._getMatches(i._searchString,c);if(n=u,n==i._lastMatchIndex||-1==n){var u=this._getMatches(i._searchString,0);n=u}if(i._lastMatchIndex=n,n>=0){var p=function(){a(),i.selectIndex(n,!1,!1,!1,"keyboard",e);var t=i.isIndexInView(n);t?i._renderItems():i.ensureVisible(n)};i._toSelectTimer&&clearTimeout(i._toSelectTimer),i._toSelectTimer=setTimeout(function(){p()},i.incrementalSearchKeyDownDelay)}d=!0}if(void 0!=i._searchTimer&&clearTimeout(i._searchTimer),(27==t||13==t)&&(i._searchString=""),i._searchTimer=setTimeout(function(){i._searchString="",i._renderItems()},i.incrementalSearchDelay),n>=0)return;if(d)return!1}if(33==t){var m=i._itemsInPage();i.selectedIndex-m>=0?(a(),i.selectIndex(r-m,!1,!1,!1,"keyboard",e)):(a(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(32==t&&this.checkboxes){var o=this.getItem(s);null!=o&&(i._updateItemCheck(o,s),e.preventDefault()),i._searchString=""}if(36==t&&(a(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),35==t&&(a(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),34==t){var m=i._itemsInPage();i.selectedIndex+m<i.visibleItems.length?(a(),i.selectIndex(r+m,!1,!1,!1,"keyboard",e)):(a(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(38==t){if(i._searchString="",!(i.selectedIndex>0))return!1;var f=i._prevItemIndex(i.selectedIndex);if(f==i.selectedIndex||-1==f)return!0;a(),i.selectIndex(f,!1,!1,!1,"keyboard",e)}else if(40==t){if(i._searchString="",!(i.selectedIndex+1<i.visibleItems.length))return!1;var f=i._nextItemIndex(i.selectedIndex);if(f==i.selectedIndex||-1==f)return!0;a(),i.selectIndex(f,!1,!1,!1,"keyboard",e)}if(35==t||36==t||38==t||40==t||34==t||33==t){var v=i.isIndexInView(i.selectedIndex);return v?i._renderItems():i.ensureVisible(i.selectedIndex),!1}return!0}},_updateItemCheck:function(e,t){if(!this.disabled)switch(1==e.checked?e.checked=e.hasThreeStates&&this.hasThreeStates?null:!1:e.checked=null!=e.checked,e.checked){case!0:this.checkIndex(t);break;case!1:this.uncheckIndex(t);break;default:this.indeterminateIndex(t)}},wheel:function(e,t){if(t.autoHeight||!t.enableMouseWheel)return e.returnValue=!0,!0;if(t.disabled)return!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),s?(s=!1,e.returnValue=s,s):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollInstance.value;0>e?this.scrollDown():this.scrollUp();var i=this.vScrollInstance.value;return t!=i?!0:!1},focus:function(){try{this.focused=!0,this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(t){}},_removeHandlers:function(){this.removeHandler(e(document),"keydown.listbox"+this.element.id),this.removeHandler(e(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var e=this;if(e._arrange(),e.host.height()!=e._oldheight||e.host.width()!=e._oldwidth){e.host.width()!=e._oldwidth;if(e.autoItemsHeight)e._render(!1);else if(e.items)if(e.items.length>0&&e.virtualItemsCount*e.items[0].height<e._oldheight-2)e._render(!1);else{var t=e.vScrollInstance.value;e._updatescrollbars(),e._renderItems(),t<e.vScrollInstance.max?e.vScrollInstance.setPosition(t):e.vScrollInstance.setPosition(e.vScrollInstance.max)}e._oldwidth=e.host.width(),e._oldheight=e.host.height()}},_addHandlers:function(){var t=this;this.focused=!1;var i=(new Date,this.isTouchDevice());this.addHandler(this.vScrollBar,"valueChanged",function(i){e.jqx.browser.msie&&e.jqx.browser.version>9?setTimeout(function(){t._renderItems()},1):t._renderItems()}),this.addHandler(this.hScrollBar,"valueChanged",function(){t._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(e){t.wheel(e,t)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(e(document),"keydown.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(e(document),"keyup.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(this.host,"keydown",function(e){return t._handleKeyDown(e)}),this.addHandler(this.content,"mouseleave",function(i){t.focused=!1;var s=e.data(t.element,"hoveredItem");null!=s&&(e(s).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(s).removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.data(t.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.content,"blur",function(e){t.focused=!1,t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.host,"blur",function(i){e.jqx.browser.msie&&e.jqx.browser.version<9&&t.focused||(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!1)}),this.addHandler(this.content,"mouseenter",function(e){t.focused=!0});var s=e.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var r=t.isTouchDevice()&&this.touchMode!==!0,a=r?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"),function(i){if(!t.enableSelection)return!0;if(r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!0;var s=e.jqx.mobile.getTouches(i),a=s[0];if(void 0!=a){var o=t.host.offset(),n=parseInt(a.pageX),l=parseInt(a.pageY);1==t.touchMode&&void 0!=a._pageX&&(n=parseInt(a._pageX),l=parseInt(a._pageY)),n-=o.left,l-=o.top;var h=t._hitTest(n,l);if(null!=h&&!h.isGroup){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(t.checkboxes)return void t._updateItemCheck(h,h.visibleIndex);if(-1==h.html.indexOf("href"))return t.selectIndex(h.visibleIndex,!1,!0,!1,"mouse",i),i.preventDefault&&i.preventDefault(),t.content.trigger("click"),!1;setTimeout(function(){return t.selectIndex(h.visibleIndex,!1,!0,!1,"mouse",i),t.content.trigger("click"),!1},100)}}});else{var o=!1;this.addHandler(this.content,a,function(i){if(!t.enableSelection)return!0;if(o=!0,r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!1;if(t.focused=!0,!t.isTouchDevice()&&t.focusable&&t.host.focus(),i.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=i.target){var n=i.target,l=e(n).offset(),h=t.host.offset();if(s){var d=e.jqx.mobile.getLeftPos(n),c=e.jqx.mobile.getTopPos(n);l.left=d,l.top=c,d=e.jqx.mobile.getLeftPos(t.element),c=e.jqx.mobile.getTopPos(t.element),h.left=d,h.top=c}var u=parseInt(l.top)-parseInt(h.top),p=parseInt(l.left)-parseInt(h.left),m=t._hitTest(p,u);if(null!=m&&!m.isGroup){var f=function(e,i){if(t._shiftKey||(t._clickedIndex=e.visibleIndex),t.checkboxes)if(p=20+i.pageX-l.left,t.rtl){"hidden"!=t.hScrollBar.css("visibility")?t.hScrollInstance.max:t.host.width();p<=t.host.width()-20&&(t.allowDrag?setTimeout(function(){t._dragItem||o||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)))}else p+t.hScrollInstance.value>=20&&(t.allowDrag?setTimeout(function(){t._dragItem||o||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)));else t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)};m.disabled||(-1!=m.html.indexOf("href")?setTimeout(function(){f(m,i)},100):f(m,i))}if("mousedown"==a){var v=!1;return i.which?v=3==i.which:i.button&&(v=2==i.button),v?!0:!1}}return!0})}this.addHandler(this.content,"mouseup",function(e){t.vScrollInstance.handlemouseup(t,e),o=!1}),e.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(e){return!1})}var i=this.isTouchDevice();this.enableHover&&!i&&(this._mousemovefunc=function(r){if(i)return!0;if(!t.enableHover)return!0;1==e.jqx.browser.msie&&e.jqx.browser.version<9?0:1;if(null==r.target)return!0;if(t.disabled)return!0;t.focused=!0;var a=t.vScrollInstance.isScrolling();if(!a&&r.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=r.target){var o=r.target,n=e(o).offset(),l=t.host.offset();if(s){var h=e.jqx.mobile.getLeftPos(o),d=e.jqx.mobile.getTopPos(o);n.left=h,n.top=d,h=e.jqx.mobile.getLeftPos(t.element),d=e.jqx.mobile.getTopPos(t.element),l.left=h,l.top=d}var c=parseInt(n.top)-parseInt(l.top),u=parseInt(n.left)-parseInt(l.left),p=t._hitTest(u,c);if(null!=p&&!p.isGroup&&!p.disabled){var m=e.data(t.element,"hoveredItem");null!=m&&(e(m).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(m).removeClass(t.toThemeProperty("jqx-fill-state-hover"))),e.data(t.element,"hoveredItem",p.element);var f=e(p.element);f.addClass(t.toThemeProperty("jqx-listitem-state-hover")),f.addClass(t.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(e){void 0==e&&(e=!0);var t=this,i=null,s=null,r=t.filterable?t.filterHeight:0,a=function(e){return e=t.host.height(),0==e&&(e=200,t.host.css({height:e})),e};null!=t.width&&-1!=t.width.toString().indexOf("px")?i=t.width:void 0==t.width||isNaN(t.width)||(i=t.width),null!=t.height&&-1!=t.height.toString().indexOf("px")?s=t.height:void 0==t.height||isNaN(t.height)||(s=t.height),null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.css("width",t.width),i=t.host.width()),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.css("height",t.height),s=a(s)),null!=i&&(i=parseInt(i),parseInt(t.element.style.width)!=parseInt(t.width)&&t.host.css({width:t.width})),t.autoHeight?t.virtualSize&&("hidden"!=t.hScrollBar.css("visibility")?(t.host.css({height:t.virtualSize.height+parseInt(t.scrollBarSize)+3}),t.height=t.virtualSize.height+parseInt(t.scrollBarSize)+3,s=t.height):(t.host.css({height:t.virtualSize.height}),t.height=t.virtualSize.height,s=t.virtualSize.height)):null!=s&&(s=parseInt(s),parseInt(t.element.style.height)!=parseInt(t.height)&&(t.host.css({height:t.height}),a(s)));var o=t.scrollBarSize;isNaN(o)&&(o=parseInt(o),isNaN(o)?o="17px":o+="px"),o=parseInt(o);var n=4,l=2,h=1;if(t.vScrollBar&&("hidden"!=t.vScrollBar[0].style.visibility?h=o+n:t.vScrollInstance.setPosition(0),t.hScrollBar)){"hidden"!=t.hScrollBar[0].style.visibility?l=o+n:t.hScrollInstance.setPosition(0),t.autoItemsHeight&&(t.hScrollBar[0].style.visibility="hidden",l=0),null==s&&(s=0);var d=parseInt(s)-n-o;0>d&&(d=0),parseInt(t.hScrollBar[0].style.height)!=o&&(parseInt(o)<0&&(o=0),t.hScrollBar[0].style.height=parseInt(o)+"px"),t.hScrollBar[0].style.top!=d+"px"&&(t.hScrollBar[0].style.top=d+"px",t.hScrollBar[0].style.left="0px");var c=i-o-n;0>c&&(c=0);var u=c+"px";if(t.hScrollBar[0].style.width!=u&&(t.hScrollBar[0].style.width=u),1>=h&&i>=2&&(t.hScrollBar[0].style.width=parseInt(i-2)+"px"),o!=parseInt(t.vScrollBar[0].style.width)&&(t.vScrollBar[0].style.width=parseInt(o)+"px"),parseInt(s)-l!=parseInt(t.vScrollBar[0].style.height)){var p=parseInt(s)-l;0>p&&(p=0),t.vScrollBar[0].style.height=p+"px"}null==i&&(i=0);var m=parseInt(i)-parseInt(o)-n+"px";m!=t.vScrollBar[0].style.left&&(parseInt(m)>=0&&(t.vScrollBar[0].style.left=m),t.vScrollBar[0].style.top="0px");var f=t.vScrollInstance;f.disabled=t.disabled,e&&f._arrange();var v=t.hScrollInstance;if(v.disabled=t.disabled,e&&v._arrange(),"hidden"!=t.vScrollBar[0].style.visibility&&"hidden"!=t.hScrollBar[0].style.visibility?(t.bottomRight[0].style.visibility="inherit",t.bottomRight[0].style.left=1+parseInt(t.vScrollBar[0].style.left)+"px",t.bottomRight[0].style.top=1+parseInt(t.hScrollBar[0].style.top)+"px",t.rtl&&t.bottomRight.css({left:0}),t.bottomRight[0].style.width=parseInt(o)+3+"px",t.bottomRight[0].style.height=parseInt(o)+3+"px"):t.bottomRight[0].style.visibility="hidden",parseInt(t.content[0].style.width)!=parseInt(i)-h){var g=parseInt(i)-h;0>g&&(g=0),t.content[0].style.width=g+"px"}if(t.rtl&&(t.vScrollBar.css({left:"0px",top:"0px"}),t.hScrollBar.css({left:t.vScrollBar.width()+2+"px"}),"hidden"!=t.vScrollBar[0].style.visibility?t.content.css("margin-left",4+t.vScrollBar.width()):(t.content.css("margin-left",0),t.hScrollBar.css({left:"0px"})),t.filterable&&t.filterInput&&t.filterInput.css({left:t.vScrollBar.width()+6+"px"})),parseInt(t.content[0].style.height)!=parseInt(s)-l){var x=parseInt(s)-l;0>x&&(x=0),t.content[0].style.height=x+"px",t.content[0].style.top="0px"}r>0&&(t.content[0].style.top=r+"px",t.content[0].style.height=parseInt(t.content[0].style.height)-r+"px"),t.filterable?(t.filterInput[0].style.height=r-6+"px",t.filterInput[0].style.top="3px",t.rtl||(t.filterInput[0].style.left=parseInt(t.content.css("left"))+3+"px"),t.filterInput[0].style.width=parseInt(t.content.css("width"))-7+"px",t.filter[0].style.display="block"):t.filter[0].style.display="none",t.overlayContent&&(t.overlayContent.css({width:parseInt(i)-h}),t.overlayContent.css({height:parseInt(s)-l}))}},ensureVisible:function(t,i){if(isNaN(t)){var s=this.getItemByValue(t);s&&(t=s.index)}var r=this.isIndexInView(t);if(r){if(i)for(indx=0;indx<this.visibleItems.length;indx++){var s=this.visibleItems[indx];if(s.visibleIndex==t&&!s.isGroup){var a=this.vScrollInstance.value,o=s.initialTop;this.filterable&&(o=this.filterHeight+2+s.initialTop),a+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(o)}}}else{if(0>t)return;if(this.autoHeight){var n=e.data(this.vScrollBar[0],"jqxScrollBar").instance;
n.setPosition(0)}else for(indx=0;indx<this.visibleItems.length;indx++){var s=this.visibleItems[indx];if(s.visibleIndex==t&&!s.isGroup){var n=e.data(this.vScrollBar[0],"jqxScrollBar").instance,a=n.value,l=this.filterable?this.filterHeight+2:0,h="hidden"===this.hScrollBar.css("visibility"),d=h?0:this.scrollBarSize+4;if(s.initialTop<a)n.setPosition(s.initialTop),0==indx&&n.setPosition(0);else if(s.initialTop+s.height>a+this.host.height()-l){var c=this.host.height();if(this.filterable?n.setPosition(this.filterHeight+2+s.initialTop+s.height+2-c+d):(n.setPosition(s.initialTop+s.height+2-c+d),indx===this.visibleItems.length-1&&n.setPosition(n.max)),i){var a=n.value,o=s.initialTop;this.filterable&&(o=this.filterHeight+2+s.initialTop),a+c<n.max&&n.setPosition(o)}}break}}}this._renderItems()},scrollTo:function(e,t){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(t),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(e)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value!=e.min?(e.setPosition(e.min),!0):!1},databind:function(t,i){this.records=new Array;var s=t._source?!0:!1,r=new e.jqx.dataAdapter(t,{autoBind:!1});s&&(r=t,t=t._source);var a=function(e){void 0!=t.type&&(r._options.type=t.type),void 0!=t.formatdata&&(r._options.formatData=t.formatdata),void 0!=t.contenttype&&(r._options.contentType=t.contenttype),void 0!=t.async&&(r._options.async=t.async)},o=function(t,i){var s=function(i){var s=null;if("string"==typeof i)var r=i,a=i,o="";else if(void 0!=t.displayMember&&""!=t.displayMember)var a=i[t.valueMember],r=i[t.displayMember];var o="";if(t.groupMember?o=i[t.groupMember]:i&&void 0!=i.group&&(o=i.group),t.searchMember?s=i[t.searchMember]:i&&void 0!=i.searchLabel&&(s=i.searchLabel),t.valueMember||t.displayMember||"string"==e.type(i)&&(r=a=i.toString()),i&&void 0!=i.label)var r=i.label;if(i&&void 0!=i.value)var a=i.value;var n=!1;i&&void 0!=i.checked&&(n=i.checked);var l="";i&&void 0!=i.html&&(l=i.html);var h=!0;i&&void 0!=i.visible&&(h=i.visible);var d=!1;i&&void 0!=i.disabled&&(d=i.disabled);var c=!1;i&&void 0!=i.hasThreeStates&&(c=i.hasThreeStates);var u={};return u.label=r,u.value=a,u.searchLabel=s,u.html=l,u.visible=h,u.originalItem=i,u.group=o,u.groupHtml="",u.disabled=d,u.checked=n,u.hasThreeStates=c,u};if(void 0!=i){var a=r._changedrecords[0];if(a)return void e.each(r._changedrecords,function(){var e=this.index,r=this.record;if("remove"!=i)var a=s(r);switch(i){case"update":t.updateAt(a,e);break;case"add":t.insertAt(a,e);break;case"remove":t.removeAt(e)}})}t.records=r.records;for(var o=t.records.length,n=new Array,l=0;o>l;l++){var h=t.records[l],d=s(h);d.index=l,n[l]=d}t.items=t.loadItems(n,!0),t._render(),t._raiseEvent("6")};a(this);var n=this;switch(t.datatype){case"local":case"array":default:(null!=t.localdata||e.isArray(t))&&(r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),o(this),r.bindBindingUpdate(this.element.id,function(e){o(n,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),o(this),void r.bindBindingUpdate(this.element.id,function(){o(n)});var l={};r._options.data?e.extend(r._options.data,l):(t.data&&e.extend(l,t.data),r._options.data=l);var h=function(){o(n)};r.unbindDownloadComplete(n.element.id),r.bindDownloadComplete(n.element.id,h),(this.autoBind||!this.autoBind&&!i)&&r.dataBind()}},loadItems:function(t,i){if(null==t)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var s=this,r=0,a=0,o=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var n=new Array;this.itemsByValue=new Array,e.map(t,function(t){if(void 0==t)return null;var l=new e.jqx._jqxListBox.item,h=t.group,d=t.groupHtml,c=t.title,u=null;if(s.searchMember?u=t[s.searchMember]:t&&void 0!=t.searchLabel&&(u=t.searchLabel),(null==c||void 0==c)&&(c=""),(null==h||void 0==h)&&(h=""),s.groupMember&&(h=t[s.groupMember]),(null==d||void 0==d)&&(d=""),!s.groups[h]){s.groups[h]={items:new Array,index:-1,caption:h,captionHtml:d},r++;var p=r+"jqxGroup";s.groups[p]=s.groups[h],a++,s.groups.length=a}var m=s.groups[h];return m.index++,m.items[m.index]=l,"string"==typeof t?(l.label=t,l.value=t,arguments.length>1&&arguments[1]&&"string"==e.type(arguments[1])&&(l.label=t,l.value=arguments[1])):null==t.label&&null==t.value&&null==t.html&&null==t.group&&null==t.groupHtml?(l.label=t.toString(),l.value=t.toString()):(l.label=t.label,l.value=t.value,void 0===l.label&&(l.label=t.value),void 0===l.value&&(l.value=t.label)),"string"!=typeof t&&(void 0===t.label&&""!=s.displayMember&&(void 0!=t[s.displayMember]?l.label=t[s.displayMember]:l.label=""),void 0===t.value&&""!=s.valueMember&&(l.value=t[s.valueMember])),l.hasThreeStates=void 0!=t.hasThreeStates?t.hasThreeStates:!0,l.originalItem=t,i&&(l.originalItem=t.originalItem),l.title=c,c&&void 0===l.value&&void 0===l.label&&(l.value=l.label=c),l.html=t.html||"",t.html&&""!=t.html,l.group=h,l.checked=t.checked||!1,l.groupHtml=t.groupHtml||"",l.disabled=t.disabled||!1,l.visible=void 0!=t.visible?t.visible:!0,l.searchLabel=u,l.index=o,n[o]=l,o++,l});var l=new Array,h=0;if(void 0==this.fromSelect||0==this.fromSelect)for(var d=0;a>d;d++){var r=d+1,c=r+"jqxGroup",u=this.groups[c];if(void 0==u||null==u)break;if(0==d&&""==u.caption&&""==u.captionHtml&&1>=a){for(var p=0;p<u.items.length;p++){var m=u.items[p].value;(void 0==u.items[p].value||null==u.items[p].value)&&(m=p),this.itemsByValue[e.trim(m).split(" ").join("?")]=u.items[p]}return u.items}var f=new e.jqx._jqxListBox.item;f.isGroup=!0,f.label=u.caption,""==u.caption&&""==u.captionHtml&&(u.caption=this.emptyGroupText,f.label=u.caption),f.html=u.captionHtml,l[h]=f,h++;for(var v=0;v<u.items.length;v++){l[h]=u.items[v];var m=u.items[v].value;(""==u.items[v].value||null==u.items[v].value)&&(m=h),s.itemsByValue[e.trim(m).split(" ").join("?")]=u.items[v],h++}}else{var h=0,g=new Array;e.each(n,function(){if(!g[this.group]&&""!=this.group){var t=new e.jqx._jqxListBox.item;t.isGroup=!0,t.label=this.group,l[h]=t,h++,g[this.group]=!0}l[h]=this;var i=this.value;(""==this.value||null==this.value)&&(i=h-1),s.itemsByValue[e.trim(i).split(" ").join("?")]=this,h++})}return l},_mapItem:function(t){var i=new e.jqx._jqxListBox.item;return this.displayMember&&(void 0==t.label&&(t.label=t[this.displayMember]),void 0==t.value&&(t.value=t[this.valueMember])),"string"==typeof t?(i.label=t,i.value=t):"number"==typeof t?(i.label=t.toString(),i.value=t.toString()):(i.label=void 0!==t.label?t.label:t.value,i.value=void 0!==t.value?t.value:t.label),void 0==i.label&&void 0==i.value&&void 0==i.html&&(i.label=i.value=t),i.html=t.html||"",i.group=t.group||"",i.checked=t.checked||!1,i.title=t.title||"",i.groupHtml=t.groupHtml||"",i.disabled=t.disabled||!1,i.visible=t.visible||!0,i},addItem:function(e){return this.insertAt(e,this.items?this.items.length:0)},_getItemByParam:function(e){if(null!=e&&void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return e},insertItem:function(e,t){var i=this._getItemByParam(e);return this.insertAt(i,t)},updateItem:function(e,t){var i=this._getItemByParam(t);return i&&void 0!=i.index?this.updateAt(e,i.index):!1},updateAt:function(t,i){if(null!=t){var s=this._mapItem(t);this.itemsByValue[e.trim(s.value).split(" ").join("?")]=this.items[i],this.items[i].value=s.value,this.items[i].label=s.label,this.items[i].html=s.html,this.items[i].disabled=s.disabled}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(t,i){if(null==t)return!1;if(this._cachedItemHtml=[],void 0==this.items||0==this.items.length){this.source=new Array,this.refresh();var s=this._mapItem(t);s.index=0,this.items[this.items.length]=s,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var r=s.value;return(""==s.value||null==s.value)&&(r=i),this.itemsByValue[e.trim(r).split(" ").join("?")]=s,!1}var s=this._mapItem(t);if(-1==i||void 0==i||null==i||i>=this.items.length)s.index=this.items.length,this.items[this.items.length]=s;else{for(var a=new Array,o=0,n=!1,l=0,h=0;h<this.items.length;h++)0==this.items[h].isGroup&&l>=i&&!n&&(a[o++]=s,s.index=i,l++,n=!0),a[o]=this.items[h],this.items[h].isGroup||(a[o].index=l,l++),o++;this.items=a}var r=s.value;(""==s.value||null==s.value)&&(r=i),this.itemsByValue[e.trim(r).split(" ").join("?")]=s,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,c=d.value;return d.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this.groups.length>1,this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),d.setPosition(c),this.rendered&&this.rendered(),!0},removeAt:function(t){if(0>t||t>this.items.length-1)return!1;if(void 0==t)return!1;var i=this.items[t].height,s=this.items[t].value;if((""==s||null==s)&&(s=t),this.itemsByValue[e.trim(s).split(" ").join("?")]=null,this.groups.length>1){for(var r=new Array,a=0;a<this.items.length;a++)this.items[a].isGroup||r.push({item:this.items[a],key:a});if(!r[t])return!1;this.items.splice(r[t].key,1)}else this.items.splice(t,1);for(var o=new Array,n=0,l=0,a=0;a<this.items.length;a++)o[n]=this.items[a],this.items[a].isGroup||(o[n].index=l,l++),n++;this.items=o;var h=e.data(this.vScrollBar[0],"jqxScrollBar").instance,h=e.data(this.vScrollBar[0],"jqxScrollBar").instance,d=h.value;if(h.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=i;var c=2*this.virtualSize.itemsPerPage;this.autoHeight&&(c=this.items.length),this.virtualItemsCount=Math.min(c,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),"hidden"!=this.vScrollBar.css("visibility")?h.setPosition(d):h.setPosition(0),this.itemsByValue=new Array;for(var u=0;u<this.items.length;u++){var s=this.items[u].value;(""==this.items[u].value||null==this.items[u].value)&&(s=u),this.itemsByValue[e.trim(s).split(" ").join("?")]=this.items[u]}return this.rendered&&this.rendered(),!0},removeItem:function(e,t){var i=this._getItemByParam(e),s=-1;if(i&&void 0!=i.index&&t!==!0){for(var r=0;r<this.items.length;r++)if(this.items[r].label==i.label&&this.items[r].value==i.value){s=r;break}if(-1!=s)return this.removeAt(s)}return-1==s?this.removeAt(i.index):void 0},getItems:function(){return this.items},disableItem:function(e){var t=this._getItemByParam(e);this.disableAt(t.index)},enableItem:function(e){var t=this._getItemByParam(e);this.enableAt(t.index)},disableAt:function(e){return this.items?0>e||e>this.items.length-1?!1:(this.items[e].disabled=!0,this._renderItems(),!0):!1},enableAt:function(e){return this.items?0>e||e>this.items.length-1?!1:(this.items[e].disabled=!1,this._renderItems(),!0):!1},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),e.jqx.utilities.resize(this.host,null,!0);var t=e.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),t&&delete t.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(t,i){if(1==this._stopEvents)return!0;void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this,this._updateInputSelection();var r=new e.Event(s);if(r.owner=this,r.args=args,null!=this.host)var a=this.host.trigger(r);return a}})}(jqxBaseFramework),function(e){e.jqx.parseSourceTag=function(t){var i=new Array,s=e(t).find("option"),r=e(t).find("optgroup"),a=!1;0===s.length&&(s=e(t).find("li"),s.length>0&&(a=!0));var o=null,o=-1,n=new Array;if(e.each(s,function(t){var s=r.find(this).length>0,l=null;null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),a===!0&&(this.label=e(this).text(),this.selected=e(this).attr("data-selected"),this.checked=this.selected,this.value=e(this).attr("data-value")||t,this.disabled=e(this).attr("disabled"));var h={style:this.style.cssText,selected:this.selected,html:this.innerHTML,classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this},d=e.jqx.browser.msie&&e.jqx.browser.version<8;d&&!a&&""==h.value&&null!=this.text&&this.text.length>0&&(h.value=this.text),s&&(l=r.find(this).parent()[0].label,h.group=l,n[l]||(n[l]=new Array,n.length++),n[l].push(h)),this.selected&&(o=t),h.checked=this.selected,void 0!==h.label&&i.push(h)}),n.length>0){var l=new Array;for(var h in n)if("indexOf"!==h){for(var d=null,c=0;c<r.length;c++)if(h===r[c].label||r[c].text){d=r[c];break}e.each(n[h],function(e,t){void 0!==this.label&&l.push(this)})}}return l&&l.length>0?{items:l,index:o}:{items:i,index:o}},e.jqx._jqxListBox.item=function(){var e={group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1};return e}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxLoader","",{}),e.extend(e.jqx._jqxLoader.prototype,{defineInstance:function(){var t={width:e.jqx.utilities.loading_width,height:e.jqx.utilities.loading_height,text:"Loading...",html:null,textPosition:"bottom",imagePosition:"center",isModal:!1,autoOpen:!1,rtl:!1,events:["create"],type:"line",isShowBorder:!0};e.extend(!0,this,t)},createInstance:function(e){var t=this;t._render(!0),t._raiseEvent("0")},render:function(){this._render()},open:function(e,t){var i=this;null!==this.width&&-1!==this.width.toString().indexOf("%")&&i.host.css("width",this.width),null!==this.height&&-1!==this.height.toString().indexOf("%")&&i.host.css("height",this.height),i.host.show(),i.host.css("left",-i.host.width()/2),i.host.css("top",-i.host.height()/2),e&&t&&(i.host.css("left",e),i.host.css("top",t)),i.isModal&&i._modal.show()},close:function(){var e=this;e.host.hide(),e.isModal&&e._modal.hide()},_checkBrowser:function(){var t=this;"msie"===e.jqx.browser.browser&&("7.0"===e.jqx.browser.version?(t.isModal===!1&&t.host.addClass(t.toThemeProperty("jqx-loader-ie-transparency")),t.host.css("top",Math.max(0,(e(window).height()-e(t.host).outerHeight())/2+e(window).scrollTop())+"px"),t.host.css("left",Math.max(0,(e(window).width()-e(t.host).outerWidth())/2+e(window).scrollLeft())+"px"),e(window).resize(function(){t.host.css("top",Math.max(0,(e(window).height()-e(t.host).outerHeight())/2+e(window).scrollTop())+"px"),t.host.css("left",Math.max(0,(e(window).width()-e(t.host).outerWidth())/2+e(window).scrollLeft())+"px")}),this.host.css({"margin-top":"0","margin-left":"0"})):"8.0"===e.jqx.browser.version&&t.isModal===!1&&t.host.addClass(t.toThemeProperty("jqx-loader-ie-transparency")))},_textPos:function(){var e=this;this._text=e.host.children("div:eq(1)"),this._image&&this._image.css("background-position-y",e.imagePosition),"top"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right"))):"bottom"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-bottom")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right"))):"left"===e.textPosition?(this._text.addClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom"))):"right"===e.textPosition&&(this._text.addClass(e.toThemeProperty("jqx-loader-text-right")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-left")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-top")),this._text.removeClass(e.toThemeProperty("jqx-loader-text-bottom")))},refresh:function(e){e!==!0&&this._render(!1)},destroy:function(){var e=this;e._removeHandlers(),e.host.remove()},propertyChangedHandler:function(e,t,i,s){if(s!==i)switch(t){case"width":e.host.css({width:s});break;case"height":e.host.css({height:s});break;case"text":e._text.text(s);break;case"html":e.host.html(s);break;case"textPosition":e._textPos(s);break;case"rtl":s===!0?e._text.addClass(e.toThemeProperty("jqx-loader-rtl")):e._text.removeClass(e.toThemeProperty("jqx-loader-rtl"))}},_raiseEvent:function(t,i){var s=this,r=s.events[t],a=new e.Event(r);a.owner=s,a.args=i;try{var o=s.host.trigger(a)}catch(n){}return o},_render:function(t){var i=this;if(i.host.css({width:i.width}),i.host.css({height:i.height}),i.autoOpen===!1&&i.host.hide(),t){if(null===i.html)if("line"==i.type){var s=e('<div class="'+i.toThemeProperty("bh-loader-icon-line")+' "><i></i><i></i><i></i><i></i><i></i></div>');i.isShowBorder?s.addClass("bh-loader-icon-line-border"):s.addClass("bh-loader-icon-line-noborder"),i.host.append(s)}else"circle"==i.type&&(i.host.append('<div class="'+i.toThemeProperty("jqx-loader-icon")+'"></div><div class="'+i.toThemeProperty("jqx-loader-text")+'">'+i.text+"</div>"),i._image=i.host.children("div:eq(0)"),i._text=i.host.children("div:eq(1)"));else i.host.html(this.html);if(i.isModal===!0){var r=i.host.css("display");i._modal=e('<div id="'+i.element.id+'Modal" class="'+i.toThemeProperty("jqx-loader-modal")+'" style="display: '+r+';"></div>'),e("body").append(i._modal)}}i._checkBrowser(),i._textPos(),i._addClass(),i._removeHandlers(),i._addHandlers()},_addHandlers:function(){var t=this;t.isModal===!0&&t.addHandler(e(document),"keyup.loader"+t.element.id,function(e){27===e.keyCode&&t.close()})},_removeHandlers:function(){var t=this;t.removeHandler(e(document),"keyup.loader"+t.element.id)},_addClass:function(){var t=this;t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-loader")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl&&t._text.addClass(t.toThemeProperty("jqx-loader-rtl")),e.jqx.browser.msie&&t.host.addClass(this.toThemeProperty("jqx-noshadow")),t.host.addClass(this.toThemeProperty("jqx-rc-t")),t.host.addClass(this.toThemeProperty("jqx-rc-b")),t.host.addClass(this.toThemeProperty("jqx-popup"))}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxMenu","",{}),e.extend(e.jqx._jqxMenu.prototype,{defineInstance:function(){var t={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:100,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:17e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized","open","close"]};return e.extend(!0,this,t),t},createInstance:function(t){var i=this;if(this.host.attr("role","menubar"),e.jqx.utilities.resize(this.host,function(){i.refresh()},!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&e(window).resize(function(){i.refresh()}),this.host.css("outline","none"),this.source&&null!=this.source){var s=this.loadItems(this.source);this.element.innerHTML=s}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var r=this.host.find("ul:first");r.length>0&&this._createMenu(r[0])}this.host.data("autoclose",{}),this._render(),this.setSize(),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{if(this.host.focus(),"popup"===this.mode){var t=this.host.closest("div.jqx-menu-wrapper");t.focus()}if(this.keyboardNavigation){var i=this,s=function(){if(e.jqx.isHidden(e(i.items[0].element))){var t=i._nextVisibleItem(i.items[0],0);t&&(e(t.element).addClass(i.toThemeProperty("jqx-fill-state-focus")),i.activeItem=t)}else e(i.items[0].element).addClass(i.toThemeProperty("jqx-fill-state-focus")),i.activeItem=i.items[0]};this.activeItem?e.jqx.isHidden(e(this.activeItem.element))?(e(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus")),s()):e(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus")):s()}}catch(r){}},loadItems:function(t,i){if(null!=t){if(0==t.length)return"";var s=this;this.items=new Array;var r='<ul class="jqx-menu-ul">';return i&&(r='<ul class="jqx-menu-ul" style="width:'+i+';">'),e.map(t,function(e){return void 0==e?null:void(r+=s._parseItem(e))}),r+="</ul>"}},_parseItem:function(e){var t="";if(void 0==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e);var s=!1;void 0!=e.selected&&e.selected&&(s=!0);var r=!1;return void 0!=e.disabled&&e.disabled&&(r=!0),t+="<li",r&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),void 0!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(t+=e.subMenuWidth?this.loadItems(e.items,e.subMenuWidth):this.loadItems(e.items)),t+="</li>"},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.css({width:this.width}):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.css({width:this.width}):void 0==this.width||isNaN(this.width)||this.host.css({width:this.width}),null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.css({height:this.height}):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.css({height:this.height}):void 0==this.height||isNaN(this.height)||this.host.css({height:this.height}),null===this.height&&this.host.css({height:"auto"});if(null!=this.minimizeWidth&&"popup"!=this.mode){var t=e(window).width();if(!e.jqx.response){var i=!1;if(navigator.userAgent.match(/Windows|Linux|MacOS/)){var s=navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0;s||(i=!0)}var r=this.minimizeWidth;if(i&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&e.jqx.response){var a=new e.jqx.response;("Phone"==a.device.type||"Tablet"==a.device.type)&&(this.minimized||this.minimize())}else r>t&&!this.minimized?this.minimize():this.minimized&&t>=r&&this.restore()}},minimize:function(){if(!this.minimized){var t=this;this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple";var i=this.host.closest("div.jqx-menu-wrapper");if(i.remove(),e("#menuWrapper"+this.element.id).remove(),e.each(this.items,function(){var t=this,i=(e(t.element),e(t.subMenuElement)),s=i.closest("div.jqx-menu-popup");s.remove()}),this.source){var s=this.loadItems(this.source);this.element.innerHTML=s,this._tmpHTML=this.element.innerHTML}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var r=this.host.find("ul:first");r.length>0&&this._createMenu(r[0])}this._render();var a=this.host.find("ul:first");a.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var i=a.closest("div.jqx-menu-wrapper");i[0].id="menuWrapper"+this.element.id,i.detach(),i.appendTo(e(document.body)),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-menu")),i.addClass(this.toThemeProperty("jqx-menu-minimized")),i.addClass(this.toThemeProperty("jqx-widget-header")),a.children().hide(),i.hide(),i.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=e("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(i,"keydown",function(e){return t.handleKeyDown(e)}),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=e("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),e("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),t.minimizedHidden=!0;var o=function(e){t.minimizedHidden=!0,t.minimizedItem.show();var s=!1;"right"==t.minimizedItem.css("float")&&(s=!0),i.animate({left:s?t.host.coord().left+t.host.width()+i.width():-i.outerWidth(),opacity:0},t.animationHideDuration,function(){i.find("ul:first").children().hide(),i.hide()})},n=function(e){if(t.minimizedHidden){i.find("ul:first").children().show(),t.minimizedHidden=!1,i.show(),i.css("opacity",0),i.css("left",-i.outerWidth());var s=!1,r=i.width();"right"==t.minimizedItem.css("float")&&(i.css("left",t.host.coord().left+t.host.width()+r),s=!0),i.css("top",t.host.coord().top+t.host.height()),i.animate({left:s?t.host.coord().left+t.host.width()-r:t.host.coord().left,opacity:.95},t.animationShowDuration,function(){})}else o(e);t._raiseEvent("2",{type:"mouse",item:t.minimizedItem[0],event:e}),t.setSize()};this.addHandler(e(window),"orientationchange.jqxmenu"+this.element.id,function(e){setTimeout(function(){if(!t.minimizedHidden){var e=i.width(),s=!1,e=i.width();"right"==t.minimizedItem.css("float")&&(s=!0),i.css("top",t.host.coord().top+t.host.height()),i.css({left:s?t.host.coord().left+t.host.width()-e:t.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(e){n(e)})}},restore:function(){if(this.minimized){this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove();var t=e("#menuWrapper"+this.element.id);if(t.remove(),this.source){var i=this.loadItems(this.source);this.element.innerHTML=i,this._tmpHTML=i}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var s=this.host.find("ul:first");s.length>0&&this._createMenu(s[0])}this.setSize(),this._render()}},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&(this.host.addClass(this.toThemeProperty("jqx-touch")),e(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=t,t},refresh:function(e){e||this.setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(t){var i=null!=t?t.data:this,s=i.items;if(e.each(s,function(){var e=this;1==e.hasItems&&e.isOpen&&i._closeItem(i,e)}),"popup"==i.mode&&null!=t){var r=i._isRightClick(t);r||i.close()}},closeItem:function(t){if(null==t)return!1;var i=t,s=document.getElementById(i),r=this;return e.each(r.items,function(){var e=this;1==e.isOpen&&e.element==s&&(r._closeItem(r,e),e.parentId&&r.closeItem(e.parentId))}),!0},openItem:function(t){if(null==t)return!1;var i=t,s=document.getElementById(i),r=this;return e.each(r.items,function(){var e=this;0==e.isOpen&&e.element==s&&(r._openItem(r,e),e.parentId&&r.openItem(e.parentId))}),!0},_getClosedSubMenuOffset:function(t){var i=e(t.subMenuElement),s=-i.outerHeight(),r=-i.outerWidth(),a=0==t.level&&"horizontal"==this.mode;switch(a?r=0:s=0,t.openVerticalDirection){case"up":case"center":s=i.outerHeight()}switch(t.openHorizontalDirection){case this._getDir("left"):r=a?0:i.outerWidth();break;case"center":r=a?0:i.outerWidth()}return{left:r,top:s}},_closeItem:function(t,i,s,r){if(null==t||null==i)return!1;var a=e(i.subMenuElement),o=0==i.level&&"horizontal"==this.mode,n=this._getClosedSubMenuOffset(i),l=n.top,h=n.left,d=(e(i.element),a.closest("div.jqx-menu-popup"));if(null!=d){var c=t.animationHideDelay;1==r&&(c=0),a.data("timer")&&null!=a.data("timer").show&&(clearTimeout(a.data("timer").show),a.data("timer").show=null);var u=function(){i.isOpen=!1,o?a.stop().animate({top:l},t.animationHideDuration,function(){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),e(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded")),d.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var s=e(i.arrow);s.length>0&&t.showTopLevelArrows&&(s.removeClass(),"down"==i.openVerticalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),s.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),s.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),e.jqx.aria(e(i.element),"aria-expanded",!1),d.css({display:"none"}),0==t.animationHideDuration&&a.css({top:l}),t._raiseEvent("1",i)}):(!e.jqx.browser.msie,a.stop().animate({left:h},t.animationHideDuration,function(){if(0==t.animationHideDuration&&a.css({left:h}),i.level>0){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected"));var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}else{e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected"));var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}e.jqx.aria(e(i.element),"aria-expanded",!1),d.css({display:"none"}),t._raiseEvent("1",i)}))};if(c>0?a.data("timer")&&(a.data("timer").hide=setTimeout(function(){u()},c)):u(),void 0!=s&&s){var p=a.children();e.each(p,function(){if(t.menuElements[this.id]&&t.menuElements[this.id].isOpen){e(t.menuElements[this.id].subMenuElement);t._closeItem(t,t.menuElements[this.id],!0,!0)}})}}},getSubItems:function(t,i){
if(null==t)return!1;var s=this,r=new Array;null!=i&&e.extend(r,i);var a=t,o=this.menuElements[a],n=e(o.subMenuElement),l=n.find(".jqx-menu-item");return e.each(l,function(){r[this.id]=s.menuElements[this.id];var t=s.getSubItems(this.id,r);e.extend(r,t)}),r},disable:function(t,i){if(null!=t){var s=t,r=this;if(this.menuElements[s]){var a=this.menuElements[s];a.disabled=i;var o=e(a.element);a.element.disabled=i,e.each(o.children(),function(){this.disabled=i}),i?(o.addClass(r.toThemeProperty("jqx-menu-item-disabled")),o.addClass(r.toThemeProperty("jqx-fill-state-disabled"))):(o.removeClass(r.toThemeProperty("jqx-menu-item-disabled")),o.removeClass(r.toThemeProperty("jqx-fill-state-disabled")))}}},getItem:function(e){if(this.menuElements[e]){var t=this.menuElements[e];return t}return null},disableItem:function(e){this.disable(e,!0)},hideItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];e(i.element).hide()}},showItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];e(i.element).show()}},enableItem:function(e){this.disable(e,!1)},_setItemProperty:function(e,t,i){if(null!=e){var s=e;if(this.menuElements[s]){var r=this.menuElements[s];r[t]&&(r[t]=i)}}},setItemOpenDirection:function(t,i,s){if(null!=t){var r=t,a=this,o=e.jqx.browser.msie&&e.jqx.browser.version<8;if(this.menuElements[r]){var n=this.menuElements[r];if(null!=i&&(n.openHorizontalDirection=i,n.hasItems&&n.level>0)){var l=e(n.element);if(void 0!=l){var h=e(n.arrow);null==n.arrow&&(h=e('<span id="arrow'+l[0].id+'"></span>'),o?h.appendTo(l):h.prependTo(l),n.arrow=h[0]),h.removeClass(),"left"==n.openHorizontalDirection?(h.addClass(a.toThemeProperty("jqx-menu-item-arrow-"+a._getDir("left"))),h.addClass(a.toThemeProperty("jqx-icon-arrow-"+a._getDir("left")))):(h.addClass(a.toThemeProperty("jqx-menu-item-arrow-"+a._getDir("right"))),h.addClass(a.toThemeProperty("jqx-icon-arrow-"+a._getDir("right")))),h.css("visibility","visible"),o?(h.css("display","inline-block"),h.css("float","none")):(h.css("display","block"),h.css("float","right"))}}if(null!=s){n.openVerticalDirection=s;var h=e(n.arrow),l=e(n.element);if(!a.showTopLevelArrows)return;void 0!=l&&(null==n.arrow&&(h=e('<span id="arrow'+l[0].id+'"></span>'),o?h.appendTo(l):h.prependTo(l),n.arrow=h[0]),h.removeClass(),"down"==n.openVerticalDirection?(h.addClass(a.toThemeProperty("jqx-menu-item-arrow-down")),h.addClass(a.toThemeProperty("jqx-icon-arrow-down"))):(h.addClass(a.toThemeProperty("jqx-menu-item-arrow-up")),h.addClass(a.toThemeProperty("jqx-icon-arrow-up"))),h.css("visibility","visible"),o?(h.css("display","inline-block"),h.css("float","none")):(h.css("display","block"),h.css("float","right")))}}}},_getSiblings:function(e){for(var t=new Array,i=0,s=0;s<this.items.length;s++)this.items[s]!=e&&this.items[s].parentId==e.parentId&&this.items[s].hasItems&&(t[i++]=this.items[s]);return t},_openItem:function(t,i,s){if(null==t||null==i)return!1;if(i.isOpen)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var r=t.popupZIndex;void 0!=s&&(r=s);var a=t.animationHideDuration;t.animationHideDuration=0,t._closeItem(t,i,!0,!0),t.animationHideDuration=a,e(i.element).focus();var o=[5,5],n=e(i.subMenuElement);null!=n&&n.stop(),n.data("timer")&&null!=n.data("timer").hide&&clearTimeout(n.data("timer").hide);var l=n.closest("div.jqx-menu-popup"),h=e(i.element),d=0==i.level?this._getOffset(i.element):h.position();if(i.level>0&&this.hasTransform){var c=parseInt(h.coord().top)-parseInt(this._getOffset(i.element).top);d.top+=c}0==i.level&&"popup"==this.mode&&(d=h.coord());var u=0==i.level&&"horizontal"==this.mode,p=u?d.left:null!=this.menuElements[i.parentId]&&null!=this.menuElements[i.parentId].subMenuElement?parseInt(e(e(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-o[0]:parseInt(n.outerWidth());if(l.css({visibility:"visible",display:"block",left:p,top:u?d.top+h.outerHeight():d.top,zIndex:r}),n.css("display","block"),"horizontal"!=this.mode&&0==i.level){var m=this._getOffset(this.element);l.css("left",-1+m.left+this.host.outerWidth()),n.css("left",-n.outerWidth())}else{var f=this._getClosedSubMenuOffset(i);n.css("left",f.left),n.css("top",f.top)}l.css({height:parseInt(n.outerHeight())+parseInt(o[1])+"px"});var v=0,g=0;switch(i.openVerticalDirection){case"up":if(u){n.css("top",n.outerHeight()),v=o[1];var x=parseInt(n.parent().css("padding-bottom"));isNaN(x)&&(x=0),x>0&&l.addClass(this.toThemeProperty("jqx-menu-popup-clear")),n.css("top",n.outerHeight()-x),l.css({display:"block",top:d.top-l.outerHeight(),zIndex:r})}else v=o[1],n.css("top",n.outerHeight()),l.css({display:"block",top:d.top-l.outerHeight()+o[1]+h.outerHeight(),zIndex:r});break;case"center":u?(n.css("top",0),l.css({display:"block",top:d.top-l.outerHeight()/2+o[1],zIndex:r})):(n.css("top",0),l.css({display:"block",top:d.top+h.outerHeight()/2-l.outerHeight()/2+o[1],zIndex:r}))}switch(i.openHorizontalDirection){case this._getDir("left"):u?l.css({left:d.left-(l.outerWidth()-h.outerWidth()-o[0])}):(g=0,n.css("left",l.outerWidth()),l.css({left:d.left-l.outerWidth()+2*i.level}));break;case"center":u?l.css({left:d.left-(l.outerWidth()/2-h.outerWidth()/2-o[0]/2)}):(l.css({left:d.left-(l.outerWidth()/2-h.outerWidth()/2-o[0]/2)}),n.css("left",l.outerWidth()))}if(u){if(parseInt(n.css("top"))==v)return void(i.isOpen=!0)}else if(parseInt(n.css("left"))==g)return void(1==i.isOpen);e.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)});var b=e.data(t.element,"animationHideDelay");t.animationHideDelay=b,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval))),n.data("timer")&&(n.data("timer").show=setTimeout(function(){if(null!=l)if(u){n.stop(),n.css("left",g),!e.jqx.browser.msie,h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),"down"==i.openVerticalDirection?(e(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),l.addClass(t.toThemeProperty("jqx-rc-t-expanded"))):(e(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),l.addClass(t.toThemeProperty("jqx-rc-b-expanded")));var s=e(i.arrow);s.length>0&&t.showTopLevelArrows&&(s.removeClass(),"down"==i.openVerticalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),0==t.animationShowDuration?(n.css({top:v}),i.isOpen=!0,t._raiseEvent("0",i),e.jqx.aria(e(i.element),"aria-expanded",!0)):n.animate({top:v},t.animationShowDuration,t.easing,function(){i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0),t._raiseEvent("0",i)})}else{if(n.stop(),n.css("top",v),!e.jqx.browser.msie,i.level>0){h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-selected"));var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}else{h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-top-selected"));var s=e(i.arrow);s.length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}!e.jqx.browser.msie,0==t.animationShowDuration?(n.css({left:g}),t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)):n.animate({left:g},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)})}},this.animationShowDelay))},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(t,i){var s=this,r=0;if(s.host.removeClass(s.toThemeProperty("jqx-menu-horizontal")),s.host.removeClass(s.toThemeProperty("jqx-menu-vertical")),s.host.removeClass(s.toThemeProperty("jqx-menu")),s.host.removeClass(s.toThemeProperty("jqx-widget")),s.host.addClass(s.toThemeProperty("jqx-widget")),s.host.addClass(s.toThemeProperty("jqx-menu")),void 0!=t&&void 0!=i&&"popup"==i){if(s.host.parent().length>0&&s.host.parent().parent().length>0&&s.host.parent().parent()[0]==document.body){var a=e.data(document.body,"jqxMenuOldHost"+s.element.id);if(null!=a){var o=s.host.closest("div.jqx-menu-wrapper");o.remove(),o.appendTo(a),s.host.css("display","block"),s.host.css("visibility","visible"),o.css("display","block"),o.css("visibility","visible")}}}else void 0==t&&void 0==i&&e.data(document.body,"jqxMenuOldHost"+s.element.id,s.host.parent()[0]);switch(s.autoOpenPopup?"popup"==s.mode?(s.addHandler(e(document),"contextmenu."+s.element.id,function(e){return!1}),s.addHandler(e(document),"mousedown.menu"+s.element.id,function(e){s._openContextMenu(e)})):(s.removeHandler(e(document),"contextmenu."+s.element.id),s.removeHandler(e(document),"mousedown.menu"+s.element.id)):(s.removeHandler(e(document),"contextmenu."+s.element.id),s.removeHandler(e(document),"mousedown.menu"+s.element.id),s.addHandler(e(document),"contextmenu."+s.element.id,function(e){return e.target&&e.target.className.indexOf&&e.target.className.indexOf("jqx-menu")>=0?!1:void 0})),s.rtl&&s.host.addClass(s.toThemeProperty("jqx-rtl")),s.mode){case"horizontal":s.host.addClass(s.toThemeProperty("jqx-widget-header")),s.host.addClass(s.toThemeProperty("jqx-menu-horizontal")),e.each(s.items,function(){var t=this;$element=e(t.element);var i=e(t.arrow);if(i.removeClass(),t.hasItems&&t.level>0){var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');i.prependTo($element),i.css("float",s._getDir("right")),i.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),i.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right"))),t.arrow=i[0]}if(0==t.level){if(e(t.element).css("float",s._getDir("left")),!t.ignoretheme&&t.hasItems&&s.showTopLevelArrows){var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),a=e.jqx.browser.msie&&e.jqx.browser.version<8;null==t.arrow?a?i.appendTo($element):i.prependTo($element):i=e(t.arrow),"down"==t.openVerticalDirection?(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-down")),i.addClass(s.toThemeProperty("jqx-icon-arrow-down"))):(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-up")),i.addClass(s.toThemeProperty("jqx-icon-arrow-up"))),i.css("visibility","visible"),a?i.css("display","inline-block"):(i.css("display","block"),i.css("float","right")),t.arrow=i[0]}else if(!t.ignoretheme&&t.hasItems&&!s.showTopLevelArrows&&null!=t.arrow){var i=e(t.arrow);i.remove(),t.arrow=null}r=Math.max(r,$element.height())}});break;case"vertical":case"popup":case"simple":if(s.host.addClass(s.toThemeProperty("jqx-menu-vertical")),e.each(s.items,function(){var t=this;if($element=e(t.element),t.hasItems&&!t.ignoretheme){if(t.arrow&&e(t.arrow).remove(),"simple"==s.mode)return!0;var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');i.prependTo($element),i.css("float","right"),0==t.level?(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-top-"+s._getDir("right"))),i.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))):(i.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),i.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))),t.arrow=i[0]}$element.css("float","none")}),"popup"==s.mode){s.host.addClass(s.toThemeProperty("jqx-widget-content")),s.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+s.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var o=s.host.closest("div.jqx-menu-wrapper");s.host.addClass(s.toThemeProperty("jqx-popup")),o[0].id="menuWrapper"+s.element.id,o.appendTo(e(document.body)),s.addHandler(o,"keydown",function(e){return s.handleKeyDown(e)})}else s.host.addClass(s.toThemeProperty("jqx-widget-header"));if("popup"==s.mode){var n=s.host.height();s.host.css("position","absolute"),s.host.css("top","0"),s.host.css("left","0"),"simple"!=s.mode&&(s.host.css({height:n}),s.host.css("display","none"))}}var l=s.isTouchDevice();s.autoCloseOnClick&&(s.removeHandler(e(document),"mousedown.menu"+s.element.id,s._closeAfterClick),s.addHandler(e(document),"mousedown.menu"+s.element.id,s._closeAfterClick,s),l&&(s.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+s.element.id,s._closeAfterClick,s),s.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+s.element.id,s._closeAfterClick,s)))},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_getOffset:function(t){var i=e.jqx.mobile.isSafariMobileBrowser(),s=e(t).coord(!0),r=s.top,a=s.left;"0px"!=e("body").css("border-top-width")&&(r=parseInt(r)+this._getBodyOffset().top),"0px"!=e("body").css("border-left-width")&&(a=parseInt(a)+this._getBodyOffset().left);var o=e.jqx.mobile.isWindowsPhone(),n=e.jqx.mobile.isTouchDevice();if(this.hasTransform||null!=i&&i||o||n){var l={left:e.jqx.mobile.getLeftPos(t),top:e.jqx.mobile.getTopPos(t)};return l}return{left:a,top:r}},_isRightClick:function(e){var t;if(!e)var e=window.event;return e.which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){var t=this,i=t._isRightClick(e);i&&t.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var t=this,i=e.data(this.element,"contextMenuOpened"+this.element.id);if(i){this.host;e.each(t.items,function(){var e=this;e.hasItems&&t._closeItem(t,e)}),e.each(t.items,function(){var t=this;if(1==t.isOpen){$submenu=e(t.subMenuElement);var i=$submenu.closest("div.jqx-menu-popup");i.hide(this.animationHideDuration)}}),this.host.hide(this.animationHideDuration),e.data(t.element,"contextMenuOpened"+this.element.id,!1),t._raiseEvent("1",t),t._raiseEvent("5")}},open:function(t,i){if("popup"==this.mode){var s=0;"block"==this.host.css("display")&&(this.close(),s=this.animationHideDuration);var r=this;(void 0==t||null==t)&&(t=0),(void 0==i||null==i)&&(i=0),setTimeout(function(){r.host.show(r.animationShowDuration),r.host.css("visibility","visible"),e.data(r.element,"contextMenuOpened"+r.element.id,!0),r._raiseEvent("0",r),r._raiseEvent("4",{left:t,top:i}),r.host.css("z-index",9999),void 0!=t&&void 0!=i&&r.host.css({left:t,top:i}),r.focus()},s)}},_renderHover:function(e,t,i){var s=this;t.ignoretheme||(this.addHandler(e,"mouseenter",function(){s.hoveredItem=t,t.disabled||t.separator||!s.enableHover||s.disabled||(t.level>0?(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(e,"mouseleave",function(){t.disabled||t.separator||!s.enableHover||s.disabled||(t.level>0?(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(t){var i=null!=t?t.data:this,s=!1;i.autoCloseOnClick&&(e.each(e(t.target).parents(),function(){return this.className.indexOf&&-1!=this.className.indexOf("jqx-menu")?(s=!0,!1):void 0}),s||(t.data=i,i._closeAll(t)))},_autoSizeHorizontalMenuItems:function(){var t=this;if(t.autoSizeMainItems&&"horizontal"==this.mode){var i=this.maxHeight;parseInt(i)>parseInt(this.host.height())&&(i=parseInt(this.host.height())),i=parseInt(this.host.height()),e.each(this.items,function(){var s=this;if($element=e(s.element),0==s.level&&i>0){var r=$element.children().length>0?parseInt($element.children().height()):$element.height(),a=t.host.find("ul:first"),o=parseInt(a.css("padding-top")),n=parseInt(a.css("margin-top")),l=i-2*(n+o),h=parseInt(l)/2-r/2,d=parseInt(h),c=parseInt(h);if($element.css("padding-top",d),$element.css("padding-bottom",c),parseInt($element.outerHeight())>l){var u=1;$element.css("padding-top",d-u),d-=u}}})}e.each(this.items,function(){var t=this;if($element=e(t.element),t.hasItems&&t.level>0&&t.arrow){var i=e(t.arrow),s=e(t.element).height();s>15&&i.css("margin-top",(s-15)/2)}})},_nextVisibleItem:function(e,t){if(null==e||void 0==e)return null;for(var i=e;null!=i;)if(i=i.nextItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(void 0!=t&&i&&i.level!=t)continue;return i}return null},_prevVisibleItem:function(e,t){if(null==e||void 0==e)return null;for(var i=e;null!=i;)if(i=i.prevItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(void 0!=t&&i&&i.level!=t)continue;return i}return null},_parentItem:function(t){if(null==t||void 0==t)return null;var i=t.parentElement;if(!i)return null;var s=null;return e.each(this.items,function(){return this.element==i?(s=this,!1):void 0}),s},_isElementVisible:function(t){return null==t?!1:"none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility")?!0:!1},_isVisible:function(e){if(null==e||void 0==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(this.minimized)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isOpen&&!this.minimized)return!1;for(;null!=t;){if(t=this._parentItem(t),null!=t&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isOpen)return!1}}return!0},_render:function(t,i){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),void 0==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var s=this.popupZIndex,r=[5,5],a=this;e.data(a.element,"animationHideDelay",a.animationHideDelay);var o=this.isTouchDevice(),n=o&&(e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0),l=!1;if(-1!=navigator.platform.toLowerCase().indexOf("win"))if(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0)this.touchDevice=!0;else if(navigator.userAgent.indexOf("Touch")>=0){var h="MSPointerDown"in window;(h||e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(l=!0,n=!0,a.clickToOpen=!0,a.autoCloseOnClick=!1,a.enableHover=!1)}e.data(document.body,"menuel",this),this.hasTransform=e.jqx.utilities.hasTransform(this.host),this._applyOrientation(t,i),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",function(t){if(a.keyboardNavigation&&a.activeItem){if("popup"===a.mode&&document.activeElement&&document.activeElement.className.indexOf("jqx-menu-wrapper")>=0)return;e(a.activeItem.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=null}}),this.addHandler(this.host,"focus",function(t){if(a.keyboardNavigation&&!a.activeItem)if(a.hoveredItem)e(a.hoveredItem.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=a.hoveredItem;else{var i=function(){if(e.jqx.isHidden(e(a.items[0].element))){var t=a._nextVisibleItem(a.items[0],0);t&&(e(t.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=t)}else e(a.items[0].element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=a.items[0]};a.activeItem?e.jqx.isHidden(e(a.activeItem.element))?(e(a.activeItem.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),i()):e(a.activeItem.element).addClass(a.toThemeProperty("jqx-fill-state-focus")):i()}}),this.removeHandler(this.host,"keydown"),a.handleKeyDown=function(t){if(!a.keyboardNavigation)return!0;if("input"===t.target.nodeName.toLowerCase())return!0;var i=null,s=null;e.each(a.items,function(){return this.disabled?!0:(this.element.className.indexOf("pressed")>=0&&(s=this),this.element.className.indexOf("focus")>=0?(i=this,!1):void 0)}),!i&&s&&(i=s),i||(e(a.items[0].element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=a.items[0],i=a.activeItem);var r=!1;if(27==t.keyCode){if(t.data=a,a._closeAll(t),i)for(var o=i;null!=o;)o.parentItem?o=o.parentItem:(e(a.activeItem.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=o,e(a.activeItem.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),o=o.parentItem);r=!0}if(13==t.keyCode&&i){r=!0,a._raiseEvent("2",{item:i.element,event:t,type:"keyboard"});var n=null!=i.anchor?e(i.anchor):null;if(null!=n&&n.length>0){var l=n.attr("href"),h=n.attr("target");null!=l&&(null!=h?window.open(l,h):window.location=l)}t.preventDefault(),t.stopPropagation(),e(i.element).focus()}var d=function(e){if(null==e)return new Array;for(var t=new Array,i=0,s=0;s<a.items.length;s++)a.items[s].parentId==e.parentId&&(t[i++]=a.items[s]);return t},c="";switch(t.keyCode){case 40:c="down";break;case 38:c="up";break;case 39:c="right";break;case 37:c="left"}if(i&&"left"===i.openHorizontalDirection&&"left"===c&&(c="right"),i&&"left"===i.openHorizontalDirection&&"right"===c&&(c="left"),i&&"top"===i.openVerticalDirection&&"top"===c&&(c="bottom"),i&&"top"===i.openVerticalDirection&&"bottom"===c&&(c="top"),a.rtl&&("right"===c?c="left":"left"===c&&(c="right")),"right"===c&&!a.minimized){if(t.altKey&&(0!=i.level&&i.hasItems||"horizontal"!=a.mode))a._openItem(a,i);else{var u=a._nextVisibleItem(i,0),p=a._nextVisibleItem(i),m=d(p);u||(u=p),u&&(u.parentId===i.parentId&&0==u.level&&"horizontal"==a.mode||p.id==m[0].id&&0!=p.level)&&(p.id==m[0].id&&(0!=i.level||0==i.level&&"horizontal"!=a.mode)&&(u=p),e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u)}t.preventDefault(),t.stopPropagation()}if("left"===c&&!a.minimized){if(t.altKey&&(0!=i.level&&"horizontal"!==a.mode||i.level>1&&"horizontal"===a.mode||1==i.level&&i.hasItems&&"horizontal"===a.mode))i.hasItems?a._closeItem(a,i):i.parentItem&&(a._closeItem(a,i.parentItem),e(i.parentItem.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=i.parentItem);else{var u=a._prevVisibleItem(i,0),f=i.parentItem;u&&u.parentId===i.parentId&&0==u.level&&"horizontal"==a.mode?(e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u):f&&0==f.level&&"horizontal"==a.mode||!f||f.level!=i.level-1||(e(f.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=f)}t.preventDefault(),t.stopPropagation()}if("down"===c){if(t.altKey)0==i.level&&i.hasItems&&a._openItem(a,i),a.minimized&&a.minimizedHidden&&a.minimizedItem.trigger("click");else{var u=a._nextVisibleItem(i,i.level),m=d(u);if(a.minimized&&u)e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u;else if(u&&(u.parentId===i.parentId||u.id==m[0].id&&"horizontal"==a.mode)&&(0!=u.level||"horizontal"!=a.mode)&&(e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u),"horizontal"===a.mode&&0===i.level&&i.isOpen&&i.hasItems){var u=a._nextVisibleItem(i);e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u}}t.preventDefault(),t.stopPropagation()}else if("up"===c){if(t.altKey)i.parentItem&&0==i.parentItem.level?(a._closeItem(a,i.parentItem),e(i.parentItem.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=i.parentItem):null===i.parentItem&&0===i.level&&"horizontal"===a.mode&&a._closeItem(a,i),a.minimized&&(a.minimizedHidden||a.minimizedItem.trigger("click"));else{var u=a._prevVisibleItem(i,i.level),m=d(i);if(a.minimized&&u)e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u;else if(u&&(u.parentId===i.parentId||u.id==i.parentId&&0==u.level&&"horizontal"==a.mode))(0!=u.level||"horizontal"!==a.mode||0!==i.level)&&(e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u);else if(i&&i.id==m[0].id&&i.parentItem&&0===i.parentItem.level&&"horizontal"===a.mode){var u=i.parentItem;e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u}}t.preventDefault(),t.stopPropagation()}if(9==t.keyCode){var u=t.shiftKey?a._prevVisibleItem(i):a._nextVisibleItem(i);if(u)e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u,t.preventDefault(),t.stopPropagation();else if(a.lockFocus){for(var m=new Array,v=0,g=0;g<a.items.length;g++)a.items[g]!=i&&a.items[g].parentId==i.parentId&&(m[v++]=a.items[g]);m.length>0&&(t.shiftKey?(e(m[m.length-1].element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=m[m.length-1]):(e(m[0].element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=m[0]),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus"))),t.preventDefault(),t.stopPropagation()}else i&&(e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=null)}},this.addHandler(this.host,"keydown",function(e){a.handleKeyDown(e)}),a.enableRoundedCorners&&this.host.addClass(a.toThemeProperty("jqx-rc-all")),e.each(this.items,function(){var t=this,i=e(t.element);if(i.attr("role","menuitem"),a.enableRoundedCorners&&i.addClass(a.toThemeProperty("jqx-rc-all")),a.removeHandler(i,"click"),a.addHandler(i,"click",function(i){if(!t.disabled&&!a.disabled&&(a.keyboardNavigation&&(a.activeItem&&e(a.activeItem.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=t,e(t.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.minimized&&i.stopPropagation()),a._raiseEvent("2",{type:"mouse",item:t.element,event:i}),a.autoOpen?!a.autoCloseOnClick||o||a.clickToOpen||t.closeOnClick&&(i.data=a,a._closeAll(i)):t.level>0&&(!a.autoCloseOnClick||o||a.clickToOpen||(i.data=a,a._closeAll(i))),o&&a.autoCloseOnClick&&(i.data=a,t.hasItems||a._closeAll(i)),"A"!=i.target.tagName&&"a"!=i.target.tagName)){var s=null!=t.anchor?e(t.anchor):null;if(null!=s&&s.length>0){var r=s.attr("href"),n=s.attr("target");null!=r&&(null!=n?window.open(r,n):window.location=r)}}}),a.removeHandler(i,"mouseenter"),a.removeHandler(i,"mouseleave"),n||"simple"==a.mode||a._renderHover(i,t,o),null!=t.subMenuElement){var l=e(t.subMenuElement);if("simple"==a.mode)return l.show(),!0;l.wrap('<div class="jqx-menu-popup '+a.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+s+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),l.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-l.outerHeight()}),l.data("timer",{}),t.level>0?l.css("left",-l.outerWidth()):"horizontal"==a.mode&&l.css("left",0),s++;var h=e(t.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(e(t.subMenuElement).outerWidth())+parseInt(r[0])+"px",height:parseInt(e(t.subMenuElement).outerHeight())+parseInt(r[1])+"px"}),d=i.closest("div.jqx-menu-popup");if(d.length>0){var c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),m=l.css("padding-right");h.appendTo(d),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",m)}else{var c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),m=l.css("padding-right");h.appendTo(e(document.body)),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",m)}a.clickToOpen?(a.removeHandler(i,"mousedown"),a.addHandler(i,"mousedown",function(e){clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||(e.data=a,a._closeAll(e)),t.isOpen?a._closeItem(a,t,!0):a._openItem(a,t)})):((o||n)&&(a.removeHandler(i,e.jqx.mobile.getTouchEventName("touchstart")),a.addHandler(i,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||"popup"==a.mode||(e.data=a,a._closeAll(e)),t.isOpen?a._closeItem(a,t,!0):a._openItem(a,t),!1})),n||(a.addHandler(i,"mouseenter",function(){if((a.autoOpen||t.level>0&&!a.autoOpen)&&clearTimeout(l.data("timer").hide),t.parentId&&0!=t.parentId&&a.menuElements[t.parentId]){var e=a.menuElements[t.parentId].isOpen;if(!e)return}return(a.autoOpen||t.level>0&&!a.autoOpen)&&a._openItem(a,t),!1}),a.addHandler(i,"mousedown",function(){a.autoOpen||0!=t.level||(clearTimeout(l.data("timer").hide),null!=l&&l.stop(),t.isOpen?a._closeItem(a,t,!0):a._openItem(a,t))}),a.addHandler(i,"mouseleave",function(i){if(a.autoCloseOnMouseLeave){clearTimeout(l.data("timer").hide);var s=e(t.subMenuElement),r={left:parseInt(i.pageX),top:parseInt(i.pageY)},o={left:parseInt(s.coord().left),top:parseInt(s.coord().top),width:parseInt(s.outerWidth()),height:parseInt(s.outerHeight())},n=!0;o.left-5<=r.left&&r.left<=o.left+o.width+5&&o.top<=r.top&&r.top<=o.top+o.height&&(n=!1),n&&a._closeItem(a,t,!0)}}),a.removeHandler(h,"mouseenter"),a.addHandler(h,"mouseenter",function(){clearTimeout(l.data("timer").hide)}),a.removeHandler(h,"mouseleave"),a.addHandler(h,"mouseleave",function(e){a.autoCloseOnMouseLeave&&(clearTimeout(l.data("timer").hide),clearTimeout(l.data("timer").show),null!=l&&l.stop(),a._closeItem(a,t,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+"";for(e=e.replace(".",""),e="99"+e,e/=1;this.items[e];)e=Math.random()+"",e=e.replace(".",""),e/=1;return"menuItem"+e},_createMenu:function(t,i){if(null!=t){void 0==i&&(i=!0),null==i&&(i=!0);var s=e(t).find("li"),r=0;this.itemMapping=new Array;for(var a=0;a<s.length;a++){var o=s[a],n=e(o);if(-1!=o.className.indexOf("jqx-menu")||0!=this.autoGenerate){var l=o.id;l||(l=this.createID()),i&&(o.id=l,this.items[r]=new e.jqx._jqxMenu.jqxMenuItem,this.menuElements[l]=this.items[r]),r+=1;var h=0,d=this,c=n.children();c.each(function(){return i||(this.className="",d.autoGenerate&&(e(d.items[r-1].subMenuElement)[0].className="",d.minimized||e(d.items[r-1].subMenuElement).addClass(d.toThemeProperty("jqx-widget-content")),e(d.items[r-1].subMenuElement).addClass(d.toThemeProperty("jqx-menu-dropdown")),e(d.items[r-1].subMenuElement).addClass(d.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(i&&(d.items[r-1].subMenuElement=this),
!1):!d.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(i&&(d.items[r-1].subMenuElement=this),this.className="",d.minimized||e(this).addClass(d.toThemeProperty("jqx-widget-content")),e(this).addClass(d.toThemeProperty("jqx-menu-dropdown")),e(this).addClass(d.toThemeProperty("jqx-popup")),e(this).attr("role","menu"),d.rtl?e(this).addClass(d.toThemeProperty("jqx-rc-l")):e(this).addClass(d.toThemeProperty("jqx-rc-r")),e(this).addClass(d.toThemeProperty("jqx-rc-b")),!1)});var u=n.parents();u.each(function(){return-1!=this.className.indexOf("jqx-menu-item")?(h=this.id,!1):!d.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(h=this.id,!1)});var p=!1,m=o.getAttribute("type"),f=o.getAttribute("ignoretheme")||o.getAttribute("data-ignoretheme");if(f?("true"==f||1==f)&&(f=!0):f=!1,m){if("separator"==m)var p=!0}else m=o.type;p||(m=h?"sub":"top");var v=this.items[r-1];if(i){v.id=l,v.parentId=h,v.type=m,v.separator=p,v.element=s[a];var g=n.children("a");v.disabled="true"==o.getAttribute("item-disabled")?!0:!1,v.level=n.parents("li").length,v.anchor=g.length>0?g:null,v.anchor&&e(v.anchor).attr("tabindex",-1)}v.ignoretheme=f;var x=this.menuElements[h];null!=x&&(x.ignoretheme&&(v.ignoretheme=x.ignoretheme,f=x.ignoretheme),v.parentItem=x,v.parentElement=x.element),this.autoGenerate&&("separator"==m?(n.removeClass(),n.addClass(this.toThemeProperty("jqx-menu-item-separator")),n.attr("role","separator")):f||(n[0].className="",this.rtl&&n.addClass(this.toThemeProperty("jqx-rtl")),v.level>0&&!d.minimized?(n.addClass(this.toThemeProperty("jqx-item")),n.addClass(this.toThemeProperty("jqx-menu-item"))):(n.addClass(this.toThemeProperty("jqx-item")),n.addClass(this.toThemeProperty("jqx-menu-item-top"))))),v.disabled&&(n.addClass(d.toThemeProperty("jqx-menu-item-disabled")),n.addClass(d.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[a]={element:s[a],item:v},this.itemMapping["id"+s[a].id]=this.itemMapping[a],i&&!f&&(v.hasItems=n.find("li").length>0,v.hasItems&&v.element&&(e.jqx.aria(e(v.element),"aria-haspopup",!0),v.subMenuElement.id||(v.subMenuElement.id=e.jqx.utilities.createId()),e.jqx.aria(e(v.element),"aria-owns",v.subMenuElement.id)))}}for(var b=0;b<s.length;b++){var y=s[b];if(this.itemMapping["id"+y.id]){var v=this.itemMapping["id"+y.id].item;if(!v)continue;v.prevItem=null,v.nextItem=null,b>0&&this.itemMapping["id"+s[b-1].id]&&(v.prevItem=this.itemMapping["id"+s[b-1].id].item),b<s.length-1&&this.itemMapping["id"+s[b+1].id]&&(v.nextItem=this.itemMapping["id"+s[b+1].id].item)}}}},destroy:function(){var t=this;e.jqx.utilities.resize(t.host,null,!0);var i=t.host.closest("div.jqx-menu-wrapper");t.removeHandler(i,"keydown"),i.remove(),t.removeHandler(e("#menuWrapper"+t.element.id),"keydown"),e("#menuWrapper"+t.element.id).remove(),t.removeHandler(t.host,"keydown"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(e(document),"mousedown.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"mouseup.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"contextmenu."+t.element.id),t.removeHandler(t.host,"contextmenu."+t.element.id),e.data(document.body,"jqxMenuOldHost"+t.element.id,null),t.isTouchDevice()&&t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+t.element.id,t._closeAfterClick,this),e(window).off&&e(window).off("resize.menu"+t.element.id),e.each(t.items,function(){var i=this,s=e(i.element);t.removeHandler(s,"click"),t.removeHandler(s,"selectstart"),t.removeHandler(s,"mouseenter"),t.removeHandler(s,"mouseleave"),t.removeHandler(s,"mousedown"),t.removeHandler(s,"mouseleave");var r=e(i.subMenuElement),a=r.closest("div.jqx-menu-popup");a.remove(),delete this.subMenuElement,delete this.element}),e.data(document.body,"menuel",null),delete t.menuElements,t.items=new Array,delete t.items;var s=e.data(t.element,"jqxMenu");s&&delete s.instance,t.host.removeClass(),t.host.remove(),delete t.host,delete t.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this;var r=new e.Event(s);"2"==t&&(args=i.item,args.owner=this,args.clickType=i.type,e.extend(r,i.event),r.type="itemclick"),r.owner=this,r.args=args;var a=this.host.trigger(r);return a},propertyChangedHandler:function(t,i,s,r){if(void 0!=this.isInitialized&&0!=this.isInitialized&&("disabled"==i&&(t.disabled?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-menu-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(t.toThemeProperty("jqx-menu-disabled")))),r!=s))if("touchMode"==i&&(this._isTouchDevice=null,t._render(r,s)),"width"!==i&&"height"!==i){if("source"==i&&null!=t.source){var a=t.loadItems(t.source);t.element.innerHTML=a;var o=t.host.find("ul:first");o.length>0&&(t.refresh(),t._createMenu(o[0]),t._render())}"autoCloseOnClick"==i?0==r?t.removeHandler(e(document),"mousedown.menu"+this.element.id,t._closeAll):t.addHandler(e(document),"mousedown.menu"+this.element.id,t,t._closeAll):"mode"==i||"width"==i||"height"==i||"showTopLevelArrows"==i?(t.refresh(),"mode"==i?t._render(r,s):t._applyOrientation()):"theme"==i&&e.jqx.utilities.setTheme(s,r,t.host)}else if(t.setSize(),"popup"===t.mode){var n=this.host.closest("div.jqx-menu-wrapper");n[i](r);var l=this.host[0].id;e("#"+l)[i](r)}}})}(jqxBaseFramework),function(e){e.jqx._jqxMenu.jqxMenuItem=function(e,t,i){var s={id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0};return s}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxNavBar","",{}),e.extend(e.jqx._jqxNavBar.prototype,{defineInstance:function(){var t={height:"auto",minimizedHeight:30,popupAnimationDelay:250,minimizeButtonPosition:"left",width:"100%",selectedItem:0,selection:!0,disabled:!1,rtl:!1,minimized:!1,columns:null,minimizedTitle:"",orientation:"horizontal",events:["change"]};e.extend(!0,this,t)},createInstance:function(e){this.render()},render:function(){var t=this;t.ul&&t.ul.parent()[0]!==t.element&&(t.ul.detach(),t.host.children().remove(),t.host.append(t.ul),t.popup&&t.popup.remove(),t.host.css({height:null}),t.host.removeClass(t.toThemeProperty("jqx-widget-header")),t.host.removeClass(t.toThemeProperty("jqx-navbar-minimized"))),t.ul=t.host.children(),t._items=t.ul.children(),e.each(t._items,function(){e(this).removeClass()}),null!==this.width&&(this.width.toString().indexOf("%")>=0||this.width.toString().indexOf("px")>=0)?this.element.style.width=this.width:this.element.style.width=this.width+"px",t._layoutItems(),t._addClasses(),t._addHandlers(),t._handleMinimize(),e.jqx.utilities.resize(this.host,function(){t._resizePopup()})},_layoutItems:function(){var t=this,i=1,s=0,r=null===this.height||"auto"===this.height;if("horizontal"===t.orientation){if(t._items.length>5){var a="50%";t._items.css("width",a);var o=t.height;if(i=Math.ceil(t._items.length/2),!r){var n,l=!1;o.toString().indexOf("%")>=0?(n=parseInt(o)/i,n+="%",l=!0):n=parseInt(o)/i,s=2,l?(t._items.css("height",n),t._items.css("line-height",t._items.height()+"px")):(t._items.css({height:n}),t._items.css("line-height",n+"px"))}}else{var a=t.host.width/2,h=t._items.length,a=100/h+"%";t._items.css("width",a),r||(t.height.toString().indexOf("%")>=0?(t._items.css("height",n),t._items.css("line-height",t.height)):(t._items.css({height:t.height}),t._items.css("line-height",parseInt(t.height)+"px"))),s=h}if(t.columns){for(var o=t.height,d=0,c=0;c<t._items.length;c++){var u=t._items[c];e(u).css("width",t.columns[d]),d++,d>=t.columns.length&&(d=0,t.columns.length!==t._items.length&&i++)}var n,l=!1;o.toString().indexOf("%")>=0?(n=parseInt(o)/i,n+="%",l=!0):n=parseInt(o)/i,r||(l?(t._items.css("height",n),t._items.css("line-height",t._items.height()+"px")):(t._items.css({height:n}),t._items.css("line-height",n+"px"))),s=t.columns.length}}else{for(var o=t.height,d=0,c=0;c<t._items.length;c++){var u=t._items[c];e(u).css("width","100%")}if(i=t._items.length,!r){var n,l=!1;o.toString().indexOf("%")>=0?(n=parseInt(o)/i,n+="%",l=!0):n=parseInt(o)/i,l?(t._items.css("height",n),t._items.css("line-height",t._items.height()+"px")):(t._items.css({height:n}),t._items.css("line-height",n+"px"))}s=1}if(t.selection){var p=0,m=t._items.length/s,f=!1;i>m&&(f=!0);for(var c=0;i>c;c++)for(var v=0;s>v;v++){if(s-1>v){var g=t.rtl?"left":"right";e(t._items[p]).css("border-"+g+"-width","1px"),e(t._items[p]).css("border-"+g+"-style","solid")}i>1&&c>0&&(e(t._items[p]).css("border-top-width","1px"),e(t._items[p]).css("border-top-style","solid")),f&&c===i-2&&v===s-1&&(e(t._items[p]).css("border-bottom-width","1px"),e(t._items[p]).css("border-bottom-style","solid")),p++}}e.jqx.browser.msie&&e.jqx.browser.version<8&&(t._items.css("padding-left","0px"),t._items.css("padding-right","0px"),e.each(t._items,function(){e(this).css("border-left-width","0px"),e(this).css("border-right-width","0px"),e(this).css("position","relative"),e(this).css("margin-left","-1px")}),t.host.css("border","none"))},_handlePopupHeight:function(){var e=this;if(e.minimized){var t,i=!1;e.height.toString().indexOf("%")>=0&&(e.host.css("height",e.height),t=e.host.height()-e.minimizedHeight-1,i=!0),i&&(e.popup.css({height:t}),e.ul.css({height:t}),e.host.css({height:e.minimizedHeight}),e._layoutItems())}},_handleMinimize:function(){var t=this;if(t.minimized){var i=t.host;i.css({height:t.minimizedHeight}),i.css("box-sizing","border-box"),i.addClass(t.toThemeProperty("jqx-widget-header")),i.addClass(t.toThemeProperty("jqx-navbar-minimized"));var s=e('<div style="cursor: pointer; height: 100%; margin:0px; margin-left: 5px; margin-right:5px;"></div>');i.append(s),s.css("float",t.minimizeButtonPosition);var r=e('<div style="height: 100%; margin:0px; margin-left: 5px; margin-right:5px;"></div>');r.append(t.minimizedTitle),r.css("float","left"===t.minimizeButtonPosition?"right":"left"),"auto"!==t.minimizedHeight&&(t.minimizedHeight.toString().indexOf("%")>=0?r.css("line-height",t.minimizedHeight):r.css("line-height",parseInt(t.minimizedHeight)+"px")),i.append(r),s.addClass(t.toThemeProperty("jqx-menu-minimized-button")),i.removeClass(t.toThemeProperty("jqx-widget-content")),t.ul.detach();var a=e("<div style='box-sizing: border-box; z-index: 999999; display: none; position: absolute;'></div>");a.addClass(t.toThemeProperty("jqx-widget jqx-widget-content jqx-popup jqx-navbar jqx-navbar-popup")),a.append(t.ul),t.popup=a,e(document.body).append(a),t.opened=!1,s.click(function(){t.opened?t.close():t.open()}),t.button=s}},close:function(){var e=this;e.popup.fadeOut(e.popupAnimationDelay),e.opened=!1},open:function(){var e=this;e.popup.fadeIn(e.popupAnimationDelay),e.popup.css("top",parseInt(e.host.coord().top)+e.host.outerHeight()-1),e.popup.css({width:e.host.width()});var t=e.host.coord().left;e.popup.css("left",t),t.toString().indexOf(".5")>=0&&e.popup.css({width:e.host.width()-.5}),e._handlePopupHeight(),e.opened=!0},_resizePopup:function(){var e=this;if(e.minimized&&e.popup){e.popup.css({width:e.host.width()});var t=e.host.coord().left;e.popup.css("left",t),t.toString().indexOf(".5")>=0&&e.popup.css({width:e.host.width()-.5}),e.popup.css("top",parseInt(e.host.coord().top)+e.host.outerHeight()-1),e._handlePopupHeight()}},selectAt:function(t){var i=this;if(i.selection){e(i._items[i.selectedItem]).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),e(i._items[t]).addClass(i.toThemeProperty("jqx-fill-state-pressed"));var s=i.selectedItem;i.selectedItem=t,i._raiseEvent("0",{selectedItem:t,oldSelectedItem:s})}},getSelectedIndex:function(){return this.selectedItem},destroy:function(){var e=this;e._removeHandlers(),e.host.remove()},propertyChangedHandler:function(e,t,i,s){e.render()},_raiseEvent:function(t,i){var s=this,r=s.events[t],a=new e.Event(r);a.owner=s,a.args=i;try{var o=s.host.trigger(a)}catch(n){}return o},_removeHandlers:function(){var e=this;e.removeHandler(e._items,"click.navbar"+e.element.id),e.removeHandler(e._items,"mouseenter.navbar"+e.element.id),e.removeHandler(e._items,"mouseleave.navbar"+e.element.id)},_addClasses:function(){var t=this;t.host.addClass(t.toThemeProperty("jqx-navbar")),t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t._items.addClass(t.toThemeProperty("jqx-navbar-block")),t.selection?(t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-fill-state-normal")),t._items.addClass(t.toThemeProperty("jqx-fill-state-normal")),t._items.addClass(t.toThemeProperty("jqx-button")),-1!==t.selectedItem&&e(t._items[t.selectedItem]).addClass(t.toThemeProperty("jqx-fill-state-pressed"))):this.host.css("border","none"),t.rtl&&t._items.addClass(t.toThemeProperty("jqx-navbar-block-rtl"))},_addHandlers:function(){var t=this;t.addHandler(t._items,"click.navbar"+t.element.id,function(i){if(!t.disabled&&t.selection){var s=e(t._items).index(this);t.selectAt(s)}}),t.addHandler(t._items,"mouseenter.navbar"+t.element.id,function(i){!t.disabled&&t.selection&&e(i.target).addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._items,"mouseleave.navbar"+t.element.id,function(i){!t.disabled&&t.selection&&e(i.target).removeClass(t.toThemeProperty("jqx-fill-state-hover"))})}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxNotification","",{}),e.extend(e.jqx._jqxNotification.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",appendContainer:null,position:"top-right",zIndex:99999,browserBoundsOffset:5,notificationOffset:5,opacity:.9,hoverOpacity:1,autoOpen:!1,animationOpenDelay:400,animationCloseDelay:800,closeOnClick:!0,autoClose:!0,autoCloseDelay:3e3,showCloseButton:!0,template:"info",icon:null,blink:!1,disabled:!1,rtl:!1,events:["open","close","click"]};return e.extend(!0,this,t),t},createInstance:function(e){var t=this;t.render(),1==t.autoOpen&&t.open()},render:function(){var t=this;if(0==t.host.hasClass("jqx-notification")){t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-notification")),t.host.css({zIndex:t.zIndex,display:"none",opacity:t.opacity}),t._container=t._notificationContainer(),t._appendContent(),t._setHoverFunctions(),t._instances=new Array,t._instanceKey=0;var i=e.data(document.body,"jqxNotifications");void 0==i&&(i=0),e.data(document.body,"jqxNotifications",i+1)}else t.refresh()},refresh:function(e){e||this._appendContent(!0)},open:function(){var e=this;if(0==e.disabled){var t=e.host.clone();t.removeAttr("id"),t.css({width:e.width}),t.css({height:e.height}),null!=this.width&&-1!=this.width.toString().indexOf("%")&&t.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&t.css("height",this.height),e.appendContainer||"bottom-left"!=e.position&&"bottom-right"!=e.position?(t.css("margin-bottom",e.notificationOffset),e._container.append(t)):(t.css("margin-top",e.notificationOffset),e._container.prepend(t)),e._addHandlers(t),t.fadeIn(e.animationOpenDelay,function(){e._raiseEvent("0")}),1==e.blink&&(t._blinkInterval=setInterval(function(){t.fadeTo(400,e.opacity/1.5,function(){t.fadeTo(400,e.opacity)})},850)),1==e.autoClose&&(t._autoCloseTimeout=setTimeout(function(){e._close(t)},e.autoCloseDelay)),t._key=e._instanceKey,e._instances[e._instanceKey]=t,e._instanceKey++}},closeAll:function(){for(var e=this,t=0;t<e._instances.length;t++)e._instances[t]&&e._close(e._instances[t])},closeLast:function(){for(var e=this,t=e._instances.length;t>=0;t--)if(e._instances[t]){e._close(e._instances[t]);break}},destroy:function(){var t=this;t.closeAll(),t.host.remove();var i=e.data(document.body,"jqxNotifications");e.data(document.body,"jqxNotifications",i-1),t._destroyContainers(i-1)},propertyChangedHandler:function(e,t,i,s){var r=this;if(s!=i)switch(t){case"width":case"height":var a=i.indexOf&&-1!=i.indexOf("%");a=void 0==a?!1:a;var o=s.indexOf&&-1!=s.indexOf("%");o=void 0==o?!1:o,o!=a&&(r[t]=i);break;case"appendContainer":case"position":r._container=r._notificationContainer();break;case"browserBoundsOffset":r.appendContainer||r._position(r._container);break;case"opacity":r.host.css("opacity",s);break;case"showCloseButton":case"template":case"icon":case"rtl":r._appendContent(!0)}},_raiseEvent:function(t,i){var s=this,r=s.events[t],a=new e.Event(r);a.owner=s,a.args=i;try{var o=s.host.trigger(a)}catch(n){}return o},_close:function(e){var t=this;t._instances[e._key]&&(t._instances[e._key]=!1,clearInterval(e._blinkInterval),clearTimeout(e._autoCloseTimeout),e.fadeOut(t.animationCloseDelay,function(){t._removeHandlers(e),e.remove(),t._raiseEvent("1")}))},_addHandlers:function(e){var t=this;if(t.addHandler(e,"click.notification"+t.element.id,function(i){t._raiseEvent("2"),1==t.closeOnClick&&t._close(e)}),t.addHandler(e,"mouseenter.notification"+t.element.id,function(i){e._blinkInterval||t.mouseenterFunction(e)}),t.addHandler(e,"mouseleave.notification"+t.element.id,function(i){e._blinkInterval||"none"==e.css("display")||t.mouseleaveFunction(e)}),1==t.showCloseButton){var i=e.find(".jqx-notification-close-button");t.addHandler(i,"click.notification"+t.element.id,function(i){i.stopPropagation(),t._close(e)})}},_removeHandlers:function(e){var t=this;t.removeHandler(e,"click.notification"+t.element.id),t.removeHandler(e,"click.mouseenter"+t.element.id),t.removeHandler(e,"click.mouseleave"+t.element.id);var i=e.find(".jqx-notification-close-button");i.length>0&&t.removeHandler(i,"click.notification"+t.element.id)},_appendContent:function(t){var i,s=this,r=s.host.html();t||(i=s.host.children().detach()),t&&(s.host.removeAttr("class"),s.host.addClass(s.toThemeProperty("jqx-rc-all")),s.host.addClass(s.toThemeProperty("jqx-notification")));var a=e("<table class='"+s.toThemeProperty("jqx-notification-table")+"'></table>"),o=e("<tr></tr>");a.append(o);var n=s.rtl?"jqx-notification-content-rtl":"";if(t){var l=s.host.find(".jqx-notification-content");r=l.html(),i=l.detach(),s.rtl?l.addClass("jqx-notification-content-rtl"):l.removeClass("jqx-notification-content-rtl")}else var l=e("<td class='"+s.toThemeProperty("jqx-notification-content")+" "+n+"'></td>");o.html(l);var h,d=function(){0==s.rtl?(h.addClass("jqx-notification-icon-ltr"),l.before(h)):(h.addClass("jqx-notification-icon-rtl"),l.after(h))};if(s.template?(s.host.addClass("jqx-widget"),s.host.addClass("jqx-popup"),s.host.addClass("jqx-notification-"+s.template),h=e("<td class='"+s.toThemeProperty("jqx-notification-icon")+" jqx-notification-icon-"+s.template+"'></td>"),d()):(s.host.addClass(s.toThemeProperty("jqx-widget")),s.host.addClass(s.toThemeProperty("jqx-popup")),s.host.addClass(s.toThemeProperty("jqx-fill-state-normal")),s.icon&&(h=e("<td class='"+s.toThemeProperty("jqx-notification-icon")+"'></td>"),s.icon.padding=s.icon.padding?parseInt(s.icon.padding):5,h.css({width:parseInt(s.icon.width)+s.icon.padding,height:s.icon.height,"background-image":"url('"+s.icon.url+"')"}),d())),1==s.showCloseButton){var c;c=s.template?"jqx-notification-close-button jqx-notification-close-button-"+s.template:s.toThemeProperty("jqx-icon-close")+" "+s.toThemeProperty("jqx-notification-close-button");var u=e("<td class='"+s.toThemeProperty("jqx-notification-close-button-container")+"'><div class='"+c+" "+s.element.id+"CloseButton' title='Close'></div></td>");0==s.rtl?(u.find("div").addClass("jqx-notification-close-button-ltr"),l.after(u)):(u.find("div").addClass("jqx-notification-close-button-rtl"),l.before(u))}s.host[0].innerHTML="",s.host.append(a),i.length>0?s.host.find(".jqx-notification-content").append(i):s.host.find(".jqx-notification-content").html(r)},_position:function(e){var t,i,s,r,a=this;switch(a.position){case"top-right":t="",i=a.browserBoundsOffset,s=a.browserBoundsOffset,r="";break;case"top-left":t=a.browserBoundsOffset,i="",s=a.browserBoundsOffset,r="";break;case"bottom-left":t=a.browserBoundsOffset,i="",s="",r=a.browserBoundsOffset;break;case"bottom-right":t="",i=a.browserBoundsOffset,s="",r=a.browserBoundsOffset}e.css({left:t,right:i,top:s,bottom:r})},_notificationContainer:function(){var t,i=this;if(i.appendContainer){if(t=e(i.appendContainer),0==t.length)throw new Error("jqxNotification: Invalid appendContainer jQuery Selector - "+i.appendContainer+"! Please, check whether the used ID or CSS Class name is correct.")}else t=e("#jqxNotificationDefaultContainer-"+i.position),0==t.length&&(e("body").append("<div id='jqxNotificationDefaultContainer-"+i.position+"' class='jqx-notification-container'></div>"),t=e("#jqxNotificationDefaultContainer-"+i.position),i.width.indexOf&&-1!=i.width.indexOf("%")&&t.addClass(i.toThemeProperty("jqx-notification-container-full-width")),i.height.indexOf&&-1!=i.height.indexOf("%")&&t.addClass(i.toThemeProperty("jqx-notification-container-full-height")),i._position(t));return t},_destroyContainers:function(t){0==t&&e(".jqx-notification-container").remove()},_setHoverFunctions:function(){var t=this,i=!1;"msie"==e.jqx.browser.browser&&"9.0"==e.jqx.browser.version&&(i=!0),0==i?(t.mouseenterFunction=function(e){e.fadeTo("fast",t.hoverOpacity)},t.mouseleaveFunction=function(e){e.fadeTo("fast",t.opacity)}):(t.mouseenterFunction=function(e){e.css("filter","alpha(opacity = "+100*t.hoverOpacity+")")},t.mouseleaveFunction=function(e){e.css("filter","alpha(opacity = "+100*t.opacity+")")})}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxNumberInput","",{}),e.extend(e.jqx._jqxNumberInput.prototype,{defineInstance:function(){var t={value:null,decimal:0,min:-99999999,max:99999999,width:"100%",validationMessage:"Invalid value",height:28,textAlign:"right",readOnly:!1,promptChar:"_",decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSize:3,symbol:"",symbolPosition:"left",digits:8,negative:!1,negativeSymbol:"-",disabled:!1,inputMode:"advanced",spinButtons:!1,spinButtonsWidth:18,spinButtonsStep:1,autoValidate:!0,spinMode:"advanced",enableMouseWheel:!0,touchMode:"auto",rtl:!1,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"decimal",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},invalidArgumentExceptions:["invalid argument exception"]};return e.extend(!0,this,t),t},createInstance:function(e){var t=this.host.attr("value");void 0!=t&&(this.decimal=t),null!=this.value&&(this.decimal=this.value),this.render()},_doTouchHandling:function(){var e=this,t=e.savedValue;if(e.parsing||(e.parsing=!0),e.parsing){e.numberInput.val()&&0==e.numberInput.val().indexOf("-")?e.setvalue("negative",!0):e.setvalue("negative",!1);for(var i=e.numberInput.val(),s=0;s<i.length-1;s++){var r=i.substring(s,s+1);if(isNaN(parseFloat(r))&&r!=e.symbol&&"%"!=r&&"$"!=r&&"."!=r&&","!=r&&"-"!=r)return e.numberInput[0].value=t,void(e.parsing=!1)}e.ValueString=e.GetValueString(e.numberInput.val(),e.decimalSeparator,""!=e.decimalSeparator),e.ValueString=new Number(e.ValueString).toFixed(e.decimalDigits),e._parseDecimalInSimpleMode(),e.decimal=e.ValueString;var a=e.getvalue("negative");a&&(e.decimal="-"+e.ValueString),e.parsing=!1}},render:function(){this.host.attr({role:"spinbutton"}),this.host.attr("data-role","input"),e.jqx.aria(this),e.jqx.aria(this,"aria-multiline",!1);var t=this;(this.officeMode||this.theme&&-1!=this.theme.indexOf("office"))&&18==this.spinButtonsWidth&&(this.spinButtonsWidth=15),(e.jqx.mobile.isTouchDevice()||this.touchMode===!0)&&(this.inputMode="textbox",this.spinMode="simple"),""==this.decimalSeparator&&(this.decimalSeparator=" "),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons?this._spinButtons():(this.numberInput=e("<input autocomplete='off' type='textarea'/>").appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content")));var i=this.host.attr("name");if(i&&this.numberInput.attr("name",i),this.host.attr("tabindex")&&(this.numberInput.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")),e.jqx.mobile.isTouchDevice()||this.touchMode===!0||"textbox"==this.inputMode){var t=this;t.savedValue="",this.addHandler(this.numberInput,"focus",function(){t.savedValue=t.numberInput[0].value}),this.addHandler(this.numberInput,"change",function(){t._doTouchHandling()})}var s=e.data(this.host[0],"jqxNumberInput");s.jqxNumberInput=this;var t=this;this.host.parents("form").length>0&&this.addHandler(this.host.parents("form"),"reset",function(){setTimeout(function(){t.setDecimal(0)},10)}),this.propertyChangeMap.disabled=function(e,t,i,s){s?(e.numberInput.addClass(r.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!0)):(e.host.removeClass(r.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!1)),e.spinButtons&&e.host.jqxRepeatButton&&(e.upbutton.jqxRepeatButton({disabled:s}),e.downbutton.jqxRepeatButton({disabled:s}))},this.disabled&&(this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled")),this.numberInput.attr("disabled",!0),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this.selectedText="",this.decimalSeparatorPosition=-1;var r=(this.element.id,this.element,this);this.oldValue=this._value(),this.items=new Array;var a=(this.value,this.decimal);this._initializeLiterals(),this._render(),this.setDecimal(a);var t=this;setTimeout(function(){},100),this._addHandlers(),e.jqx.utilities.resize(this.host,function(){t._render()})},refresh:function(e){e||this._render()},wheel:function(e,t){if(t.enableMouseWheel){var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation(),s?(s=!1,e.returnValue=s,s):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return 0>e?this.spinDown():this.spinUp(),!0},_addHandlers:function(){var t=this;this.addHandler(this.numberInput,"paste",function(i){var s=t._selection();i.preventDefault(),i.originalEvent.clipboardData?content=(i.originalEvent||i).clipboardData.getData("text/plain"):window.clipboardData&&(content=window.clipboardData.getData("Text")),this.selectedText=content,e.data(document.body,"jqxSelection",this.selectedText),"simple"!=t.inputMode?t._pasteSelectedText():t.val(content),setTimeout(function(){t._setSelectionStart(s.start)})}),this.addHandler(this.numberInput,"mousedown",function(e){return t._raiseEvent(2,e)}),this._mousewheelfunc=this._mousewheelfunc||function(e){return t.editcell?void 0:(t.wheel(e,t),!1)},this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var i="";this.addHandler(this.numberInput,"focus",function(s){e.data(t.numberInput,"selectionstart",t._selection().start),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.spincontainer&&t.spincontainer.addClass(t.toThemeProperty("jqx-numberinput-focus")),i=t.numberInput.val()}),this.addHandler(this.numberInput,"blur",function(s){if("simple"==t.inputMode&&t._exitSimpleInputMode(s,t,!1,i),t.autoValidate){var r=parseFloat(t.decimal),a=t.getvalue("negative");a&&t.decimal>0&&(r=-parseFloat(t.decimal)),r>t.max&&(t._disableSetSelection=!0,t.setDecimal(t.max),t._disableSetSelection=!1),r<t.min&&(t._disableSetSelection=!0,t.setDecimal(t.min),t._disableSetSelection=!1)}return t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.spincontainer&&t.spincontainer.removeClass(t.toThemeProperty("jqx-numberinput-focus")),t.numberInput.val()!=i&&(t._raiseEvent(7,s),e.jqx.aria(t,"aria-valuenow",t.decimal),t.element.value=t.decimal),!0}),this.addHandler(this.numberInput,"mouseup",function(e){return t._raiseEvent(3,e)}),this.addHandler(this.numberInput,"keydown",function(e){return t._raiseEvent(4,e)}),this.addHandler(this.numberInput,"keyup",function(e){return t._raiseEvent(5,e)}),this.addHandler(this.numberInput,"keypress",function(e){return t._raiseEvent(6,e)})},focus:function(){try{this.numberInput.focus()}catch(e){}},_removeHandlers:function(){var t=this;this.removeHandler(this.numberInput,"mousedown");var i=e.jqx.mobile.isOperaMiniMobileBrowser();i&&this.removeHandler(e(document),"click."+this.element.id,t._exitSimpleInputMode,t),this.removeHandler(this.numberInput,"paste"),this.removeHandler(this.numberInput,"focus"),this.removeHandler(this.numberInput,"blur"),this.removeHandler(this.numberInput,"mouseup"),this.removeHandler(this.numberInput,"keydown"),this.removeHandler(this.numberInput,"keyup"),this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(!this.host.jqxRepeatButton)throw new Error("jqxNumberInput: Missing reference to jqxbuttons.js.");this.numberInput?this.numberInput.css("float","left"):(this.numberInput=e("<input autocomplete='off' style='position: relative; float: left;' type='textarea'/>"),this.numberInput.appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.spincontainer&&(this.upbutton&&this.upbutton.jqxRepeatButton("destroy"),this.downbutton&&this.downbutton.jqxRepeatButton("destroy"),this.spincontainer.remove()),this.spincontainer=e('<div style="float: right; height: 100%; overflow: hidden; position: relative;"></div>'),this.rtl&&(this.spincontainer.css("float","right"),this.numberInput.css("float","right"),this.spincontainer.css("left","-1px")),this.host.append(this.spincontainer),this.upbutton=e('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.upbutton),this.upbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"top-right"}),this.downbutton=e('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.downbutton),this.downbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"bottom-right"});var t=this;this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-rc-tr")),this.downbutton.addClass(this.toThemeProperty("jqx-rc-br")),this.addHandler(this.downbutton,"mouseup",function(e){t.disabled||(t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected")))}),this.addHandler(this.upbutton,"mouseup",function(e){t.disabled||(t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")))}),this.removeHandler(e(document),"mouseup."+this.element.id),this.addHandler(e(document),"mouseup."+this.element.id,function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected"))}),this.addHandler(this.downbutton,"mousedown",function(i){return t.disabled?void 0:(e.jqx.browser.msie&&e.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected")),i.preventDefault(),i.stopPropagation(),!1)}),this.addHandler(this.upbutton,"mousedown",function(i){
return t.disabled?void 0:(e.jqx.browser.msie&&e.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),i.preventDefault(),i.stopPropagation(),!1)}),this.addHandler(this.upbutton,"mouseenter",function(e){t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.upbutton,"mouseleave",function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.downbutton,"mouseenter",function(e){t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.addHandler(this.downbutton,"mouseleave",function(e){t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.upbutton.css("border-width","0px"),this.downbutton.css("border-width","0px"),this.disabled?(this.upbutton[0].disabled=!0,this.downbutton[0].disabled=!0):(this.upbutton[0].disabled=!1,this.downbutton[0].disabled=!1),this.spincontainer.addClass(this.toThemeProperty("jqx-input")),this.spincontainer.addClass(this.toThemeProperty("jqx-rc-r")),this.spincontainer.css("border-width","0px"),this.rtl?this.spincontainer.css("border-right-width","1px"):this.spincontainer.css("border-left-width","1px"),this._upArrow=this.upbutton.find("div"),this._downArrow=this.downbutton.find("div"),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._upArrow.addClass(this.toThemeProperty("jqx-input-icon")),this._downArrow.addClass(this.toThemeProperty("jqx-input-icon"));var t=this;this._upArrow.hover(function(){t.disabled||t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))},function(){t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this._downArrow.hover(function(){t.disabled||t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))},function(){t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))});var i=e.jqx.mobile.isTouchDevice(),s="click";i&&(s=e.jqx.mobile.getTouchEventName("touchstart")),i&&(this.addHandler(this.downbutton,"click",function(e){t.spinDown()}),this.addHandler(this.upbutton,"click",function(e){t.spinUp()})),this.addHandler(this.downbutton,s,function(s){return i?(s.preventDefault(),s.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),e.jqx.browser.msie&&e.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinDown(),!1}),this.addHandler(this.upbutton,s,function(s){return i?(s.preventDefault(),s.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),e.jqx.browser.msie&&e.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinUp(),!1})},spinDown:function(){var t=this;if("none"!=t.spinMode){if(null==this.decimal)return void this.setDecimal(-1);var i=this.getvalue("negative"),s=i?-1:0;if((e.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&t._doTouchHandling(),!t.disabled){var r=this._selection(),a=this.decimal,o=this.getDecimal();if(o<this.min)return o=this.min,this.setDecimal(this.min),this._setSelectionStart(r.start),void this.spinDown();if(o>this.max)return o=this.max,this.setDecimal(this.max),this._setSelectionStart(r.start),void this.spinDown();t.spinButtonsStep<0&&(t.spinButtonsStep=1);var n=parseInt(t.decimal)-t.spinButtonsStep;n=n.toString().length;var l=s+n<=t.digits;if("advanced"!=t.spinMode){if(o-t.spinButtonsStep>=t.min&&l){var h=1;for(m=0;m<t.decimalDigits;m++)h=10*h;var d=h*o-h*t.spinButtonsStep;d/=h,d=this._parseDecimalValueToEditorValue(d),t.setDecimal(d)}}else{var c=this._getspindecimal(),o=(this._getSeparatorPosition(),parseFloat(c.decimal));t.spinButtonsStep<0&&(t.spinButtonsStep=1);var n=parseInt(o)-t.spinButtonsStep;n=n.toString().length;var l=s+n<=t.digits,h=1,u=c.decimal.indexOf(".");if(-1!=u){for(var p=c.decimal.length-u-1,h=1,m=0;p>m;m++)h=10*h;o-=new Number(t.spinButtonsStep/h),o=o.toFixed(p);var u=o.toString().indexOf(".");-1==u&&(o=o.toString()+".");var f=o.toString()+c.afterdecimal;f=new Number(f),f=f.toFixed(t.decimalDigits),f>=t.min&&(f=this._parseDecimalValueToEditorValue(f),t.setDecimal(f))}else if(o-t.spinButtonsStep>=t.min&&l){var d=h*o-h*t.spinButtonsStep;d/=h;var f=d.toString()+c.afterdecimal;f>=t.min&&(f=this._parseDecimalValueToEditorValue(f),t.setDecimal(f))}}if(void 0==f||"simple"!=this.inputMode)return this._setSelectionStart(r.start),t.savedValue=t.numberInput[0].value,e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{}),void e.jqx.aria(self,"aria-valuenow",this.decimal);f=this.decimal.toString();var i=this.getvalue("negative");0==s&&i?this._setSelectionStart(r.start+1):void 0==f||void 0!=a&&a.toString().length!=f.length?i?this._setSelectionStart(r.start+1):this._setSelectionStart(r.start-1):this._setSelectionStart(r.start),e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{}),e.jqx.aria(self,"aria-valuenow",this.decimal)}}},_getspindecimal:function(){var e=this._selection(),t="",i=(this._getSeparatorPosition(),this._getVisibleItems()),s=this._getHiddenPrefixCount(),r=this.numberInput.val();this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection());for(var a="advanced"!=this.inputMode,o=0;o<e.start;o++)if(a){var n=r.substring(o,o+1),l=!isNaN(parseInt(n));l&&(t+=n),n==this.decimalSeparator&&(t+=n)}else i[o].canEdit&&i[o].character!=this.promptChar?t+=i[o].character:i[o].canEdit||-1==this.decimalSeparatorPosition||i[o]!=i[this.decimalSeparatorPosition-s]||(0==t.length&&(t="0"),t+=i[o].character);for(var h="",o=e.start;o<i.length;o++)if(a){var n=r.substring(o,o+1),l=!isNaN(parseInt(n));l&&(h+=n),n==this.decimalSeparator&&(h+=n)}else i[o].canEdit&&i[o].character!=this.promptChar?h+=i[o].character:i[o].canEdit||-1==this.decimalSeparatorPosition||i[o]!=i[this.decimalSeparatorPosition-s]||(h+=i[o].character);var d=this.getvalue("negative"),c=d?"-"+this._parseDecimalValue(t).toString():this._parseDecimalValue(t).toString();return{decimal:c,afterdecimal:this._parseDecimalValue(h)}},_parseDecimalValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(t>=0){var i=e.toString().substring(0,t)+"."+e.toString().substring(t+1);return i}}return e},_parseDecimalValueToEditorValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(".");if(t>=0){var i=e.toString().substring(0,t)+this.decimalSeparator+e.toString().substring(t+1);return i}}return e},spinUp:function(){var t=this;if("none"!=t.spinMode){if(null==this.decimal)return void this.setDecimal(1);(e.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&t._doTouchHandling();var i=this.getvalue("negative"),s=i?-1:0;if(!t.disabled){var r=this._selection(),a=t.decimal,o=t.getDecimal();if(o<this.min)return o=this.min,this.setDecimal(this.min),this._setSelectionStart(r.start),void this.spinUp();if(o>this.max)return o=this.max,this.setDecimal(this.max),this._setSelectionStart(r.start),void this.spinUp();t.spinButtonsStep<0&&(t.spinButtonsStep=1);var n=parseInt(t.decimal)+t.spinButtonsStep;n=n.toString().length;var l=s+n<=t.digits;if("advanced"!=t.spinMode){if(o+t.spinButtonsStep<=t.max&&l){for(var h=1,d=0;d<t.decimalDigits;d++)h=10*h;var c=h*o+h*t.spinButtonsStep;c/=h,c=this._parseDecimalValueToEditorValue(c),t.setDecimal(c)}}else{var u=this._getspindecimal(),o=(this._getSeparatorPosition(),parseFloat(u.decimal));t.spinButtonsStep<0&&(t.spinButtonsStep=1);var n=parseInt(o)+t.spinButtonsStep;n=n.toString().length;var l=s+n<=t.digits,h=1,p=u.decimal.indexOf(".");if(-1!=p){for(var m=u.decimal.length-p-1,h=1,d=0;m>d;d++)h=10*h;o+=new Number(t.spinButtonsStep/h),o=o.toFixed(m);var p=o.toString().indexOf(".");-1==p&&(o=o.toString()+".");var f=o.toString()+u.afterdecimal;f=new Number(f),f=f.toFixed(t.decimalDigits);var v=new Number(f).toFixed(t.decimalDigits);v<=t.max?(f=this._parseDecimalValueToEditorValue(f),t.setDecimal(f)):f=void 0}else if(o+t.spinButtonsStep<=t.max&&l){var c=h*o+h*t.spinButtonsStep;c/=h;var f=c.toString()+u.afterdecimal,v=new Number(f).toFixed(t.decimalDigits);v<=t.max?(f=this._parseDecimalValueToEditorValue(f),i&&-1==f.indexOf("-")&&"-0"!=u.decimal&&(f="-"+f),t.setDecimal(f)):f=void 0}}if(void 0==f||"simple"!=this.inputMode)return this._setSelectionStart(r.start),t.savedValue=t.numberInput[0].value,e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{}),void e.jqx.aria(self,"aria-valuenow",this.decimal);f=this.decimal.toString();var i=this.getvalue("negative");-1!=s||i?void 0==f||void 0!=a&&a.toString().length!=f.length?i?this._setSelectionStart(r.start):this._setSelectionStart(1+r.start):this._setSelectionStart(r.start):this._setSelectionStart(-1+r.start),e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{}),e.jqx.aria(self,"aria-valuenow",this.decimal)}}},_exitSimpleInputMode:function(t,i,s,r){if(void 0==i&&(i=t.data),null!=i){if(void 0==s){if(null!=t.target&&null!=i.element&&(void 0!=t.target.id&&t.target.id.toString().length>0&&i.host.find("#"+t.target.id).length>0||t.target==i.element))return;var a=i.host.offset(),o=a.left,n=a.top,l=i.host.width(),h=i.host.height(),d=e(t.target).offset();if(d.left>=o&&d.left<=o+l&&d.top>=n&&d.top<=n+h)return}if(e.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!0),!i.disabled&&!i.readOnly){var c=e.data(i.numberInput,"simpleInputMode");if(null!=c)return e.data(i.numberInput,"simpleInputMode",null),this._parseDecimalInSimpleMode(),!1}}},_getDecimalInSimpleMode:function(){var e=this.decimal;if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(t>0)var i=e.toString().substring(0,t),e=i+"."+e.toString().substring(t+1)}return e},_parseDecimalInSimpleMode:function(e){var t=this,i=t.getvalue("negative"),s=this.ValueString;if(void 0==s&&(s=this.GetValueString(this.numberInput.val(),this.decimalSeparator,""!=this.decimalSeparator)),"."!=this.decimalSeparator){var r=s.toString().indexOf(".");if(r>0){var a=s.toString().substring(0,r),o=a+this.decimalSeparator+s.toString().substring(r+1);s=o}}var n=i?"-":"";"left"==this.symbolPosition&&(n+=this.symbol);var l=this.digits%this.groupSize;0==l&&(l=this.groupSize);var h=s.toString();h.indexOf("-")>=0&&(h=h.substring(h.indexOf("-")+1)),n+=h,"right"==this.symbolPosition&&(n+=this.symbol),0!=e&&t.numberInput.val(n)},_enterSimpleInputMode:function(t,i){void 0==i&&(i=t.data);var s=this._selection();if(null!=i){var r=i.getvalue("negative"),a=i.decimal;r&&a>0&&(a=-a),i.numberInput.val(a),e.data(i.numberInput,"simpleInputMode",!0),e.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!1),this._parseDecimalInSimpleMode(),this._setSelectionStart(s.start)}},setvalue:function(e,t){void 0!==this[e]&&("decimal"==e?this._setDecimal(t):(this[e]=t,this.propertyChangedHandler(this,e,t,t)))},getvalue:function(e){return"decimal"==e&&void 0!=this.negative&&1==this.negative?-Math.abs(this[e]):e in this?this[e]:null},_getString:function(){for(var e="",t=0;t<this.items.length;t++){var i=this.items[t].character;e+=i}return e},_literal:function(e,t,i,s){return{character:e,regex:t,canEdit:i,isSeparator:s}},_initializeLiterals:function(){if("textbox"!=this.inputMode){for(var e=0,t=this.negativeSymbol.length,i=0;t>i;i++){var s=this.negativeSymbol.substring(i,i+1),r="",a=!1,o=null;o=this.negative?this._literal(s,r,a,!1):this._literal("",r,a,!1),this.items[e]=o,e++}var n=this.symbol.length;if("left"==this.symbolPosition)for(i=0;n>i;i++){var s=this.symbol.substring(i,i+1),r="",a=!1,o=this._literal(s,r,a,!1);this.items[e]=o,e++}var l=this.digits%this.groupSize;0==l&&(l=this.groupSize);for(var i=0;i<this.digits;i++){var s=this.promptChar,r="\\d",a=!0,o=this._literal(s,r,a,!1);if(this.items[e]=o,e++,i<this.digits-1&&void 0!=this.groupSeparator&&this.groupSeparator.length>0){if(l--,0==l){l=this.groupSize;var h=this._literal(this.groupSeparator,"",!1,!1);this.items[e]=h,e++}}else i==this.digits-1&&(o.character=0)}if(this.decimalSeparatorPosition=-1,void 0!=this.decimalDigits&&this.decimalDigits>0){var s=this.decimalSeparator;0==s.length&&(s=".");var o=this._literal(s,"",!1,!0);this.items[e]=o,this.decimalSeparatorPosition=e,e++;for(var i=0;i<this.decimalDigits;i++){var d=0,r="\\d",c=this._literal(d,r,!0,!1);this.items[e]=c,e++}}if("right"==this.symbolPosition)for(var i=0;n>i;i++){var s=this.symbol.substring(i,i+1),r="",a=!1,o=this._literal(s,r,a);this.items[e]=o,e++}}},_match:function(e,t){var i=new RegExp(t,"i");return i.test(e)},_raiseEvent:function(t,i){var s=this.events[t],r={};if(r.owner=this,"none"==this.host.css("display"))return!0;var a=i.charCode?i.charCode:i.keyCode?i.keyCode:0,o=!0,n=this.readOnly,l=this;if((3==t||2==t)&&!this.disabled){if("simple"==this.inputMode||"textbox"==this.inputMode)return!0;this._handleMouse(i)}if(0==t){var h=this.getvalue("decimal");this.max<h||this.min>h?this.host.addClass(this.toThemeProperty("jqx-input-invalid")):(this.host.removeClass(this.toThemeProperty("jqx-input-invalid")),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))}var d=new e.Event(s);d.owner=this,r.value=this.getvalue("decimal"),r.text=this.numberInput.val(),d.args=r,void 0!=s&&4!=t&&5!=t&&6!=t&&(o=this.host.trigger(d));var l=this;if("textbox"==this.inputMode)return o;if("simple"!=this.inputMode){if(4==t){if(n||this.disabled)return!1;o=l._handleKeyDown(i,a)}else if(5==t)(n||this.disabled)&&(o=!1);else if(6==t){if(n||this.disabled)return!1;o=l._handleKeyPress(i,a)}}else if(4==t||5==t||6==t){if(e.jqx.mobile.isTouchDevice()||this.touchMode===!0)return!0;if(n||this.disabled)return!1;var c=String.fromCharCode(a),u=(parseInt(c),!0);if(i.ctrlKey||i.shiftKey||i.metaKey||a>=65&&90>=a&&(u=!1),6==t&&void 0!=e.jqx.browser.opera&&8==a)return!1;if(u){if(4==t&&(u=l._handleSimpleKeyDown(i,a)),189==a||45==a||109==a||173==a){var p=l._selection();if(4==t){var m=l.getvalue("negative");0==m?l.setvalue("negative",!0):l.setvalue("negative",!1),l.decimal=l.ValueString,l._parseDecimalInSimpleMode(),l._setSelectionStart(p.start),u=!1,l._raiseEvent(0,l.value),l._raiseEvent(1,l.numberInput.val())}}var f=r.ctrlKey||r.metaKey;if(!e.jqx.browser.msie){var v=i;if(f&&99==a||f&&67==a||f&&122==a||f&&90==a||f&&118==a||f&&86==a||v.shiftKey&&45==a)return(e.jqx.browser.webkit||e.jqx.browser.chrome)&&l._handleSimpleKeyDown(i,a),67==a?!0:!1}if(f&&97==a||f&&65==a)return!0;if(6==t&&u){var g=this._isSpecialKey(a);return g}}return u}return o},GetSelectionInValue:function(e,t,s,r){var a=0;for(i=0;i<t.length&&!(i>=e);i++){var o=t.substring(i,i+1),n=!isNaN(parseInt(o));(n||r&&t.substring(i,i+1)==s)&&a++}return a},GetSelectionLengthInValue:function(e,t,s,r){var a=0;for(i=0;i<s.length&&!(i>=e+t);i++){var o=s.substring(i,i+1),n=!isNaN(parseInt(o));(t>0&&i>=e&&n||i>=e&&s[i].toString()==r)&&a++}return a},GetInsertTypeByPositionInValue:function(e,t,i,s){var r="before",a=this.GetValueString(i,t,s),o=this.GetDigitsToSeparator(0,a,t);return e>o&&(r="after"),r},RemoveRange:function(e,t,i,s,r,a){var o=this.digits,n=e,l=t,h=0,s=(this.decimal,this._selection(),this.decimalSeparator),d=""!=s;if(0==l&&this.ValueString.length<this.decimalPossibleChars-1)return h;var c=this.GetSeparatorPositionInText(s,i);r||(c=this.GetSeparatorPositionInText(s,i)),0>c&&!d&&i.length>1&&(c=i.length),-1==c&&(c=i.length);var u=d?1:0;if(2>t&&1==a){var p=this.ValueString.length-this.decimalDigits-u;p==o&&c>e+t&&l++}for(var m="",f=0;f<i.length;f++)if(n>f||f>=n+l)m+=i.substring(f,f+1);else{var v=i.substring(f,f+1);if(v!=s){var v=i.substring(f,f+1);if(!(this.symbol&&""!=this.symbol&&this.symbol.indexOf(v)>=0))if(f>c)m+="0";else{var v=i.substring(f,f+1),g=!isNaN(parseInt(v));g&&h++}}else m+=s}0==m.length&&(m="0"),r?this.numberInput.val(m):this.ValueString=m;var x=m.substring(0,1);if(x==s&&isNaN(parseInt(x))){var b="0"+m;m=b}return this.ValueString=this.GetValueString(m,s,d),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(n),h},InsertDigit:function(e,t){"number"!=typeof this.digits&&(this.digits=parseInt(this.digits)),"number"!=typeof this.decimalDigits&&(this.decimalDigits=parseInt(this.decimalDigits));var i=1+this.digits,s=this._selection(),r=this.getvalue("negative"),a=!1;0==s.start&&""!=this.symbol&&"left"==this.symbolPosition&&(this._setSelectionStart(s.start+1),s=this._selection(),a=!0),(r&&a||r&&!a&&0==s.start)&&(this._setSelectionStart(s.start+1),s=this._selection());var o=this.numberInput.val().substring(s.start,s.start+1),n=this.numberInput.val(),l=this.decimalSeparator,h=""!=l&&this.decimalDigits>0;if(o==this.symbol&&"right"==this.symbolPosition){if(0!=this.decimalDigits)return;if(this.ValueString=this.GetValueString(n,l,h),this.ValueString.length>=i)return}this.ValueString=this.GetValueString(n,l,h),""==this.ValueString&&(this.ValueString=new Number(0).toFixed(this.decimalDigits));var d=this.ValueString;this.decimalDigits>0&&t>=d.length&&(t=d.length-1);var c="";t<d.length&&(c=d.substring(t,t+1));var u=!1,p=this.GetInsertTypeByPositionInValue(t,l,n,h);"after"==p&&(u=!0);var m=h?1:0;c!=l&&this.ValueString.length-this.decimalDigits-m>=i-1&&(u=!0),"0"===c&&1===this.ValueString.length&&0===this.decimalDigits&&(u=!0);var f=!1,v=h?1:0;if(!(!u&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+v)){if(u&&c!=l){f&&t++;var g=d.substring(0,t);if(g.length==d.length&&this.ValueString.length>=this.digits+this.decimalDigits+v)return;var x=e,b="";t+1<d.length&&(b=d.substring(t+1));var y=g+x+b;this.ValueString=y}else{var g=d.substring(0,t),x=e,b=d.substring(t),y=g+x+b;"0"==d.substring(0,1)&&d.substring(1,2)==l&&(y=x+d.substring(1),c==l&&(this._setSelectionStart(s.start-1),s=this._selection())),this.ValueString=y}r?this.decimal=-this.ValueString:this.decimal=this.ValueString,this._parseDecimalInSimpleMode();var w=s.start;w+=1,this._setSelectionStart(w),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())}},GetStringToSeparator:function(e,t,i){var s="",r=this.GetSeparatorPositionInText(t,e),a=e.subString(0,r);return s=this.GetValueString(a,t,i)},GetSeparatorPositionInText:function(e,t){var s=-1;for(i=0;i<t.length;i++)if(t.substring(i,i+1)==e){s=i;break}return s},GetValueString:function(e,t,i){for(var s="",r=0;r<e.length;r++){var a=e.substring(r,r+1),o=!isNaN(parseInt(a));o&&(s+=a),a==t&&(s+=t)}return s},Backspace:function(){var e=this._selection(),t=this._selection(),i=this.numberInput.val();if(0!=e.start||0!=e.length){this.isBackSpace=!0;var s=i.substring[(e.start,e.start+1)];!isNaN(parseInt(s));if(e.start>0&&0==e.length){this._setSelectionStart(e.start-1);var e=this._selection()}this.Delete(),this._setSelectionStart(t.start-1),this.isBackSpace=!1}},Delete:function(e){var t=this._selection(),i=this.numberInput.val();if(0===t.start&&"-"==i.substring(0,1)){this.setvalue("negative",!1);var t=this._selection(),i=this.numberInput.val()}var s=t.start,r=t.length;r=Math.max(r,1),this.ValueString=this.GetValueString(i,this.decimalSeparator,""!=this.decimalSeparator),this.RemoveRange(t.start,r,this.ValueString,".",!1);var a=this.ValueString.substring(0,1),o=!isNaN(parseInt(a));o||(this.ValueString="0"+this.ValueString),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(s),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())},insertsimple:function(e){var t=this._selection(),i=this.numberInput.val();if(!(t.start==i.length&&null!=this.decimal&&this.decimalDigits>0)){var s=(this.decimal,this.decimalSeparator);this.ValueString=this.GetValueString(i,s,""!=s);var r=this.GetSelectionInValue(t.start,i,s,""!=s),a=this.GetSelectionLengthInValue(t.start,t.length,i,s);this.GetDigitsToSeparator(0,this.ValueString,s);if(this.decimalDigits>0&&r>=this.ValueString.length&&r--,""==this.ValueString)return this.ValueString=new Number(0).toFixed(this.decimalDigits),void this.InsertDigit(e,r,t);this.RemoveRange(t.start,a,this.ValueString,s,!1,!0),this.InsertDigit(e,r,t)}},GetDigitsToSeparator:function(e,t,s){if(void 0==s&&(s="."),t.indexOf(s)<0)return t.length;for(i=0;i<t.length;i++)if(t.substring(i,i+1)==s){e=i;break}return e},_handleSimpleKeyDown:function(t,i){var s=this._selection(),r=t.ctrlKey||t.metaKey;if((8==i||46==i)&&r)return this.setDecimal(null),!1;if(s.start>=0&&s.start<this.items.length)var a=String.fromCharCode(i);if(this.rtl&&37==i){var o=t.shiftKey,n=o?1:0;return o?this._setSelection(s.start+1-n,s.start+s.length+1):this._setSelection(s.start+1-n,s.start+1),!1}if(this.rtl&&39==i){var o=t.shiftKey,n=o?1:0;return o?this._setSelection(s.start-1,s.length+n+s.start-1):this._setSelection(s.start-1,s.start-1),!1}if(8==i)return this.Backspace(),!1;if(190==i||110==i){var l=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val());return-1!=l&&this._setSelectionStart(l+1),!1}if(188==i){var h=this.numberInput.val();for(u=s.start;u<h.length;u++)if(h[u]==this.groupSeparator){this._setSelectionStart(1+u);break}return!1}var r=t.ctrlKey||t.metaKey;if(r&&99==i||r&&67==i){var s=this._selection(),d="",c=this.numberInput.val();if(s.start>0||s.length>0)for(var u=s.start;u<s.end;u++)d+=c.substring(u,u+1);if(e.data(document.body,"jqxSelection",d),e.jqx.browser.msie)window.clipboardData.setData("Text",d);else{var p=this,m=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');m.val(d),e("body").append(m),m.select(),setTimeout(function(){document.designMode="off",m.select(),m.remove(),p.focus()},100)}return this.savedText=d,!0}if(r&&122==i||r&&90==i)return!1;if(r&&118==i||r&&86==i||t.shiftKey&&45==i)return e.jqx.browser.msie&&!this.savedText&&(this.savedText=window.clipboardData.getData("Text")),null!=this.savedText&&this.savedText.length>0?this.val(this.savedText):this.val(e.data(document.body,"jqxSelection")),!1;var a=String.fromCharCode(i),f=parseInt(a);if(i>=96&&105>=i&&(f=i-96,i-=48),!isNaN(f)){var p=this;return this.insertsimple(f),!1}if(46==i)return this.Delete(),!1;if(38==i)return this.spinUp(),!1;if(40==i)return this.spinDown(),!1;var v=this._isSpecialKey(i);return e.jqx.browser.mozilla?v:!0},_getEditRange:function(){var e=0,t=0;for(i=0;i<this.items.length;i++)if(this.items[i].canEdit){e=i;break}for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit){t=i;break}return{start:e,end:t}},_getVisibleItems:function(){var e=new Array,t=0;for(i=0;i<this.items.length;i++)this.items[i].character.toString().length>0&&(e[t]=this.items[i],t++);return e},_hasEmptyVisibleItems:function(){var e=this._getVisibleItems();for(i=0;i<e.length;i++)if(e[i].canEdit&&e[i].character==this.promptChar)return!0;return!1},_getFirstVisibleNonEmptyIndex:function(){var e=this._getVisibleItems();for(i=0;i<e.length;i++)if(e[i].canEdit&&e[i].character!=this.promptChar)return i},_handleMouse:function(e,t){var i=this._selection();if(i.length<=1){var s=this._getFirstVisibleNonEmptyIndex();i.start<s&&this._setSelectionStart(s)}},_insertKey:function(t){this.numberInput[0].focus();var s=String.fromCharCode(t),r=parseInt(s);if(!isNaN(r)){var a=0;for(i=0;i<this.items.length;i++)0==this.items[i].character.length&&a++;var o=this._selection(),n=this;if(o.start>=0&&o.start<=this.items.length){var l=!1,h=this._getFirstVisibleNonEmptyIndex();o.start<h&&0==o.length&&(isNaN(s)&&" "!=s||(this._setSelectionStart(h),o=this._selection()));var d=(this._getFirstEditableItemIndex(),this._getLastEditableItemIndex()),c=this._getVisibleItems();e.each(c,function(e,t){if(!(o.start>e&&e!=c.length-1)){var i=c[e];if(e>d&&(i=c[d]),!isNaN(s)&&" "!=s&&i.canEdit){var r=n._getSeparatorPosition();if(n._match(s,i.regex)){if(!l&&o.length>0){for(j=o.start+a;j<o.end+a;j++)n.items[j].canEdit&&(j>r?n.items[j].character="0":n.items[j].character=n.promptChar);var h=n._getString();l=!0}var r=n._getSeparatorPosition(),u=n._hasEmptyVisibleItems();if(null==n.decimal&&(o.start=r-1,o.start<0&&(o.start=0),o.end=o.start),o.start<=r&&u){var m=e;-1==n.decimalSeparatorPosition&&o.start==r&&(m=e+1),null==n.decimal&&(m=o.start);var f="";for(p=0;p<m;p++)c[p].canEdit&&c[p].character!=n.promptChar&&(f+=c[p].character);f+=s;var v=n.decimal<1?1:0;for(o.start==r&&-1!=n.decimalSeparatorPosition&&(f+=n.decimalSeparator,v=0),p=m+v;p<c.length;p++)c[p].character==n.decimalSeparator&&c[p].isSeparator?f+=c[p].character:c[p].canEdit&&c[p].character!=n.promptChar&&(f+=c[p].character);"."!=n.decimalSeparator&&(f=n._parseDecimalValue(f)),f=parseFloat(f).toString(),f=new Number(f),f=f.toFixed(n.decimalDigits),"."!=n.decimalSeparator&&(f=n._parseDecimalValueToEditorValue(f)),n.setvalue("decimal",f);var h=n._getString();if(o.end<r?n._setSelectionStart(o.end+v):n._setSelectionStart(o.end),o.length>=1&&n._setSelectionStart(o.end),o.length==n.numberInput.val().length){var g=n._moveCaretToDecimalSeparator(),x=n.decimalSeparatorPosition>=0?1:0;n._setSelectionStart(g-x)}}else if(o.start<r||o.start>r){if(n.numberInput.val().length==o.start&&-1!=n.decimalSeparatorPosition)return!1;if(n.numberInput.val().length==o.start&&-1==n.decimalSeparatorPosition&&!u)return!1;var f="",b=!1;for(p=0;p<e;p++)c[p].canEdit&&c[p].character!=n.promptChar&&(f+=c[p].character),c[p].character==n.decimalSeparator&&c[p].isSeparator&&(f+=c[p].character,b=!0);f+=s;var v=n.decimal<1?1:0;for(b||o.start!=r-1||(f+=n.decimalSeparator,b=!0),p=e+1;p<c.length;p++)!b&&c[p].character==n.decimalSeparator&&c[p].isSeparator?f+=c[p].character:c[p].canEdit&&c[p].character!=n.promptChar&&(f+=c[p].character);n.setvalue("decimal",f);var h=n._getString();if(n.decimalSeparatorPosition<0&&i==c[d])return n._setSelectionStart(e),!1;var y=h.indexOf(n.symbol),w=n.getvalue("negative")?1:0;if(w>=y&&(y=h.length),o.start<y?n._setSelectionStart(e+1):n._setSelectionStart(e),o.length>=1,o.length==n.numberInput.val().length){var g=n._moveCaretToDecimalSeparator();n._setSelectionStart(g-1)}}return!1}}}})}}},_handleKeyPress:function(t,i){var s=this._selection(),r=this,a=t.ctrlKey||t.metaKey;if(a&&97==i||a&&65==i)return!0;if(8==i)return s.start>0&&r._setSelectionStart(s.start),!1;if(46==i)return s.start<this.items.length&&r._setSelectionStart(s.start),!1;if(!e.jqx.browser.mozilla&&(45==i||173==i||109==i||189==i)){var o=this.getvalue("negative");0==o?this.setvalue("negative",!0):this.setvalue("negative",!1)}e.jqx.browser.msie&&this._insertKey(i);var n=this._isSpecialKey(i);return n},_deleteSelectedText:function(){var e=this._selection(),t="",s=this._getSeparatorPosition(),r=this._getVisibleItems(),a=this._getHiddenPrefixCount();for(this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection()),i=0;i<e.start;i++)r[i].canEdit&&r[i].character!=this.promptChar?t+=r[i].character:r[i].canEdit||-1==this.decimalSeparatorPosition||r[i]!=r[this.decimalSeparatorPosition-a]||(0==t.length&&(t="0"),t+=r[i].character);for(i=e.start;i<e.end;i++)i>s&&-1!=this.decimalSeparatorPosition?r[i].canEdit&&r[i].character!=this.promptChar&&(t+="0"):r[i].canEdit||-1==this.decimalSeparatorPosition||r[i]!=r[this.decimalSeparatorPosition-a]||(0==t.length&&(t="0"),t+=r[i].character);for(i=e.end;i<r.length;i++)r[i].canEdit&&r[i].character!=this.promptChar?t+=r[i].character:r[i].canEdit||-1==this.decimalSeparatorPosition||r[i]!=r[this.decimalSeparatorPosition-a]||(0==t.length&&(t="0"),t+=r[i].character);return this.setvalue("decimal",t),e.length>0},_restoreInitialState:function(){var e=parseInt(this.decimalDigits);for(e>0&&(e+=2),k=this.items.length-1;k>this.items.length-1-e;k--)this.items[k].canEdit&&this.items[k].character==this.promptChar&&(this.items[k].character=0)},clear:function(){this.setDecimal(0)},clearDecimal:function(){if("textbox"==this.inputMode)return void this.numberInput.val();for(var e=0;e<this.items.length;e++)this.items[e].canEdit&&(this.items[e].character=this.promptChar);this._restoreInitialState()},_saveSelectedText:function(){var t=this._selection(),s="",r=this._getVisibleItems();if(t.start>0||t.length>0)for(i=t.start;i<t.end;i++)r[i].canEdit&&r[i].character!=this.promptChar?s+=r[i].character:r[i].isSeparator&&(s+=r[i].character);return e.jqx.browser.msie&&window.clipboardData.setData("Text",s),s},_pasteSelectedText:function(){var t=this._selection();if(this.selectedText=e.data(document.body,"jqxSelection"),window.clipboardData){var i=window.clipboardData.getData("Text");if(i!=this.selectedText&&i.length>0&&(this.selectedText=window.clipboardData.getData("Text"),null==this.selectedText||void 0==this.selectedText))return}t.start,this._getVisibleItems();if(null!=this.selectedText)for(var s=0;s<this.selectedText.length;s++){var r=parseInt(this.selectedText[s]);if(!isNaN(r)){var a=48+r;this._insertKey(a)}}},_getHiddenPrefixCount:function(){var e=0;if(this.negative||e++,"left"==this.symbolPosition)for(i=0;i<this.symbol.length;i++)""==this.symbol.substring(i,i+1)&&e++;return e},_getEditableItem:function(){var e=this._selection();for(i=0;i<this.items.length;i++)if(i<e.start&&this.items[i].canEdit&&this.items[i].character!=this.promptChar)return this.items[i];return null},_getEditableItems:function(){var e=new Array,t=0;for(i=0;i<this.items.length;i++)this.items[i].canEdit&&(e[t]=this.items[i],t++);return e},_getValidSelectionStart:function(e){for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit&&this.items[i].character!=this.promptChar)return i;return-1},_getEditableItemIndex:function(e){var t=this._selection(),s=this._getHiddenPrefixCount(),r=this._getVisibleItems(),a=t.start,o=-1;for(i=0;i<a;i++)i<r.length&&r[i].canEdit&&(o=i+s);if(-1==o&&t.length>0)for(a=t.end,i=0;i<a;i++)if(i<r.length&&r[i].canEdit){o=i+s;break}return o},_getEditableItemByIndex:function(e){for(k=0;k<this.items.length;k++)if(k>e&&this.items[k].canEdit&&this.items[k].character!=this.promptChar)return k;return-1},_getFirstEditableItemIndex:function(){var e=this._getVisibleItems();for(m=0;m<e.length;m++)if(e[m].character!=this.promptChar&&e[m].canEdit&&"0"!=e[m].character)return m;return-1},_getLastEditableItemIndex:function(){var e=this._getVisibleItems();for(m=e.length-1;m>=0;m--)if(e[m].character!=this.promptChar&&e[m].canEdit)return m;return-1},_moveCaretToDecimalSeparator:function(){for(i=this.items.length-1;i>=0;i--)if(this.items[i].character==this.decimalSeparator&&this.items[i].isSeparator)return this.negative?(this._setSelectionStart(i+1),i):(this._setSelectionStart(i),i);return this.numberInput.val().length},_handleBackspace:function(){var e=this._selection(),t=this._getHiddenPrefixCount(),i=this._getEditableItemIndex()-t,s=this._getFirstVisibleNonEmptyIndex(),r=!1;if(this.negative&&(r=!0,(s>=i+1||0==e.start)&&(this.setvalue("negative",!1),0==e.length))){this._setSelectionStart(e.start-1);var e=this._selection()}if(i>=0){0==e.length&&-1!=i&&this._setSelection(i,i+1);var a=e.start>this._getSeparatorPosition()+1&&this.decimalSeparatorPosition>0;a&&(e=this._selection());this._deleteSelectedText();if(e.length<1||a?this._setSelectionStart(e.start):e.length>=1&&this._setSelectionStart(e.end),e.length==this.numberInput.val().length||r){var o=this._moveCaretToDecimalSeparator();this._setSelectionStart(o-1)}}else this._setSelectionStart(e.start)},_handleKeyDown:function(t,s){var r=this._selection(),a=t.ctrlKey||t.metaKey;if((8==s||46==s)&&a)return this.setDecimal(null),!1;if(this.rtl&&37==s){var o=t.shiftKey,n=o?1:0;return o?this._setSelection(r.start+1-n,r.start+r.length+1):this._setSelection(r.start+1-n,r.start+1),!1}if(this.rtl&&39==s){var o=t.shiftKey,n=o?1:0;return o?this._setSelection(r.start-1,r.length+n+r.start-1):this._setSelection(r.start-1,r.start-1),!1}if(a&&97==s||a&&65==s)return!0;if(a&&120==s||a&&88==s)return this.selectedText=this._saveSelectedText(t),e.data(document.body,"jqxSelection",this.selectedText),
this._handleBackspace(),!1;if(a&&99==s||a&&67==s)return this.selectedText=this._saveSelectedText(t),e.data(document.body,"jqxSelection",this.selectedText),!1;if(a&&122==s||a&&90==s)return!1;if(a&&118==s||a&&86==s||t.shiftKey&&45==s)return this._pasteSelectedText(),!1;if(r.start>=0&&r.start<this.items.length){var l=String.fromCharCode(s);this.items[r.start]}if(8==s)return this._handleBackspace(),!1;if(190==s||110==s)return this._moveCaretToDecimalSeparator(),!1;if(188==s){var h=this.numberInput.val();for(i=r.start;i<h.length;i++)if(h[i]==this.groupSeparator){this._setSelectionStart(1+i);break}return!1}if(null==e.jqx.browser.msie){var l=String.fromCharCode(s),d=parseInt(l);if(s>=96&&105>=s&&(d=s-96,s-=48),!isNaN(d)){var c=this;return c._insertKey(s),!1}}if(46==s){var u=this._getVisibleItems();if(r.start<u.length){var n=0==u[r.start].canEdit?2:1;if(0==r.start&&this.negative){this.setvalue("negative",!1),0==r.length&&this._setSelectionStart(0);var r=this._selection();if(0==r.length)return!1}0==r.length&&this._setSelection(r.start+n,r.start+n+r.length),this._handleBackspace(),new Number(this.decimal)<1||r.start>this._getSeparatorPosition()?this._setSelectionStart(r.end+n):r.start+1<this.decimalSeparatorPosition&&this._setSelectionStart(r.end+n)}return!1}if(38==s)return this.spinUp(),!1;if(40==s)return this.spinDown(),!1;var p=this._isSpecialKey(s);if(e.jqx.browser.mozilla&&(45==s||173==s||109==s||189==s)){var m=this.getvalue("negative");0==m?this.setvalue("negative",!0):this.setvalue("negative",!1)}return e.jqx.browser.mozilla?p:!0},_isSpecialKey:function(e){return 8!=e&&9!=e&&13!=e&&35!=e&&36!=e&&37!=e&&39!=e&&27!=e&&46!=e?!1:!0},_selection:function(){try{if("selectionStart"in this.numberInput[0]){var e=this.numberInput[0],t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:e.value.length,length:0};var s=this.numberInput[0].createTextRange(),r=s.duplicate();s.moveToBookmark(i.getBookmark()),r.setEndPoint("EndToStart",s);var t=i.text.length;return{start:r.text.length,end:r.text.length+i.text.length,length:t,text:i.text}}catch(a){return{start:0,end:0,length:0}}},selectAll:function(){var e=this.numberInput;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},_setSelection:function(t,i){if(1!=this._disableSetSelection){var s=e.jqx.mobile.isTouchDevice();if(!s&&1!=this.touchMode)try{if("selectionStart"in this.numberInput[0])this.numberInput[0].focus(),this.numberInput[0].setSelectionRange(t,i);else{var r=this.numberInput[0].createTextRange();r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",t),r.select()}}catch(a){}}},_setSelectionStart:function(t){this._setSelection(t,t),e.data(this.numberInput,"selectionstart",t)},resize:function(e,t){this.width=e,this.height=t,this._render(!1)},_render:function(t){var i=(parseInt(this.host.css("border-left-width")),parseInt(this.host.css("border-left-width")),parseInt(this.host.css("border-left-width")));parseInt(this.host.css("border-left-width"));this.numberInput.css("padding-top","0px"),this.numberInput.css("padding-bottom","0px"),this.host.css({height:this.height}),this.host.css({width:this.width});var s=this.host.width(),r=this.host.height();this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),this.numberInput.css("text-align",this.textAlign);var a=this.numberInput.css("font-size");this.numberInput.css("height",this.height),this.numberInput.css("width",s-2);var o=r-2*i-parseInt(a)-2;if(isNaN(o)&&(o=0),0>o&&(o=0),this.spinButtons&&this.spincontainer){s-=parseInt(this.spinButtonsWidth-2);var n=e.jqx.mobile.isTouchDevice();n||this.touchMode===!0?(this.spincontainer.css({width:2*this.spinButtonsWidth}),s-=this.spinButtonsWidth,this.upbutton.css({height:"100%"}),this.downbutton.css({height:"100%"}),this.downbutton.css("float","left"),this.upbutton.css("float","right"),this.upbutton.css({width:this.spinButtonsWidth}),this.downbutton.css({width:1+this.spinButtonsWidth})):(this.spincontainer.css({width:this.spinButtonsWidth}),this.upbutton.css({width:this.spinButtonsWidth+2}),this.downbutton.css({width:this.spinButtonsWidth+2}),this.upbutton.css({height:"50%"}),this.downbutton.css({height:"50%"}),this.spincontainer.css({width:this.spinButtonsWidth})),this._upArrow.css({height:"100%"}),this._downArrow.css({height:"100%"}),this.numberInput.css("width",s-6),this.numberInput.css("margin-right","2px")}var l=o/2;e.jqx.browser.msie&&e.jqx.browser.version<8&&(l=o/4),this.numberInput.css("padding-left","0px"),this.numberInput.css("padding-right","0px"),this.numberInput.css("padding-top",Math.round(l)+"px"),this.numberInput.css("padding-bottom",Math.round(l)+"px"),(void 0==t||1==t)&&(this.numberInput.val(this._getString()),"advanced"!=this.inputMode&&this._parseDecimalInSimpleMode())},destroy:function(){this._removeHandlers(),this.host.remove()},inputValue:function(e){return void 0===e?this._value():(this.propertyChangedHandler(this,"value",this._value,e),this._refreshValue(),this)},_value:function(){var e=this.numberInput.val();return e},val:function(e){if((void 0===e||"object"==typeof e)&&null!==e)return this.getDecimal();if(null===e)return void this.setDecimal(null);var t=e;t=t.toString(),t.indexOf(this.symbol)>-1&&(t=t.replace(this.symbol,""));var i=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)s=s.replace(t,i),r=s.indexOf(t);return s};t=i(t,this.groupSeparator,""),t=t.replace(this.decimalSeparator,".");for(var s="",r=0;r<t.length;r++){var a=t.substring(r,r+1);"-"===a&&(s+="-"),"."===a&&(s+="."),null!=a.match(/^[0-9]+$/)&&(s+=a)}t=s,t=t.replace(/ /g,""),t=new Number(t),this.setDecimal(t)},getDecimal:function(){if(null==this.decimal)return null;if("simple"==this.inputMode&&(this._parseDecimalInSimpleMode(!1),this.decimal=this._getDecimalInSimpleMode(this.decimal)),""==this.decimal)return 0;var e=this.getvalue("negative");return e&&this.decimal>0?-parseFloat(this.decimal):parseFloat(this.decimal)},setDecimal:function(e){var t=e;if("."!=this.decimalSeparator)if(null===e)this._setDecimal(e);else{var i=e;if("number"!=typeof e){e=e.toString();var s=e.indexOf(".");if(-1!=s){var r=e.substring(0,s),a=e.substring(s+1);i=r+"."+a,-1!=r.indexOf("-")&&(r=r.substring(1)),e="advanced"!=this.inputMode?r+"."+a:r+this.decimalSeparator+a}else{var s=e.indexOf(this.decimalSeparator);if(-1!=s){var r=e.substring(0,s),a=e.substring(s+1);i=r+"."+a,-1!=r.indexOf("-")&&(r=r.substring(1)),e="advanced"!=this.inputMode?r+"."+a:r+this.decimalSeparator+a}}}0>i?this.setvalue("negative",!0):this.setvalue("negative",!1),this._setDecimal(e)}else 0>e?this.setvalue("negative",!0):this.setvalue("negative",!1),null===e?this._setDecimal(e):this._setDecimal(Math.abs(e));null==t&&this.numberInput.val("")},_setDecimal:function(e){if(null==e)return this.decimal=null,this.value=null,this._refreshValue(),this.decimal=null,void(this.value=null);(null==e||void 0==e)&&(e=0),-1!=e.toString().indexOf("e")&&(e=new Number(e).toFixed(this.decimalDigits).toString()),this.clearDecimal();var t=e.toString(),i="",s="",r=!0;0==t.length&&(t="0");for(var a=0;a<t.length;a++)t.substring(a,a+1)!=this.decimalSeparator?r?i+=t.substring(a,a+1):s+=t.substring(a,a+1):r=!1;i.length>0&&(i=parseFloat(i).toString());var o=this.digits;o<i.length&&(i=i.substr(0,o));var n=0,l=this._getSeparatorPosition(),h=this._getHiddenPrefixCount();l+=h;for(var a=l;a>=0;a--)a<this.items.length&&this.items[a].canEdit&&n<i.length&&(this.items[a].character=i.substring(i.length-n-1,i.length-n),n++);n=0;for(var a=l;a<this.items.length;a++)this.items[a].canEdit&&n<s.length&&(this.items[a].character=s.substring(n,n+1),n++);if(this._refreshValue(),"."==this.decimalSeparator)this.ValueString=new Number(e).toFixed(this.decimalDigits);else{var d=e.toString().indexOf(this.decimalSeparator);if(d>0){var c=e.toString().substring(0,d),u=c+"."+e.toString().substring(d+1);this.ValueString=new Number(u).toFixed(this.decimalDigits)}else this.ValueString=new Number(e).toFixed(this.decimalDigits)}if("advanced"!=this.inputMode&&(this._parseDecimalInSimpleMode(),this._raiseEvent(1,this.ValueString)),"textbox"==this.inputMode){this.decimal=this.ValueString;var p=this.getvalue("negative");p&&(this.decimal="-"+this.ValueString)}var e=this.val();e<this.min||e>this.max?this.host.addClass("jqx-input-invalid"):this.host.removeClass("jqx-input-invalid")},_getSeparatorPosition:function(){var e=this._getHiddenPrefixCount();return this.decimalSeparatorPosition>0?this.decimalSeparatorPosition-e:this.items.length-e},_setTheme:function(){this.host.removeClass(),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons&&(this.downbutton.removeClass(),this.upbutton.removeClass(),this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this._upArrow.removeClass(),this._downArrow.removeClass(),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),this.numberInput.removeClass(),this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertyChangedHandler:function(t,s,r,a){if(("digits"==s||"groupSize"==s||"decimalDigits"==s)&&0>a)throw new Exception(this.invalidArgumentExceptions[0]);if("theme"===s&&e.jqx.utilities.setTheme(r,a,t.host),"digits"==s&&a!=r&&(t.digits=parseInt(a)),("min"==s||"max"==s)&&(e.jqx.aria(t,"aria-value"+s,a.toString()),t._refreshValue()),"decimalDigits"==s&&a!=r&&(t.decimalDigits=parseInt(a)),"decimalSeparator"==s||"digits"==s||"symbol"==s||"symbolPosition"==s||"groupSize"==s||"groupSeparator"==s||"decimalDigits"==s||"negativeSymbol"==s){var o=t.decimal;if("decimalSeparator"==s&&""==a&&(a=" "),r!=a){var n=t._selection();t.items=new Array,t._initializeLiterals(),t.value=t._getString(),t._refreshValue(),t._setDecimal(o)}}if("rtl"==s&&(t.rtl?(t.spincontainer&&(t.spincontainer.css("float","right"),t.spincontainer.css("border-right-width","1px")),t.numberInput.css("float","right")):(t.spincontainer&&(t.spincontainer.css("float","right"),t.spincontainer.css("border-right-width","1px")),t.numberInput.css("float","left"))),"spinButtons"==s&&(t.spincontainer?(a?t.spincontainer.css("display","block"):t.spincontainer.css("display","none"),t._render()):t._spinButtons()),"touchMode"===s&&(t.inputMode="textbox",t.spinMode="simple",t.render()),"negative"==s&&"advanced"==t.inputMode){var n=t._selection(),l=0;a?(t.items[0].character=t.negativeSymbol[0],l=1):(t.items[0].character="",l=-1),t._refreshValue(),t.isInitialized&&t._setSelection(n.start+l,n.end+l)}if("decimal"==s&&(t.value=a,t.setDecimal(a)),"value"===s&&(t.value=a,t.setDecimal(a),t._raiseEvent(1,a)),"textAlign"==s&&(t.textAlign=a,t._render()),"disabled"==s&&(t.numberInput.attr("disabled",a),t.disabled?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",a.toString())),"readOnly"==s&&(t.readOnly=a),"promptChar"==s){for(i=0;i<t.items.length;i++)t.items[i].character==t.promptChar&&(t.items[i].character=a);t.promptChar=a}"width"==s?(t.width=a,t._render()):"height"==s&&(t.height=a,t._render())},_value:function(){var e=this.value;return e},_refreshValue:function(){var e=this.value;if("textbox"!==this.inputMode){this.value=this._getString(),e=this.value;for(var t="",i=0;i<this.items.length;i++){var s=this.items[i];s.canEdit&&s.character!=this.promptChar&&(t+=s.character),i==this.decimalSeparatorPosition&&(t+=".")}this.decimal=t;var r=!1;this.oldValue!==e&&(this.oldValue=e,this._raiseEvent(0,e),r=!0),"simple"!=this.inputMode&&(this.numberInput.val(e),r&&this._raiseEvent(1,e)),null==e&&this.numberInput.val("")}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxPanel","",{}),e.extend(e.jqx._jqxPanel.prototype,{defineInstance:function(){var t={width:null,height:null,disabled:!1,scrollBarSize:e.jqx.utilities.scrollBarSize,sizeMode:"fixed",autoUpdate:!1,autoUpdateInterval:500,touchMode:"auto",horizontalScrollBarMax:null,verticalScrollBarMax:null,touchModeStyle:"auto",rtl:!1,events:["layout"]};return e.extend(!0,this,t),t},createInstance:function(e){this.render()},render:function(){15!=e.jqx.utilities.scrollBarSize&&(this.scrollBarSize=e.jqx.utilities.scrollBarSize),this.host.addClass(this.toThemeProperty("jqx-panel")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all"));var t=e("<div id='panelWrapper' style='overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='panelContent' style='-webkit-appearance: none; -moz-box-sizing: border-box; box-sizing: border-box; width: 100%; height: 100%; outline: none; border: none; padding: 0px; position: absolute; margin: 0px; align:left; valign:top; left: 0px; top: 0px;'/><div id='verticalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div>");if(!this.host.jqxButton)throw new Error("jqxPanel: Missing reference to jqxbuttons.js.");if(!this.host.jqxScrollBar)throw new Error("jqxPanel: Missing reference to jqxscrollbar.js.");var i=this.host.children();this._rtl=!1,i.length>0&&"rtl"==i.css("direction")&&(this.rtl=!0,this._rtl=!0),this.host.wrapInner(t);var s=this.host.find("#verticalScrollBar");s[0].id=this.element.id+"verticalScrollBar",this.vScrollBar=s.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});var r=this.host.find("#horizontalScrollBar");r[0].id=this.element.id+"horizontalScrollBar",this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme}),this.content=this.host.find("#panelContent"),this.wrapper=this.host.find("#panelWrapper"),this.content.addClass(this.toThemeProperty("jqx-widget-content")),this.wrapper[0].id=this.wrapper[0].id+this.element.id,this.content[0].id=this.content[0].id+this.element.id,this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-panel-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),this.bottomRight[0].id="bottomRight"+this.element.id,this.vScrollBar.css("visibility","inherit"),this.hScrollBar.css("visibility","inherit"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance;var a=this;this.propertyChangeMap.disabled=function(e,t,i,s){a.vScrollBar.jqxScrollBar({disabled:a.disabled}),a.hScrollBar.jqxScrollBar({disabled:a.disabled})},this.vScrollBar.jqxScrollBar({disabled:this.disabled}),this.hScrollBar.jqxScrollBar({disabled:this.disabled}),this._addHandlers(),null==this.width&&(this.width=this.content.width()),null==this.height&&(this.height=this.content.height()),this._arrange(),this.contentWidth=a.content[0].scrollWidth,this.contentHeight=a.content[0].scrollHeight,this.autoUpdate&&a._autoUpdate(),this.propertyChangeMap.autoUpdate=function(e,t,i,s){a.autoUpdate?a._autoUpdate():(clearInterval(a.autoUpdateId),a.autoUpdateId=null)},this.addHandler(e(window),"unload",function(){null!=a.autoUpdateId&&(clearInterval(a.autoUpdateId),a.autoUpdateId=null,a.destroy())}),this._updateTouchScrolling(),this._render()},hiddenParent:function(){return e.jqx.isHidden(this.host)},_updateTouchScrolling:function(){var t=this;1==this.touchMode&&e.jqx.mobile.setMobileSimulator(this.element);var i=this.isTouchDevice();i&&(e.jqx.mobile.touchScroll(this.element,t.vScrollInstance.max,function(e,i){if("hidden"!=t.vScrollBar.css("visibility")){var s=t.vScrollInstance.value;t.vScrollInstance.setPosition(s+i)}if("hidden"!=t.hScrollBar.css("visibility")){var s=t.hScrollInstance.value;t.hScrollInstance.setPosition(s+e)}},this.element.id,this.hScrollBar,this.vScrollBar),this._arrange()),this.vScrollBar.jqxScrollBar({touchMode:this.touchMode}),this.hScrollBar.jqxScrollBar({touchMode:this.touchMode})},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t},append:function(e){null!=e&&(this.content.append(e),this._arrange())},setcontent:function(e){this.content[0].innerHTML=e,this._arrange();var t=this;setTimeout(function(){t._arrange()},100)},prepend:function(e){null!=e&&(this.content.prepend(e),this._arrange())},clearcontent:function(){this.content.text(""),this.content.children().remove(),this._arrange()},remove:function(t){null!=t&&(e(t).remove(),this._arrange())},_autoUpdate:function(){var e=this;this.autoUpdateId=setInterval(function(){var t=e.content[0].scrollWidth,i=e.content[0].scrollHeight,s=!1;e.contentWidth!=t&&(e.contentWidth=t,s=!0),e.contentHeight!=i&&(e.contentHeight=i,s=!0),s&&e._arrange()},this.autoUpdateInterval)},_addHandlers:function(){var t=this;this.addHandler(this.vScrollBar,"valueChanged",function(e){t._render(t)}),this.addHandler(this.hScrollBar,"valueChanged",function(e){t._render(t)}),this.addHandler(this.host,"mousewheel",function(e){t.wheel(e,t)}),this.addHandler(this.wrapper,"scroll",function(e){0!=t.wrapper[0].scrollTop&&(t.wrapper[0].scrollTop=0),0!=t.wrapper[0].scrollLeft&&(t.wrapper[0].scrollLeft=0)}),this.addHandler(this.host,"mouseleave",function(e){t.focused=!1}),this.addHandler(this.host,"focus",function(e){t.focused=!0}),this.addHandler(this.host,"blur",function(e){t.focused=!1}),this.addHandler(this.host,"mouseenter",function(e){t.focused=!0}),e.jqx.utilities.resize(this.host,function(){e.jqx.isHidden(t.host)||t._arrange(!1)})},resize:function(e,t){this.width=e,this.height=t,this._arrange(!1)},_removeHandlers:function(){this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.wrapper,"scroll"),this.removeHandler(e(window),"resize."+this.element.id)},wheel:function(t,i){var s=0;if(t.originalEvent&&e.jqx.browser.msie&&t.originalEvent.wheelDelta&&(s=t.originalEvent.wheelDelta/120),t||(t=window.event),t.wheelDelta?s=t.wheelDelta/120:t.detail&&(s=-t.detail/3),s){var r=i._handleDelta(s);return r||t.preventDefault&&t.preventDefault(),r?!1:r}t.preventDefault&&t.preventDefault(),t.returnValue=!1},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):e.value+e.largestep!=e.max?(e.setPosition(e.max),!0):!1},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value-e.largestep!=e.min?(e.setPosition(e.min),!0):!1},_handleDelta:function(e){if(this.focused){var t=this.vScrollInstance.value;0>e?this.scrollDown():this.scrollUp();var i=this.vScrollInstance.value;if(t!=i)return!1}return!0},_render:function(e){void 0==e&&(e=this);var t=e.vScrollInstance.value,i=e.hScrollInstance.value;this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(i=0==this._rtl?e.hScrollInstance.max-i:-e.hScrollInstance.value),e.content.css({left:-i+"px",top:-t+"px"})},scrollTo:function(e,t){void 0!=e&&void 0!=t&&(this.vScrollInstance.setPosition(t),this.hScrollInstance.setPosition(e))},getScrollHeight:function(){return this.vScrollInstance.max},getVScrollPosition:function(){return this.vScrollInstance.value},getScrollWidth:function(){return this.hScrollInstance.max},getHScrollPosition:function(){return this.hScrollInstance.value},_getScrollSize:function(){var t=this.scrollBarSize;return isNaN(t)&&(t=parseInt(t),isNaN(t)?t="17px":t+="px"),this.isTouchDevice()&&(t=e.jqx.utilities.touchScrollBarSize),t=parseInt(t)},_getScrollArea:function(){var t=0;this.content.css("margin-right","0px"),this.content.css("max-width","9999999px"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(t=parseInt(this.content.css("left")),this.content.css("left",0)),this.content.css("overflow","auto"),this.rtl&&this.content.css("direction","rtl");var i=parseInt(this.content[0].scrollWidth);e.each(this.content.children(),function(){i=Math.max(i,this.scrollWidth),i=Math.max(i,e(this).outerWidth())}),e.jqx.browser.msie&&e.jqx.browser.version<10&&this.content.css("left",t);var s=parseInt(this.content[0].scrollHeight);if(this.content.css("overflow","visible"),e.jqx.browser.msie&&e.jqx.browser.version<9){var s=parseInt(this.content[0].scrollHeight);switch(this.sizeMode){case"wrap":var s=parseInt(this.content[0].scrollHeight),i=parseInt(this.content[0].scrollWidth);break;case"horizontalWrap":case"horizontalwrap":break;case"verticalWrap":case"verticalwrap":var s=parseInt(this.content[0].scrollHeight)}}return this.rtl&&this.content.css("direction","ltr"),{width:i,height:s}},_arrange:function(t){t!==!1&&(null!=this.width&&this.host.css({width:this.width}),null!=this.height&&this.host.css({height:this.height}));var i=this._getScrollSize(),s=this.host.width(),r=this.host.height(),a=this._getScrollArea(),o=a.width,n=a.height,l=n-parseInt(Math.round(this.host.height())),h=o-parseInt(Math.round(this.host.width()));void 0!=this.horizontalScrollBarMax&&(h=this.horizontalScrollBarMax),void 0!=this.verticalScrollBarMax&&(l=this.verticalScrollBarMax);var d=function(e,t){var i=5;t>i?(e.vScrollBar.jqxScrollBar({max:t}),e.vScrollBar.css("visibility","inherit")):(e.vScrollBar.jqxScrollBar("setPosition",0),e.vScrollBar.css("visibility","hidden"))},c=function(t,s){s>0?e.jqx.browser.msie&&e.jqx.browser.version<8&&i>=s-10?(t.hScrollBar.css("visibility","hidden"),t.hScrollBar.jqxScrollBar("setPosition",0)):(t.hScrollBar.jqxScrollBar({max:s+4}),t.hScrollBar.css("visibility","inherit")):(t.hScrollBar.css("visibility","hidden"),t.hScrollBar.jqxScrollBar("setPosition",0))};switch(this.sizeMode){case"wrap":return this.host.css({width:o}),this.host.css({height:n}),this.vScrollBar.css("visibility","hidden"),void this.hScrollBar.css("visibility","hidden");case"horizontalWrap":case"horizontalwrap":return this.host.css({width:o}),this.hScrollBar.css("visibility","hidden"),d(this,l),void this._arrangeScrollbars(i,o,r);case"verticalWrap":case"verticalwrap":return this.host.css({height:n}),this.vScrollBar.css("visibility","hidden"),c(this,h),void this._arrangeScrollbars(i,s,r)}d(this,l);var u=2;"hidden"!=this.vScrollBar.css("visibility")&&void 0==this.horizontalScrollBarMax&&(!this.isTouchDevice()&&h>0||h>0)&&(h+=i+u),c(this,h),"hidden"!=this.hScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar({max:l+i+u}),this._arrangeScrollbars(i,s,r)},_arrangeScrollbars:function(t,i,s){var r="hidden"!=this.vScrollBar[0].style.visibility,a=("hidden"!=this.hScrollBar[0].style.visibility,2),o=2;if(this.hScrollBar.css({height:t}),this.hScrollBar.css({top:s-t-a-o+"px",left:"0px"}),this.hScrollBar.css({width:i-a+"px"}),this.vScrollBar.css({width:t}),this.vScrollBar.css({height:parseInt(s)-a+"px"}),this.vScrollBar.css({left:parseInt(i)-parseInt(t)-a-o+"px",top:"0px"}),this.rtl){this.vScrollBar.css({left:"0px"});var n=r?parseInt(t)+"px":0;if("rtl"!=this.content.children().css("direction")){var l=!1;e.jqx.browser.msie&&e.jqx.browser.version<8&&(l=!0),l||this.content.css("padding-left",n)}}else"hidden"!=this.vScrollBar.css("visibility")&&this.content.css("max-width",this.host.width()-this.vScrollBar.outerWidth());"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")?(this.bottomRight.css("visibility","inherit"),this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))}),this.bottomRight.css({width:parseInt(t)+3}),this.bottomRight.css({height:parseInt(t)+3}),this.rtl&&(this.bottomRight.css({left:"0px"}),this.hScrollBar.css({left:t+o+"px"})),this.hScrollBar.css({width:i-1*t-a-o+"px"}),this.vScrollBar.css({height:parseInt(s)-a-t-o+"px"})):this.bottomRight.css("visibility","hidden"),this.hScrollInstance.refresh(),this.vScrollInstance.refresh()},destroy:function(){clearInterval(this.autoUpdateId),this.autoUpdateId=null,this.autoUpdate=!1,e.jqx.utilities.resize(this.host,null,!0),this._removeHandlers(),this.removeHandler(e(window),"unload"),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.host.remove()},_raiseevent:function(t,i,s){if(void 0!=this.isInitialized&&1==this.isInitialized){var r=this.events[t],a=new e.Event(r);a.previousValue=i,a.currentValue=s,a.owner=this;var o=this.host.trigger(a);return o}},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this.hScrollInstance.value=0,this._arrange(),this._render()},propertyChangedHandler:function(e,t,i,s){e.isInitialized&&("rtl"==t&&(this.vScrollBar.jqxScrollBar({rtl:s}),this.hScrollBar.jqxScrollBar({rtl:s}),e._arrange()),e.updating||("scrollBarSize"==t||"width"==t||"height"==t)&&i!=s&&e._arrange(),"touchMode"==t&&"auto"!=s&&e._updateTouchScrolling(),"theme"==t&&(e.host.removeClass(),e.host.addClass(this.toThemeProperty("jqx-panel")),e.host.addClass(this.toThemeProperty("jqx-widget")),e.host.addClass(this.toThemeProperty("jqx-widget-content")),e.host.addClass(this.toThemeProperty("jqx-rc-all")),e.vScrollBar.jqxScrollBar({theme:this.theme}),e.hScrollBar.jqxScrollBar({theme:this.theme}),e.bottomRight.removeClass(),e.bottomRight.addClass(this.toThemeProperty("jqx-panel-bottomright")),e.bottomRight.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),e.content.removeClass(),e.content.addClass(this.toThemeProperty("jqx-widget-content"))))},invalidate:function(){e.jqx.isHidden(this.host)||this.refresh()},refresh:function(e){this._arrange()}})}(jqxBaseFramework),function(e){"use strict";e.jqx.jqxWidget("jqxPopover","",{}),e.extend(e.jqx._jqxPopover.prototype,{defineInstance:function(){var t={arrowOffsetValue:null,animationType:"fade",position:"bottom",animationOpenDelay:"fast",animationCloseDelay:"fast",autoClose:!0,isModal:!1,height:null,initContent:null,offset:null,rtl:!1,showArrow:!0,showCloseButton:!1,selector:null,title:"",width:null,_toggleElement:null,_popover:null,_popoverTop:0,_popoverLeft:0,_init:!1,_ie8:e.jqx.browser.msie&&8===e.jqx.browser.version,_ie7:e.jqx.browser.msie&&e.jqx.browser.version<8,_left:0,_top:0,events:["open","close"]};e.extend(!0,this,t)},createInstance:function(){var e=this;e._content=e.host.children()},render:function(){var t=this,i=t.element.id;if(t._content.detach(),t._toggleElement=e(t.selector),0===t._toggleElement.length)throw new Error('jqxPopover: Invalid Popover toggler: "'+t.selector+'".');if(null===t._toggleElement)throw new Error("jqxPopover: Missing Popover toggler.");var s=e('<div id="'+i+'" class="'+t.toThemeProperty("jqx-popover")+'"><div class="'+t.toThemeProperty("jqx-popover-arrow")+'"></div><div class="'+t.toThemeProperty("jqx-popover-title")+'"></div><div class="'+t.toThemeProperty("jqx-popover-content")+'"></div></div>');e("body").append(s);var r=t.host.data();t.host.detach(),t.host=s,t.host.data(r),t.element=s[0],t.element.id=i,t._popover=e("#"+i);var a=t._popover.find(".jqx-popover-title");a.append("<h4>"+t.title+"</h4>");var o=t._popover.find(".jqx-popover-content");if(o.append(t._content),t._popover.hide(),t._removeHandlers(),t._addHandlers(),t._popover.addClass(t.position),a.addClass(t.toThemeProperty("jqx-widget-header")),t._popover.addClass(t.toThemeProperty("jqx-widget jqx-widget-content")),t.showArrow&&t._popover.addClass(t.toThemeProperty("jqx-popover-arrow-"+t.position)),t.rtl&&(a.addClass(t.toThemeProperty("jqx-rtl")),a.css("direction","rtl"),o.css("direction","rtl")),t.showCloseButton){var n=e('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),l=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>');n.append(l),a.append(n),a.css("min-height","16px"),n.addClass(t.toThemeProperty("jqx-popover-close-button")),t.closeButton=l,t.rtl&&n.addClass(t.toThemeProperty("jqx-popover-close-button-rtl"))}if(t.arrowOffsetValue)if("bottom"==t.position||"top"==t.position){var h=e(".jqx-popover-arrow").css("margin-left");e(".jqx-popover-arrow").css("margin-left",parseInt(h)+t.arrowOffsetValue)}else{var d=e(".jqx-popover-arrow").css("margin-top");e(".jqx-popover-arrow").css("margin-top",parseInt(d)+t.arrowOffsetValue)}(t.width||t.height)&&(t._popover.css("width",t.width),t._popover.css("height",t.height))},refresh:function(e){this.render()},destroy:function(){var e=this;0!==e.length&&(e._removeHandlers(),e._popover.remove(),e._removeModalBackground())},propertyChangedHandler:function(e,t,i,s){var r=this;r.render()},_stickToToggleElement:function(){var e=this;e._popover.css("left","0px"),e._popover.css("top","0px");var t=e._toggleElement,i=t.offset(),s=t.outerHeight(),r=t.outerWidth(),a=e._popover.height(),o=e._popover.width();switch(e.position){case"left":e._popoverTop=i.top-a/2+s/2,e._popoverLeft=i.left-e._popover.outerWidth();break;case"right":e._popoverTop=i.top-a/2+s/2,e._popoverLeft=i.left+r;break;case"top":e._popoverTop=i.top-e._popover.outerHeight(),e._popoverLeft=i.left-o/2+r/2;break;case"bottom":e._popoverTop=i.top+s,e._popoverLeft=i.left-o/2+r/2}var n=e.offset?e.offset.left:0,l=e.offset?e.offset.top:0;e._popover.css("top",l+e._popoverTop),e._popover.css("left",n+e._popoverLeft)},open:function(){function e(){i._popover.show(),i._raiseEvent("0"),i._isOpen=!0}function t(){i.initContent&&i._init===!1&&(i.initContent(),i._init=!0,i._stickToToggleElement())}var i=this;if(i._stickToToggleElement(),i._ie7===!0)return e(),void t();switch(i.animationType){case"fade":i._popover.fadeIn(i.animationOpenDelay,function(){i._raiseEvent("0"),t()});break;case"none":e(),t()}i._makeModalBackground()},close:function(){function e(){t._popover.hide(),t._raiseEvent("1")}var t=this;if(t._ie7===!0)return void e();switch(t.animationType){case"fade":t._popover.fadeOut(t.animationCloseDelay,function(){t._raiseEvent("1")});break;case"none":e()}t._removeModalBackground()},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);r.owner=this,r.args=i,r.preventDefault&&r.preventDefault();var a=this._popover.trigger(r);return a},_makeModalBackground:function(){var t=this;t.isModal===!0&&(t.modalBackground=e("<div></div>"),t.modalBackground.addClass(this.toThemeProperty("jqx-popover-modal-background")),e(document.body).prepend(t.modalBackground),e(document.body).addClass(t.toThemeProperty("jqx-unselectable")),t.host.addClass(t.toThemeProperty("jqx-selectable")))},_removeModalBackground:function(){var t=this;t.isModal===!0&&void 0!==t.modalBackground&&(t.modalBackground.remove(),e(document.body).removeClass(t.toThemeProperty("jqx-unselectable")),t.host.removeClass(t.toThemeProperty("jqx-selectable")))},_addHandlers:function(){var t=this,i=t.element.id;t.addHandler(e(document),"keydown.jqxPopover"+i,function(e){27==e.keyCode&&t.close()}),t.addHandler(e(document),"click.jqxPopover"+i,function(i){t.closeButton&&i.target==t.closeButton[0]&&t.close(),
t.autoClose===!0&&(i.target==t.element||e(i.target).ischildof(t._popover)||t.isModal||t.close())}),t.addHandler(e(window),"resize.jqxPopover"+i,function(e){"none"!=t.element.style.display&&t._stickToToggleElement()}),t.selector&&t.addHandler(t._toggleElement,"click.jqxPopover"+i,function(e){e.stopPropagation(),"none"!=t.host.css("display")?t.close():t.open()})},_removeHandlers:function(){var t=this,i=t.element.id;t.removeHandler(e(document),"click.jqxPopover"+i),t.selector&&t.removeHandler(t._toggleElement,"click.jqxPopover"+i),t.removeHandler(e(document),"keydown.jqxPopover"+i),t.removeHandler(e(window),"resize.jqxPopover"+i)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxRadioButton","",{}),e.extend(e.jqx._jqxRadioButton.prototype,{defineInstance:function(){var t={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"14px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",rtl:!1,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return e.extend(!0,this,t),t},createInstance:function(e){this.render()},render:function(){this.setSize();var t=this;this.propertyChangeMap.width=function(e,i,s,r){t.setSize()},this.propertyChangeMap.height=function(e,i,s,r){t.setSize()},this.radiobutton&&this.radiobutton.remove();var i=e.trim(this.host.text());this.radioText=e('<div class="jqx-radiobutton-text">'+i+"</div>"),this.host.text(""),this.radiobutton=e('<div class="jqx-radiobutton-input"><div><span></span></div></div>'),this.host.attr("role","radio"),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.prepend(this.radiobutton),this.host.append(this.radioText),this.host.append(e('<div style="clear: both;"></div>')),this.checkMark=e(this.radiobutton).find("span"),this.box=e(this.radiobutton).find("div"),this._supportsRC=!0,e.jqx.browser.msie&&e.jqx.browser.version<9&&(this._supportsRC=!1),this.box.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-default")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.disabled&&this.disable(),this.host.addClass(this.toThemeProperty("jqx-radiobutton")),this.locked&&this.host.css("cursor","auto");var s=this.element.getAttribute("checked");("checked"==s||"true"==s||1==s)&&(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),e.jqx.aria(this)},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.setSize()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.css({width:this.width}):void 0==this.width||isNaN(this.width)||this.host.css({width:this.width}),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.css({height:this.height}):void 0==this.height||isNaN(this.height)||this.host.css({height:this.height})},_addHandlers:function(){var e=this;this.addHandler(this.box,"click",function(t){return e.disabled||e.enableContainerClick?void 0:(e.toggle("click"),t.preventDefault(),!1)}),this.addHandler(this.host,"keydown",function(t){return e.disabled||e.locked||32!=t.keyCode?void 0:(e.toggle("click"),t.preventDefault(),!1)}),this.addHandler(this.host,"click",function(t){return!e.disabled&&e.enableContainerClick?(e.toggle("click"),t.preventDefault(),!1):void 0}),this.addHandler(this.host,"selectstart",function(t){!e.disabled&&e.enableContainerClick&&t.preventDefault()}),this.addHandler(this.host,"mouseup",function(t){!e.disabled&&e.enableContainerClick&&t.preventDefault()}),this.addHandler(this.host,"focus",function(t){return e.disabled||!e.enableContainerClick||e.locked?void 0:(e.box.addClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-focus")),t.preventDefault(),!1)}),this.addHandler(this.host,"blur",function(t){return e.disabled||!e.enableContainerClick||e.locked?void 0:(e.box.removeClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-focus")),t.preventDefault(),!1)}),this.addHandler(this.host,"mouseenter",function(t){return e.disabled||!e.enableContainerClick||e.locked?void 0:(e.box.addClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-hover")),t.preventDefault(),!1)}),this.addHandler(this.host,"mouseleave",function(t){return e.disabled||!e.enableContainerClick||e.locked?void 0:(e.box.removeClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-hover")),t.preventDefault(),!1)}),this.addHandler(this.box,"mouseenter",function(){e.disabled||e.enableContainerClick||(e.box.addClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){e.disabled||e.enableContainerClick||(e.box.removeClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-hover")))})},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){this.removeHandler(this.box,"click"),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave"),this.removeHandler(this.host,"click"),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"mousedown"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur")},_render:function(){null==this.boxSize&&(this.boxSize=13),this.box.css({width:this.boxSize}),this.box.css({height:this.boxSize}),this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-radiobutton-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},val:function(e){return 0==arguments.length||"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check("api"),"false"==e&&this.uncheck("api"),""==e&&this.indeterminate("api")):(1==e&&this.check("api"),0==e&&this.uncheck("api"),null==e&&this.indeterminate("api")),this.checked)},check:function(t){this.checked=!0;var i=this;this.checkMark.removeClass(),this.checkMark.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.browser.msie?this.disabled?(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")):(this.disabled?(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){}));var s=e.find(".jqx-radiobutton");if(null==this.groupName&&(this.groupName=""),e.each(s,function(){var t=e(this).jqxRadioButton("groupName");t==i.groupName&&this!=i.element&&e(this).jqxRadioButton("uncheck","api")}),this._raiseEvent("0"),this._raiseEvent("3",{type:t,checked:!0}),0==this.checkMark.height()){var r=parseInt(this.boxSize)/2;this.checkMark.css({height:r}),this.checkMark.css({width:r})}else if("14px"!=this.boxSize){var r=parseInt(this.boxSize)/2;this.checkMark.css({height:r}),this.checkMark.css({width:r}),this.checkMark.css("margin-left",1+r/4),this.checkMark.css("margin-top",1+r/4)}this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked)},uncheck:function(t){var i=this.checked;this.checked=!1;var s=this;e.jqx.browser.msie?s.checkMark.removeClass():(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){s.checkMark.removeClass()})),i&&(this._raiseEvent("1"),this._raiseEvent("3",{type:t,checked:!1})),this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked)},indeterminate:function(t){var i=this.checked;this.checked=null,this.checkMark.removeClass(),e.jqx.browser.msie?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=i&&(this._raiseEvent("2"),this._raiseEvent("3",{type:t,checked:null})),this.input.val(this.checked),e.jqx.aria(this,"aria-checked","undefined")},toggle:function(e){if(!this.disabled&&!this.locked){var t=this.checked;1==this.checked?this.checked=this.hasTreeStates?null:!0:this.checked=!0,t!=this.checked&&this.updateStates(e),this.input.val(this.checked)}},updateStates:function(e){this.checked?this.check(e):0==this.checked?this.uncheck(e):null==this.checked&&this.indeterminate(e)},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this._removeHandlers(),this.host.remove()},_raiseEvent:function(t,i){var s=this.events[t],r=new e.Event(s);r.owner=this,r.args=i;try{var a=this.host.trigger(r)}catch(o){}return a},propertyChangedHandler:function(t,i,s,r){if(void 0!=this.isInitialized&&0!=this.isInitialized){if(i!=this.enableContainerClick||this.disabled||this.locked||(r?this.host.css("cursor","pointer"):this.host.css("cursor","auto")),"rtl"==i&&(r?(t.box.addClass(t.toThemeProperty("jqx-radiobutton-rtl")),t.host.addClass(t.toThemeProperty("jqx-rtl"))):(t.box.removeClass(t.toThemeProperty("jqx-radiobutton-rtl")),t.host.removeClass(t.toThemeProperty("jqx-rtl")))),"checked"==i)switch(r){case!0:this.check("api");break;case!1:this.uncheck("api");break;case null:this.indeterminate()}"theme"==i&&e.jqx.utilities.setTheme(s,r,this.host),"disabled"==i&&(r?this.disable():this.enable())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxScrollBar","",{}),e.extend(e.jqx._jqxScrollBar.prototype,{defineInstance:function(){var t={height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1};return e.extend(!0,this,t),t},createInstance:function(e){this.render()},render:function(){this._mouseup=new Date;var t=this,i="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div></div></div>";if(e.jqx.utilities&&"hidden"==e.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.host.html(i)}):this.element.innerHTML=i,void 0!=this.width&&parseInt(this.width)>0&&this.host.css({width:parseInt(this.width)}),void 0!=this.height&&parseInt(this.height)>0&&this.host.css({height:parseInt(this.height)}),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.css({width:this.width}),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.css({height:this.height}),this.isPercentage=!0),this.isPercentage){var s=this;e.jqx.utilities.resize(this.host,function(){s._arrange()},!1)}this.thumbCapture=!1,this.scrollOuterWrap=e(this.element.firstChild),this.scrollWrap=e(this.scrollOuterWrap[0].firstChild),this.btnUp=e(this.scrollWrap[0].firstChild),this.areaUp=e(this.btnUp[0].nextSibling),this.btnThumb=e(this.areaUp[0].nextSibling),this.arrowUp=e(this.btnUp[0].firstChild),this.areaDown=e(this.btnThumb[0].nextSibling),this.btnDown=e(this.areaDown[0].nextSibling),this.arrowDown=e(this.btnDown[0].firstChild);var r=this.element.id;if(this.btnUp[0].id="jqxScrollBtnUp"+r,this.btnDown[0].id="jqxScrollBtnDown"+r,this.btnThumb[0].id="jqxScrollThumb"+r,this.areaUp[0].id="jqxScrollAreaUp"+r,this.areaDown[0].id="jqxScrollAreaDown"+r,this.scrollWrap[0].id="jqxScrollWrap"+r,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+r,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=e.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=e.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(e,t,i,s){isNaN(s)||i!=s&&e.setPosition(parseFloat(s),!0)},this.propertyChangeMap.width=function(e,t,i,s){void 0!=e.width&&parseInt(e.width)>0&&(e.host.css({width:parseInt(e.width)}),e._arrange())},this.propertyChangeMap.height=function(e,t,i,s){void 0!=e.height&&parseInt(e.height)>0&&(e.host.css({height:parseInt(e.height)}),e._arrange())},this.propertyChangeMap.theme=function(e,t,i,s){e.setTheme()},this.propertyChangeMap.max=function(e,t,i,s){isNaN(s)||i!=s&&(e.max=parseInt(s),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.min=function(e,t,i,s){isNaN(s)||i!=s&&(e.min=parseInt(s),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.disabled=function(e,t,i,s){i!=s&&(s?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.btnUp.jqxRepeatButton("disabled",e.disabled),e.btnDown.jqxRepeatButton("disabled",e.disabled),e.btnThumb.jqxButton("disabled",e.disabled))},this.propertyChangeMap.touchMode=function(e,t,i,s){i!=s&&(e._updateTouchBehavior(),s===!0?(e.showButtons=!1,e.refresh()):s===!1&&(e.showButtons=!0,e.refresh()))},this.propertyChangeMap.rtl=function(e,t,i,s){i!=s&&e.refresh()},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=e.jqx.mobile.isTouchDevice(),1==this.touchMode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return void this.setTheme();this.isTouchDevice=!0,e.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var t=this,i=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(i=!0,this._touchSupport=!0)}catch(s){}if((t.isTouchDevice||i)&&(this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchend"),function(e){var i=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),s=t.toThemeProperty("jqx-fill-state-pressed");return t.btnThumb.removeClass(i),t.btnThumb.removeClass(s),t.disabled||t.handlemouseup(t,e),!1}),this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchstart"),function(e){if(!t.disabled){if(1==t.touchMode)e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY;else{var i=e;i.originalEvent.touches&&i.originalEvent.touches.length?(e.clientX=i.originalEvent.touches[0].clientX,e.clientY=i.originalEvent.touches[0].clientY):(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)}t.handlemousedown(e),e.preventDefault&&e.preventDefault()}}),e.jqx.mobile.touchScroll(this.element,t.max,function(e,i,s,r,a){if("visible"==t.host.css("visibility")){if(1==t.touchMode)a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY;else{var o=a;o.originalEvent.touches&&o.originalEvent.touches.length?(a.clientX=o.originalEvent.touches[0].clientX,a.clientY=o.originalEvent.touches[0].clientY):(a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY)}var n=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");t.btnThumb.addClass(n),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.thumbCapture=!0,t.handlemousemove(a)}},t.element.id)),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var r=null;if(window.parent&&document.referrer&&(r=document.referrer),r&&-1!=r.indexOf(document.location.host)){var a=function(e){t.disabled||t.handlemouseup(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",a,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",a)}}}catch(o){}var n="click mouseup mousedown";this.addHandler(this.btnDown,n,function(e){var i=t.step;switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonDownCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value+i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value+i);break;case"mouseup":if(!t.btnDownInstance.base.disabled&&t.buttonDownCapture)return t.buttonDownCapture=!1,t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","down"),t.handlemouseup(t,e),t.setPosition(t.value+i),!1;break;case"mousedown":if(!t.btnDownInstance.base.disabled)return t.buttonDownCapture=!0,t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","down"),!1}}),this.addHandler(this.btnUp,n,function(e){var i=t.step;switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonUpCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value-i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value-i);break;case"mouseup":if(!t.btnUpInstance.base.disabled&&t.buttonUpCapture)return t.buttonUpCapture=!1,t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","up"),t.handlemouseup(t,e),t.setPosition(t.value-i),!1;break;case"mousedown":if(!t.btnUpInstance.base.disabled)return t.buttonUpCapture=!0,t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","up"),!1}})}var l="click";if(this.isTouchDevice&&(l=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,l,function(e){if(!t.disabled){var i=t.largestep;return t.rtl&&!t.vertical&&(i=-t.largestep),t.setPosition(t.value-i),!1}}),this.addHandler(this.areaDown,l,function(e){if(!t.disabled){var i=t.largestep;return t.rtl&&!t.vertical&&(i=-t.largestep),t.setPosition(t.value+i),!1}}),this.addHandler(this.areaUp,"mousedown",function(e){return t.disabled?void 0:(t.areaUpCapture=!0,!1)}),this.addHandler(this.areaDown,"mousedown",function(e){return t.disabled?void 0:(t.areaDownCapture=!0,!1)}),this.addHandler(this.btnThumb,"mousedown dragstart",function(e){return"dragstart"===e.type?!1:(t.disabled||t.handlemousedown(e),void(e.preventDefault&&e.preventDefault()))}),this.addHandler(e(document),"mouseup."+this.element.id,function(e){t.disabled||t.handlemouseup(t,e)}),!this.isTouchDevice&&(this.mousemoveFunc=function(e){t.disabled||t.handlemousemove(e)},this.addHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(e(document),"mouseleave."+this.element.id,function(e){t.disabled||t.handlemouseleave(e)}),this.addHandler(e(document),"mouseenter."+this.element.id,function(e){t.disabled||t.handlemouseenter(e)}),!t.disabled)){this.addHandler(this.btnUp,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","up")):t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","up"))});var h=t.toThemeProperty("jqx-scrollbar-thumb-state-hover");t.vertical||(h=t.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||1==t.touchMode||(t.btnThumb.addClass(h),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-hover"))):t.disabled||1==t.touchMode||(t.btnThumb.removeClass(h),t.btnThumb.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","down")):t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","down"))})}},destroy:function(){var t=this.btnUp,i=this.btnDown,s=this.btnThumb,r=(this.scrollWrap,this.areaUp),a=this.areaDown;this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,a.removeClass(),r.removeClass(),i.removeClass(),t.removeClass(),s.removeClass(),t.jqxRepeatButton("destroy"),i.jqxRepeatButton("destroy"),r.jqxRepeatButton("destroy"),a.jqxRepeatButton("destroy"),s.jqxButton("destroy");var o=e.data(this.element,"jqxScrollBar");this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,o&&delete o.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(e(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(e(document),"mousemove."+this.element.id),this.removeHandler(e(document),"mouseleave."+this.element.id),this.removeHandler(e(document),"mouseenter."+this.element.id)},_addArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?(("up"==t||void 0==t)&&this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),("down"==t||void 0==t)&&this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):(("up"==t||void 0==t)&&this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),("down"==t||void 0==t)&&this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},_removeArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?(("up"==t||void 0==t)&&this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),("down"==t||void 0==t)&&this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):(("up"==t||void 0==t)&&this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),("down"==t||void 0==t)&&this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},setTheme:function(){var t=this.btnUp,i=this.btnDown,s=this.btnThumb,r=this.scrollWrap,a=(this.areaUp,this.areaDown,this.arrowUp),o=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var n=this.toThemeProperty("jqx-reset");this.areaDown[0].className=n,this.areaUp[0].className=n;var l=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(l),i[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),t[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var h="";if(this.vertical?(a[0].className=n+" "+this.toThemeProperty("jqx-icon-arrow-up"),o[0].className=n+" "+this.toThemeProperty("jqx-icon-arrow-down"),h=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(a[0].className=n+" "+this.toThemeProperty("jqx-icon-arrow-left"),o[0].className=n+" "+this.toThemeProperty("jqx-icon-arrow-right"),h=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),h+=" "+this.toThemeProperty("jqx-fill-state-normal"),s[0].className=h,this.disabled?(r.addClass(this.toThemeProperty("jqx-fill-state-disabled")),r.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(r.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),r.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var d=e.jqx.cssroundedcorners("top");d=this.toThemeProperty(d),t.addClass(d);var c=e.jqx.cssroundedcorners("bottom");c=this.toThemeProperty(c),i.addClass(c)}else{var u=e.jqx.cssroundedcorners("left");u=this.toThemeProperty(u),t.addClass(u);var p=e.jqx.cssroundedcorners("right");p=this.toThemeProperty(p),i.addClass(p)}else{var m=e.jqx.cssroundedcorners(this.roundedCorners);m=this.toThemeProperty(m),elBtnUp.addClass(m),elBtnDown.addClass(m)}var m=e.jqx.cssroundedcorners(this.roundedCorners);m=this.toThemeProperty(m),s.hasClass(m)||s.addClass(m),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return void 0==this.thumbCapture||void 0==this.buttonDownCapture||void 0==this.buttonUpCapture||void 0==this.areaDownCapture||void 0==this.areaUpCapture?!1:this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture},handlemousedown:function(e){if(void 0==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var t=this.btnThumb;null!=t&&(t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.vertical?t.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):t.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartValue=this.value},toggleHover:function(e,t){},refresh:function(){this._arrange()},_setElementPosition:function(e,t,i){isNaN(t)||parseInt(e[0].style.left)!=parseInt(t)&&(e[0].style.left=t+"px"),isNaN(i)||parseInt(e[0].style.top)!=parseInt(i)&&(e[0].style.top=i+"px")},_setElementTopPosition:function(e,t){isNaN(t)||(e[0].style.top=t+"px")},_setElementLeftPosition:function(e,t){isNaN(t)||(e[0].style.left=t+"px")},handlemouseleave:function(e){var t=this.btnUp,i=this.btnDown;if((this.buttonDownCapture||this.buttonUpCapture)&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var s=this.btnThumb,r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");s.removeClass(r),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(e){var t=this.btnUp,i=this.btnDown;if(this.buttonUpCapture&&(t.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(i.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var s=this.btnThumb;this.vertical?s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),s.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(e){var t=this.btnUp,i=this.btnDown,s=0;if(null!=i&&null!=t){if(null!=t&&null!=i&&void 0!=this.buttonDownCapture&&void 0!=this.buttonUpCapture&&(this.buttonDownCapture&&e.which==s?(i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&e.which==s&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;
var r=this.btnThumb;if(e.which==s&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange();var a=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");return r.removeClass(a),r.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}void 0!=e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation();var o=0;try{o=this.vertical?e.clientY-this.dragStartY:e.clientX-this.dragStartX;var n=this._btnAndThumbSize;this._btnAndThumbSize||(n=this.vertical?t.height()+i.height()+r.height():t.width()+i.width()+r.width());var l=(this.max-this.min)/(this.scrollBarSize-n);if("auto"!=this.thumbStep){if(o*=l,Math.abs(this.dragStartValue+o-this.value)>=parseInt(this.thumbStep)){var h=Math.round(parseInt(o)/this.thumbStep)*this.thumbStep;return this.rtl&&!this.vertical?this.setPosition(this.dragStartValue-h):this.setPosition(this.dragStartValue+h),!1}return!1}o*=l;var h=o;this.rtl&&!this.vertical&&(h=-o),this.setPosition(this.dragStartValue+h)}catch(d){alert(d)}return!1}},handlemouseup:function(e,t){var i=!1;if(this.thumbCapture){this.thumbCapture=!1;var s=this.btnThumb,r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");s.removeClass(r),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i=!0,this._mouseup=new Date}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var a=this.btnUp,o=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,a.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),o.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),a.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),o.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),i=!0,this._mouseup=new Date}i&&(void 0!=t.preventDefault&&t.preventDefault(),null!=t.originalEvent&&(t.originalEvent.mouseHandled=!0),void 0!=t.stopPropagation&&t.stopPropagation())},setPosition:function(t,i){this.element;if((void 0==t||NaN==t)&&(t=this.min),t>=this.max&&(t=this.max),t<this.min&&(t=this.min),this.value!==t||1==i){if(t==this.max){var s=new e.Event("complete");this.host.trigger(s)}var r=this.value;if(this._triggervaluechanged){var a=new e.Event("valueChanged");a.previousValue=this.value,a.currentValue=t}this.value=t,this._positionelements(),this._triggervaluechanged&&this.host.trigger(a),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:r})}return t},val:function(e){var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"==typeof e?!1:!0};return t(e)||0==arguments.length?this.value:(this.setPosition(e),e)},_getThumbSize:function(e){var t=this.max-this.min,i=0;return t>1?i=e/(t+e)*e:1==t?i=e-1:0==t&&(i=e),this.thumbSize>0&&(i=this.thumbSize),i<this.thumbMinSize&&(i=this.thumbMinSize),Math.min(i,e)},_positionelements:function(){var e=(this.element,this.areaUp),t=this.areaDown,i=(this.btnUp,this.btnDown,this.btnThumb),s=(this.scrollWrap,this._height?this._height:this.host.height()),r=this._width?this._width:this.host.width(),a=this.vertical?r:s;this.showButtons||(a=0);var o=this.vertical?s:r;this.scrollBarSize=o;var n=this._getThumbSize(o-2*a);n=Math.floor(n),n<this.thumbMinSize&&(n=this.thumbMinSize),(NaN==s||10>s)&&(s=10),(NaN==r||10>r)&&(r=10),a+=2,this.btnSize=a;var l=this._btnAndThumbSize;if(!this._btnAndThumbSize){var l=this.vertical?2*this.btnSize+i.outerHeight():2*this.btnSize+i.outerWidth();l=Math.round(l)}var h=(o-l)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(h=(o-l)/(this.max-this.min)*(this.max-this.value-this.min)),h=Math.round(h),0>h&&(h=0),this.vertical){var d=o-h-l;0>d&&(d=0),t[0].style.height=d+"px",e[0].style.height=h+"px",this._setElementTopPosition(e,a),this._setElementTopPosition(i,a+h),this._setElementTopPosition(t,a+h+n)}else e[0].style.width=h+"px",o-h-l>=0?t[0].style.width=o-h-l+"px":t[0].style.width="0px",this._setElementLeftPosition(e,a),this._setElementLeftPosition(i,a+h),this._setElementLeftPosition(t,2+a+h+n)},_arrange:function(){var e=this;if(e._initialLayout)return void(e._initialLayout=!1);if(e.min>e.max){var t=e.min;e.min=e.max,e.max=t}if(e.min<0){var i=e.max-e.min;e.min=0,e.max=i}var s=(e.element,e.areaUp),r=e.areaDown,a=e.btnUp,o=e.btnDown,n=e.btnThumb,l=e.scrollWrap,h=parseInt(e.element.style.height),d=parseInt(e.element.style.width);if(e.isPercentage)var h=e.host.height(),d=e.host.width();isNaN(h)&&(h=0),isNaN(d)&&(d=0),e._width=d,e._height=h;var c=e.vertical?d:h;e.showButtons||(c=0),a[0].style.width=c+"px",a[0].style.height=c+"px",o[0].style.width=c+"px",o[0].style.height=c+"px",e.vertical?l[0].style.width=d+2+"px":l[0].style.height=h+2+"px",e._setElementPosition(a,0,0);var u=c+2;e.vertical?e._setElementPosition(o,0,h-u):e._setElementPosition(o,d-u,0);var p=e.vertical?h:d;e.scrollBarSize=p;var m=e._getThumbSize(p-2*u);m=Math.floor(m-2),m<e.thumbMinSize&&(m=e.thumbMinSize);var f=!1;e.isTouchDevice&&0!=e.touchModeStyle&&(f=!0),e.vertical?(n[0].style.width=d+"px",n[0].style.height=m+"px",f&&0!==e.thumbTouchSize&&(n.css({width:e.thumbTouchSize+"px"}),n.css("margin-left",(e.host.width()-e.thumbTouchSize)/2))):(n[0].style.width=m+"px",n[0].style.height=h+"px",f&&0!==e.thumbTouchSize&&(n.css({height:e.thumbTouchSize+"px"}),n.css("margin-top",(e.host.height()-e.thumbTouchSize)/2))),(NaN==h||10>h)&&(h=10),(NaN==d||10>d)&&(d=10),e.btnSize=c;var v=e.vertical?2*u+(2+parseInt(n[0].style.height)):2*u+(2+parseInt(n[0].style.width));v=Math.round(v),e._btnAndThumbSize=v;var g=(p-v)/(e.max-e.min)*(e.value-e.min);if(e.rtl&&!e.vertical&&(g=(p-v)/(e.max-e.min)*(e.max-e.value-e.min)),g=Math.round(g),(isNaN(g)||0>g||g===-(1/0)||g===1/0)&&(g=0),e.vertical){var x=p-g-v;0>x&&(x=0),r[0].style.height=x+"px",r[0].style.width=d+"px",s[0].style.height=g+"px",s[0].style.width=d+"px";var b=parseInt(e.element.style.height);e.isPercentage&&(b=e.host.height()),n[0].style.visibility="inherit",(b-3*parseInt(c)<0||v>b)&&(n[0].style.visibility="hidden"),e._setElementPosition(s,0,u),e._setElementPosition(n,0,u+g),e._setElementPosition(r,0,u+g+m)}else{g>0&&(s[0].style.width=g+"px"),h>0&&(s[0].style.height=h+"px");var y=p-g-v;0>y&&(y=0),r[0].style.width=y+"px",r[0].style.height=h+"px";var w=parseInt(e.element.style.width);e.isPercentage&&(w=e.host.width()),n[0].style.visibility="inherit",(w-3*parseInt(c)<0||v>w)&&(n[0].style.visibility="hidden"),e._setElementPosition(s,u,0),e._setElementPosition(n,u+g,0),e._setElementPosition(r,u+g+m,0)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxSwitchButton","",{}),e.extend(e.jqx._jqxSwitchButton.prototype,{defineInstance:function(){var t={disabled:!1,checked:!1,onLabel:"",offLabel:"",toggleMode:"default",animationDuration:250,width:48,height:24,animationEnabled:!0,thumbSize:"40%",orientation:"horizontal",switchRatio:"50%",metroMode:!1,_isMouseDown:!1,rtl:!1,_dimensions:{horizontal:{size:"width",opSize:"height",oSize:"outerWidth",opOSize:"outerHeight",pos:"left",oPos:"top",opposite:"vertical"},vertical:{size:"height",opSize:"width",oSize:"outerHeight",opOSize:"outerWidth",pos:"top",oPos:"left",opposite:"horizontal"}},_touchEvents:{mousedown:"touchstart",click:"touchend",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"},_borders:{},_isTouchDevice:!1,_distanceRequired:3,_isDistanceTraveled:!1,_thumb:void 0,_onLabel:void 0,_offLabel:void 0,_wrapper:void 0,_animationActive:!1,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["checked","unchecked","change"]};return e.extend(!0,this,t),t},createInstance:function(t){if(this.element.nodeName&&("INPUT"==this.element.nodeName||"BUTTON"==this.element.nodeName))throw"jqxSwitchButton can be rendered only from a DIV tag.";this.host.attr("role","checkbox"),e.jqx.aria(this),this.render();var i=this;e.jqx.utilities.resize(this.host,function(){i.element.innerHTML="",i.render()})},resize:function(e,t){this.width=e,this.height=t,this.render()},render:function(){this.innerHTML="",!this.theme||""==this.theme||-1==this.theme.indexOf("metro")&&-1==this.theme.indexOf("windowsphone")&&-1==this.theme.indexOf("office")||("40%"==this.thumbSize&&(this.thumbSize=12),this.metroMode=!0);var t=e.data(document.body,"jqx-switchbutton")||1;this._idHandler(t),e.data(document.body,"jqx-draggables",++t),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this.switchRatio=parseInt(this.switchRatio,10),this._render(),this._addClasses(),this._performLayout(),this._removeEventHandlers(),this._addEventHandles(),this._disableSelection();this.checked||this._switchButton(!1,0,!0),this.disabled&&(this.element.disabled=!0)},setOnLabel:function(e){this._onLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},setOffLabel:function(e){this._offLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},toggle:function(){this.checked?this.uncheck():this.check()},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate()),this.checked)},uncheck:function(){this._switchButton(!1),e.jqx.aria(this,"aria-checked",this.checked)},check:function(){this._switchButton(!0),e.jqx.aria(this,"aria-checked",this.checked)},_idHandler:function(e){if(!this.element.id){var t="jqx-switchbutton-"+e;this.element.id=t}},_dir:function(e){return this._dimensions[this.orientation][e]},_getEvent:function(t){if(this._isTouchDevice){var i=this._touchEvents[t];return e.jqx.mobile.getTouchEventName(i)}return t},_render:function(){this._thumb=e("<div/>"),this._onLabel=e("<div/>"),this._offLabel=e("<div/>"),this._wrapper=e("<div/>"),this._onLabel.appendTo(this.host),this._thumb.appendTo(this.host),this._offLabel.appendTo(this.host),this.host.wrapInner(this._wrapper),this._wrapper=this.host.children(),this.setOnLabel(this.onLabel),this.setOffLabel(this.offLabel)},_addClasses:function(){var e=this._thumb,t=this._onLabel,i=this._offLabel;this.host.addClass(this.toThemeProperty("jqx-switchbutton")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._wrapper.addClass(this.toThemeProperty("jqx-switchbutton-wrapper")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-switchbutton-thumb")),t.addClass(this.toThemeProperty("jqx-switchbutton-label-on")),t.addClass(this.toThemeProperty("jqx-switchbutton-label")),i.addClass(this.toThemeProperty("jqx-switchbutton-label-off")),i.addClass(this.toThemeProperty("jqx-switchbutton-label")),this.checked?this.host.addClass(this.toThemeProperty("jqx-switchbutton-on")):this.host.removeClass(this.toThemeProperty("jqx-switchbutton-on"))},_performLayout:function(){var e,t=this.host,i=this._dir("opSize"),s=this._dir("size"),r=this._wrapper;if(t.css({width:this.width,height:this.height}),r.css(i,t[i]()),this._thumbLayout(),this._labelsLayout(),e=this._borders[this._dir("opposite")],r.css(s,t[s]()+this._offLabel[this._dir("oSize")]()+e+3),r.css(i,t[i]()),this.metroMode||this.theme&&""!=this.theme&&(-1!=this.theme.indexOf("metro")||-1!=this.theme.indexOf("office"))){var a=(this._thumb,this._onLabel),o=this._offLabel;a.css("position","relative"),a.css("top","1px"),a.css("margin-left","1px"),o.css("position","relative"),o.css("top","1px"),o.css("left","-2px"),o.css("margin-right","1px"),o.css({height:a.height()-2}),o.css({width:a.width()-3}),a.css({height:a.height()-2}),a.css({width:a.width()-3}),this._thumb[this._dir("size")](this.thumbSize+3),this._thumb.css("top","-1px"),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()+2),this._thumb.css("position","relative"),this.host.css("overflow","hidden"),this.checked?(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","hidden"),this._thumb.css("left","0px")):(this._onLabel.css("visibility","hidden"),this._offLabel.css("visibility","visible"),this._thumb.css("left","-2px"))}},_thumbLayout:function(){var e=this.thumbSize,t=this.host;e.toString().indexOf("%")>=0&&(e=t[this._dir("size")]()*parseInt(e,10)/100),this._thumb[this._dir("size")](e),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()-6),this._handleThumbBorders()},_handleThumbBorders:function(){this._borders.horizontal=parseInt(this._thumb.css("border-left-width"),10)||0,this._borders.horizontal+=parseInt(this._thumb.css("border-right-width"),10)||0,this._borders.vertical=parseInt(this._thumb.css("border-top-width"),10)||0,this._borders.vertical+=parseInt(this._thumb.css("border-bottom-width"),10)||0;this._borders[this._dir("opposite")]},_labelsLayout:function(){var e=this.host,t=this._thumb,i=this._dir("opSize"),s=this._dir("size"),r=this._dir("oSize"),a=e[s]()-t[r](),o=this._borders[this._dir("opposite")]/2;this._onLabel[s](a+o),this._offLabel[s](a+o),this.rtl&&this._onLabel[s](a+2*o),this._onLabel[i](e[i]()),this._offLabel[i](e[i]()),this._orderLabels(),this._centerLabels()},_orderLabels:function(){if("horizontal"===this.orientation){var e="left";this.rtl&&(e="right"),this._onLabel.css("float",e),this._thumb.css("float",e),this._offLabel.css("float",e)}else this._onLabel.css("display","block"),this._offLabel.css("display","block")},_centerLabels:function(){var e=this._onLabel.children("div"),t=this._offLabel.children("div"),i=e.parent(),s=i.height(),r=e.outerHeight(),a=this._borders[this.orientation]/2||0;0==r&&(r=14);var o=Math.floor((s-r)/2)+a;e.css("margin-top",o),t.css("margin-top",o)},_removeEventHandlers:function(){var t="."+this.element.id;this.removeHandler(this._wrapper,this._getEvent("click")+t,this._clickHandle),this.removeHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown),this.removeHandler(e(document),this._getEvent("mouseup")+t,this._mouseUp),this.removeHandler(e(document),this._getEvent("mousemove")+t,this._mouseMove),this.removeHandler(this._thumb,"mouseenter"+t),this.removeHandler(this._thumb,"mouseleave"+t)},_addEventHandles:function(){var t="."+this.element.id,i=this;this.addHandler(this._thumb,"mouseenter"+t,function(){i._thumb.addClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._thumb,"mouseleave"+t,function(){i._thumb.removeClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._wrapper,this._getEvent("click")+t,this._clickHandle,{self:this}),this.addHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown,{self:this}),this.addHandler(e(document),this._getEvent("mouseup")+t,this._mouseUp,{self:this}),this.addHandler(e(document),this._getEvent("mousemove")+t,this._mouseMove,{self:this})},enable:function(){this.disabled=!1,this.element.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},disable:function(){this.disabled=!0,this.element.disabled=!0,e.jqx.aria(this,"aria-disabled",this.disabled)},_clickHandle:function(e){var t=e.data.self;"click"!==t.toggleMode&&"default"!==t.toggleMode||t.disabled||t._isDistanceTraveled||t._dragged||(t._wrapper.stop(),t.toggle()),t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseDown:function(e){var t=e.data.self,i=t._wrapper;t.metroMode&&(t.host.css("overflow","hidden"),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible")),t._mouseStartPosition=t._getMouseCoordinates(e),t._buttonStartPosition={left:parseInt(i.css("margin-left"),10)||0,top:parseInt(i.css("margin-top"),10)||0},t.disabled||"slide"!==t.toggleMode&&"default"!==t.toggleMode||(t._wrapper.stop(),t._isMouseDown=!0,t._isDistanceTraveled=!1,t._dragged=!1),t._thumb.addClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseUp:function(e){var t=e.data.self;if(t.metroMode,t._isMouseDown=!1,t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._isDistanceTraveled){var i=t._wrapper,s=parseInt(i.css("margin-"+t._dir("pos")),10)||0,r=t._dropHandler(s);r?t._switchButton(!t.checked):t._switchButton(t.checked,null,!0),t._isDistanceTraveled=!1}},_mouseMove:function(e){var t=e.data.self,i=t._getMouseCoordinates(e);if(t._isMouseDown&&t._distanceTraveled(i)){var s=t._dir("pos"),r=t._wrapper,a=t._buttonStartPosition[s],o=a+i[s]-t._mouseStartPosition[s],o=t._validatePosition(o);return t._dragged=!0,r.css("margin-"+t._dir("pos"),o),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible"),!1}},_distanceTraveled:function(e){if(this._isDistanceTraveled)return!0;if(this._isMouseDown){var t=this._mouseStartPosition,i=this._distanceRequired;return this._isDistanceTraveled=Math.abs(e.left-t.left)>=i||Math.abs(e.top-t.top)>=i,this._isDistanceTraveled}return!1},_validatePosition:function(e){var t=this._borders[this._dir("opposite")],i=0,s=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]())-t;return e>i?i:s>e?s:e},_dropHandler:function(e){var t=0,i=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()),s=Math.abs(i-t),r=Math.abs(e-this._buttonStartPosition[this._dir("pos")]),a=s*(this.switchRatio/100);return r>=a?!0:!1},_switchButton:function(e,t,i){this.metroMode?(this.host.css("overflow","hidden"),this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"),e?this._thumb.css("left","0px"):this._thumb.css("left","-2px")):(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"));var s=this._wrapper,r=this,a={},o=this._borders[this._dir("opposite")],n=0;"undefined"==typeof t&&(t=this.animationEnabled?this.animationDuration:0),this.rtl?e?(n=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+o,this.metroMode&&(n+=5)):this.metroMode&&(n-=3):e||(n=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+o),a["margin-"+this._dir("pos")]=-n,e?r.host.addClass(r.toThemeProperty("jqx-switchbutton-on")):r.host.removeClass(r.toThemeProperty("jqx-switchbutton-on")),s.animate(a,t,function(){e?(r._onLabel.css("visibility","visible"),r._offLabel.css("visibility","hidden")):(r._onLabel.css("visibility","hidden"),r._offLabel.css("visibility","visible")),r.checked=e,i||r._handleEvent(!e)})},_handleEvent:function(e){e!==this.checked&&this._raiseEvent(2,{check:this.checked,checked:this.checked}),e?this._raiseEvent(0,{checked:this.checked}):this._raiseEvent(1,{checked:this.checked})},_disableSelection:function(){var t=this.host,i=t.find("*");e.each(i,function(t,i){i.onselectstart=function(){return!1},e(i).addClass("jqx-disableselect")})},_getMouseCoordinates:function(e){return this._isTouchDevice?{left:e.originalEvent.touches[0].pageX,top:e.originalEvent.touches[0].pageY}:{left:e.pageX,top:e.pageY}},destroy:function(){this._removeEventHandlers(),this.host.removeClass(this.toThemeProperty("jqx-switchbutton")),this._wrapper.remove()},_raiseEvent:function(t,i){var s=e.Event(this._events[t]);return s.args=i,this.host.trigger(s)},_themeChanger:function(t,i,s){if(t){"undefined"==typeof s&&(s=this.host);for(var r=s[0].className.split(" "),a=[],o=[],n=s.children(),l=0;l<r.length;l+=1)r[l].indexOf(t)>=0&&(a.push(r[l]),o.push(r[l].replace(t,i)));this._removeOldClasses(a,s),this._addNewClasses(o,s);for(var l=0;l<n.length;l+=1)this._themeChanger(t,i,e(n[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},propertyChangedHandler:function(t,i,s,r){switch(i){case"disabled":r?this.disable():this.enable();break;case"switchRatio":this.switchRatio=parseInt(this.switchRatio,10);break;case"checked":r?this.check():this.uncheck();break;case"onLabel":this.setOnLabel(r);break;case"offLabel":this.setOffLabel(r);break;case"theme":e.jqx.utilities.setTheme(s,r,t.host);break;case"width":case"height":case"thumbSize":case"orientation":this._wrapper.css("margin-left","0px"),this._wrapper.css("margin-top","0px"),this._performLayout(),this._wrapper.css("left","0px"),this._wrapper.css("top","0px"),this._switchButton(this.checked,0,!0)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTabs","",{}),e.extend(e.jqx._jqxTabs.prototype,{defineInstance:function(){var t={scrollAnimationDuration:200,enabledHover:!0,disabled:!1,collapsible:!1,animationType:"none",enableScrollAnimation:!0,contentTransitionDuration:450,toggleMode:"click",selectedItem:0,height:"auto",width:"auto",position:"top",selectionTracker:!1,scrollable:!0,scrollPosition:"right",scrollStep:70,autoHeight:!0,headerHeight:null,showCloseButtons:!1,canCloseAllTabs:!0,closeButtonSize:16,arrowButtonSize:16,keyboardNavigation:!0,reorder:!1,selectionTrackerAnimationDuration:300,_isTouchDevice:!1,roundedCorners:!0,_headerExpandingBalance:0,_dragStarted:!1,_tabCaptured:!1,_lastUnorderedListPosition:0,_selectedItem:0,_titleList:[],_contentList:[],_contentWrapper:null,_unorderedList:null,_scrollTimeout:null,isCollapsed:!1,touchMode:!1,initTabContent:null,enableDropAnimation:!1,_currentEvent:null,_needScroll:!0,_isAnimated:{},_events:["created","selected","add","removed","enabled","disabled","selecting","unselecting","unselected","dragStart","dragEnd","locked","unlocked","collapsed","expanded","tabclick"],_initTabContentList:[],_invalidArgumentExceptions:{invalidScrollAnimationDuration:"The scroll animation duration is not valid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!"},aria:{"aria-disabled":{name:"disabled",type:"boolean"}},rtl:!1,level:1};return e.extend(!0,this,t),t},createInstance:function(){e.jqx.aria(this),this.host.addClass(this.toThemeProperty("jqx-tabs")),this.host.addClass(this.toThemeProperty(this._getLevelClassName())),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.attr("role","tablist"),this._unorderedList=this.host.children("ul"),this._titleList=this.host.children("ul").children("li"),this._contentList=this.host.children("div"),this._selectedItem=this.selectedItem,this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._needScroll=this.scrollable,this.selectionTracker&&(this.selectionTracker=this._seletionTrackerBrowserCheck()),this._isTouchDevice&&(this.reorder=!1,this.keyboardNavigation=!1);for(var t=this.length();t;)t--,this._titleList[t]=e(this._titleList[t]),this._titleList[t].attr("role","tab"),this._contentList[t]=e(this._contentList[t]),this._contentList[t].attr("role","tabpanel");this._validateProperties(),this._refresh(),this._moveSelectionTrack(this._selectedItem,0),this.disabled&&this.disable(),this.element.tabIndex=0,this._raiseEvent(0),this._enableWindowResize()},_getLevelClassName:function(){var e="";switch(this.level){case 1:e="jqx-tabs-lv1";break;case 2:e="jqx-tabs-lv2";break;default:e="jqx-tabs-lv3"}return e},_hiddenParent:function(){var t=this;if("none"==t.host.css("display"))return!0;var i=!1;return e.each(t.host.parents(),function(){return"none"==e(this).css("display")?(i=!0,!1):void 0}),i},_enableWindowResize:function(){var t=this,i=e.jqx.isHidden(t.host);e.jqx.utilities.resize(this.host,function(){i?(t._uiRefresh(!0),i=!1):t.refresh()})},resize:function(t,i){this.width=t,this.height=i;var s=e.jqx.isHidden(this.host);s?(this._uiRefresh(!0),s=!1):this.refresh()},refresh:function(e){(1!=e||void 0==e)&&this._performResize()},_seletionTrackerBrowserCheck:function(){var t="Browser CodeName: "+navigator.appCodeName;return t+="Browser Name: "+navigator.appName,t+="Browser Version: "+navigator.appVersion,t+="Platform: "+navigator.platform,t+="User-agent header: "+navigator.userAgent,-1!=t.indexOf("IEMobile")?!1:-1!=t.indexOf("Windows Phone OS")?!1:e.jqx.browser.msie&&e.jqx.browser.version<=7?!1:!0},render:function(){this._refresh()},_uiRefresh:function(e){if(this._unorderedListLeftBackup=this._unorderedList.css("left"),e&&this._render(),this._addStyles(),this._performLayout(),this._prepareTabs(),this._removeEventHandlers(),this._addEventHandlers(),"auto"===this._unorderedListLeftBackup&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()),this._unorderedList.css("left",this._unorderedListLeftBackup),this.rtl&&this.scrollable&&this._rightArrow&&"hidden"!=this._rightArrow.css("visibility")){var t=2*this.arrowButtonSize,i=this.host.width()-parseInt(this._unorderedList.width()+t+ +parseInt(this._unorderedList.css("margin-left")),10);this._unorderedList.css("left",i+"px")}},_refresh:function(){e.jqx.isHidden(this.host)||this._uiRefresh(!0)},_addStyles:function(){this._unorderedList.addClass(this.toThemeProperty("jqx-tabs-title-container")),this._unorderedList.css({outline:"none","white-space":"nowrap","margin-top":"0px","margin-bottom":"0px",padding:"0px",background:"transparent",border:"none","border-style":"none","text-indent":"0px"});for(var e=this.length();e;)switch(e--,this._titleList[e].removeClass(),this._titleList[e].css("padding",""),this._titleList[e].addClass("jqx-reset"),this._titleList[e].addClass("jqx-disableselect"),this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title")),this._titleList[e].addClass(this.toThemeProperty("jqx-item")),"bottom"==this.position&&this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-bottom")),this._titleList[e].disabled&&(this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[e].addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this._titleList[e].removeClass(this.toThemeProperty("jqx-rc-b")),this._titleList[e].removeClass(this.toThemeProperty("jqx-rc-t")),this._contentList[e].removeClass(this.toThemeProperty("jqx-rc-b")),this._contentList[e].removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case"top":this._titleList[e].addClass(this.toThemeProperty("jqx-rc-t")),this._contentList[e].addClass(this.toThemeProperty("jqx-rc-b"));break;case"bottom":this._titleList[e].addClass(this.toThemeProperty("jqx-rc-b")),this._contentList[e].addClass(this.toThemeProperty("jqx-rc-t"))}if(this.selectionTracker)switch(this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-b")),this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case"top":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-t"));break;case"bottom":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-b"))}},_raiseEvent:function(t,i){var s=new e.Event(this._events[t]);s.owner=this,s.args=i,(6===t||7===t)&&(s.cancel=!1,this._currentEvent=s);var r="";try{if(r=this.host.trigger(s),1==t){var a=this;if(this.selectionTracker||"none"!=this.animationType)setTimeout(function(){a._initTabContentList[a.selectedItem]||a.initTabContent&&(a.initTabContent(a.selectedItem),a._initTabContentList[a.selectedItem]=!0);var t=new e.Event("loadContent");t.owner=this,a._contentList.length>0&&a._contentList[a.selectedItem]&&a._contentList[a.selectedItem].find("div").trigger(t)},50+a.selectionTrackerAnimationDuration);else{var s=new e.Event("loadContent");a._initTabContentList[a.selectedItem]||a.initTabContent&&(a.initTabContent(a.selectedItem),a._initTabContentList[a.selectedItem]=!0),s.owner=this;var s=new e.Event("resize");this.host.trigger(s)}}}catch(o){o&&console.log(o)}return r},_getArrowsDisplacement:function(){if(!this._needScroll)return 0;var e,t=this.arrowButtonSize,i=this.arrowButtonSize;return e="left"===this.scrollPosition?t+i:"both"===this.scrollPosition?t:0},_scrollRight:function(e,t){this._unorderedList.stop(),this._unlockAnimation("unorderedList");var i,s,r=parseInt(this._unorderedList.width()+parseInt(this._unorderedList.css("margin-left")),10),a=parseInt(this.host.width(),10),o=parseInt(this._unorderedList.css("left"),10),n=this._getArrowsDisplacement(),l=0,h=void 0;this.scrollable?(i=parseInt(this._leftArrow.outerWidth(),10),s=parseInt(this._rightArrow.outerWidth(),10)):(i=0,s=0),e=this.enableScrollAnimation?e:0,parseInt(this._headerWrapper.width(),10)>parseInt(this._unorderedList.css("margin-left"))+parseInt(this._unorderedList.width(),10)?l=n:Math.abs(o)+this.scrollStep<Math.abs(a-r)+i+s+n?(l=o-this.scrollStep,h=o-this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(l=a-r-(2*this.arrowButtonSize-n),l<parseInt(this._unorderedList.css("left"),10)-4&&l>parseInt(this._unorderedList.css("left"),10)+4&&(h=a-r-i-s+parseInt(this._titleList[this._selectedItem].position().left))),this._performScrollAnimation(l,h,e)},_scrollLeft:function(e,t){this._unorderedList.stop(),this._unlockAnimation("unorderedList");var i=parseInt(this._unorderedList.css("left")),s=this._getArrowsDisplacement(),r=0,a=void 0;e=this.enableScrollAnimation?e:0,parseInt(this._headerWrapper.width())>=parseInt(this._unorderedList.width())?r=s:i+this.scrollStep<s?(r=i+this.scrollStep,a=i+this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(r=s,r<parseInt(this._unorderedList.css("left"))-4&&r>parseInt(this._unorderedList.css("left"))+4&&(a=parseInt(this._titleList[this._selectedItem].position().left))),this._performScrollAnimation(r,a,e)},_performScrollAnimation:function(e,t,i){var s=this;void 0!==t&&this._moveSelectionTrack(this._selectedItem,0,t),this._lockAnimation("unorderedList"),this._unorderedList.animate({left:e},i,function(){s._moveSelectionTrack(s.selectedItem,0),s._unlockAnimation("unorderedList")})},_addKeyboardHandlers:function(){var t=this;this.keyboardNavigation&&this.addHandler(this.host,"keydown",function(i){if(!t._activeAnimation()){var s=t._selectedItem,r=t.selectionTracker,a=t.getContentAt(s);if(e(i.target).ischildof(a))return!0;switch(i.keyCode){case 37:return t.rtl?t.next():t.previous(),!1;case 39:return t.rtl?t.previous():t.next(),!1;case 36:return t.first(),!1;case 35:return t.last(),!1;case 27:t._tabCaptured&&(t._cancelClick=!0,t._uncapture(null,t.selectedItem),t._tabCaptured=!1)}t.selectionTracker=r}return!0})},_addScrollHandlers:function(){var t=this;this.addHandler(this._leftArrow,"mousedown",function(){t._startScrollRepeat(!0,t.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mousedown",function(){t._startScrollRepeat(!1,t.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mouseleave",function(){clearTimeout(t._scrollTimeout)}),this.addHandler(this._leftArrow,"mouseleave",function(){clearTimeout(t._scrollTimeout)}),this.addHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this),this.addHandler(e(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(e){var t=e.data;t._scrollTimeout&&clearTimeout(t._scrollTimeout)},_mouseUpScrollDocumentHandler:function(e){var t=e.data;clearTimeout(t._scrollTimeout)},_mouseUpDragDocumentHandler:function(e){var t=e.data;t._tabCaptured&&t._dragStarted&&t._uncapture(e),t._tabCaptured=!1},_addReorderHandlers:function(){this.addHandler(e(document),"mousemove.tab"+this.element.id,this._moveElement,this),this.addHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler,this)},_addEventHandlers:function(){for(var t=this.length();t;)t--,this._addEventListenerAt(t);this.keyboardNavigation&&this._addKeyboardHandlers(),this.scrollable&&this._addScrollHandlers(),this.reorder&&!this._isTouchDevice&&this._addReorderHandlers();var i=this;try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){
var s=function(e){i._tabCaptured&&(i._cancelClick=!0,i._uncapture(null,i.selectedItem),i._tabCaptured=!1)},r=null;window.parent&&document.referrer&&(r=document.referrer),r&&-1!=r.indexOf(document.location.host)&&window.top.document&&this.addHandler(e(window.top.document),"mouseup",s)}}catch(a){}},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(t){}},_getFocusedItem:function(e,t){for(var i=this.length();i;){i--;var s=this._titleList[i],r=parseInt(s.outerWidth(!0)),a=parseInt(s.offset().left),o=(parseInt(this._unorderedList.offset().left),parseInt(this.host.offset().left),a);if(e>=o&&o+r>=e&&s!==this._capturedElement&&!this._titleList[i].locked&&this._titleList[i].disabled!==!0)return i}return-1},_uncapture:function(t){var i=this.selectionTracker;this._unorderedListLeftBackup=this._unorderedList.css("left"),this._dragStarted=!1,this._tabCaptured=!1;var s=this._indexOf(this._capturedElement);if(this._capturedElement){switch(this.position){case"top":this._capturedElement.css("bottom",0);break;case"bottom":this._capturedElement.css("top",0)}if(t)var r=this._getFocusedItem(t.clientX,t.clientY);-1!==r&&t?(this._raiseEvent(10,{item:s,dropIndex:r}),this._reorderItems(r,s)):this._capturedElement.css("left",0),e.each(this._titleList,function(){this.css("position","static")}),this._reorderHeaderElements(),this._unorderedList.css({position:"relative",top:"0px"}),this._prepareTabs(),-1!==r&&t?(this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this._selectedItem,!0)):(this._selectedItem=s,this._moveSelectionTrack(s,0),this._addSelectStyle(this._selectedItem,!0)),document.selection&&document.selection.clear(),this._unorderedList.css("left",this._unorderedListLeftBackup),this.selectionTracker=i}},_reorderItems:function(e,t){var i=this._titleList[this.selectedItem];this._contentList[t];"undefined"==typeof this._capturedElement&&(this._capturedElement=this._titleList[t]),this._titleList[t].remove(),e>t?this._titleList[t].insertAfter(this._titleList[e]):this._titleList[t].insertBefore(this._titleList[e]),this._reorderElementArrays(e,t),this._getSelectedItem(i),this._removeEventHandlers(),this._addEventHandlers()},_reorderElementArrays:function(e,t){var i=(this._titleList[this.selectedItem],this._contentList[t]);if(e>t){for(var s=t;e>=s;s++)this._titleList[s]=this._titleList[s+1],this._contentList[s]=this._contentList[s+1];this._contentList[e]=i,this._titleList[e]=this._capturedElement}else{for(var s=t;s>=e;s--)this._titleList[s]=this._titleList[s-1],this._contentList[s]=this._contentList[s-1];this._contentList[e]=i,this._titleList[e]=this._capturedElement}},getSelectedItem:function(){return this.selectedItem},_getSelectedItem:function(e){for(var t=this.length();t;)if(t--,this._titleList[t]===e){this._selectedItem=this.selectedItem=t;break}},_moveElement:function(e,t){var t=e.data;t._tabCaptured&&(document.selection&&document.selection.clear(),t._dragStarted?(t._performDrag(e),clearTimeout(t._scrollTimeout)):(unorderedListLeft=-parseInt(t._unorderedList.css("left"),10),(e.clientX+unorderedListLeft>t._startX+3||e.clientX+unorderedListLeft<t._startX-3)&&(t._prepareTabForDragging(),t._dragStarted=!0)))},_performDrag:function(e){var t=this.getZoomFactor();unorderedListLeft=-parseInt(this._unorderedList.css("left"),10),this._capturedElement.css("left",unorderedListLeft+e.clientX/t-this._startX/t),this._lastX=e.clientX/t,this._moveSelectionTrack(this.selectedItem,0)},getZoomFactor:function(){var e=1;if(document.body.getBoundingClientRect){var t=document.body.getBoundingClientRect(),i=t.right-t.left,s=document.body.offsetWidth;e=Math.round(i/s*100)/100}return e},_prepareTabForDragging:function(){switch(this._capturedElement.css({position:"relative",left:"0px",top:"0px","z-index":"300"}),this.selectedItem=this._indexOf(this._capturedElement),this.position){case"top":this._capturedElement.css("bottom",parseInt(this._capturedElement.css("top")));break;case"bottom":this._capturedElement.css("top",parseInt(this._capturedElement.css("top")))}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(e){var t=parseInt(this._unorderedList.css("left")),i=this;parseInt(this._capturedElement.css("left"));e.clientX<=this._headerWrapper.offset().left?(this._scrollLeft(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-t)):e.clientX>this._headerWrapper.offset().left+parseInt(this._headerWrapper.width(),10)?(this._scrollRight(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-t)):(this._unorderedList.stop(),this._unlockAnimation("unorderedList"),clearTimeout(this._scrollTimeout));var i=this;this._scrollTimeout=setTimeout(function(){i._dragScroll(e)},this.scrollAnimationDuration),this._lastUnorderedListPosition=t},_captureElement:function(e,t){this._tabCaptured||this._titleList[t].locked||this._titleList[t].disabled===!0||this._activeAnimation()||(unorderedListLeft=-parseInt(this._unorderedList.css("left"),10),this._startX=unorderedListLeft+e.clientX,this._startY=e.clientY,this._lastX=e.clientX,this._lastY=e.clientY,this._tabCaptured=!0,this._capturedElement=this._titleList[t])},_titleInteractionTrigger:function(e){this._headerExpandingBalance>0&&this._removeOppositeBorder(),this._selectedItem!==e?(this.select(this._titleList[e],"toggle"),this._titleList[e].collapsed=!1,this.collapsible||("auto"!==this.height?this._contentWrapper.css("visibility","visible"):this._contentWrapper.css("display","block"))):this.collapsible&&(this.isCollapsed?this.expand():this.collapse())},collapse:function(){var e=this._selectedItem,t=this;this.isCollapsed=!0,"auto"!==t.height?t._contentWrapper.css("visibility","hidden"):t._contentWrapper.hide(),t._raiseEvent(13,{item:e}),"top"==this.position?(t._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed")),t.host.addClass(this.toThemeProperty("jqx-tabs-collapsed"))):(t._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),t.host.addClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},expand:function(){var e=this._selectedItem,t=this;this.isCollapsed=!1,this._select(e,t.contentTransitionDuration,null,!1,!0),"auto"!==t.height?t._contentWrapper.css("visibility","visible"):t._contentWrapper.show(),t._raiseEvent(14,{item:e}),"top"==this.position?(t._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed")),t.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed"))):(t._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),t.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},_addSelectHandler:function(e){var t=this;this.addHandler(this._titleList[e],"selectstart",function(e){return!1}),this.addHandler(this._titleList[e],this.toggleMode,function(e){return function(){return t._raiseEvent("15",{item:e}),t._tabCaptured||t._cancelClick||t._titleInteractionTrigger(e),!0}}(e))},_addDragDropHandlers:function(e){var t=this;this.addHandler(this._titleList[e],"mousedown",function(i){return t._captureElement(i,e),!1}),this.addHandler(this._titleList[e],"mouseup",function(i){return t._tabCaptured&&t._dragStarted?(t._cancelClick=!0,t._uncapture(i,e)):t._cancelClick=!1,t._tabCaptured=!1,!1})},_removeHoverStates:function(){var t=this;e.each(this._titleList,function(){this.removeClass(t.toThemeProperty("jqx-tabs-title-hover-top")),this.removeClass(t.toThemeProperty("jqx-tabs-title-hover-bottom"))})},_addHoverHandlers:function(e){var t=this,i=this._titleList[e];this.addHandler(i,"mouseenter",function(s){if(e!=t._selectedItem&&("top"==t.position?i.addClass(t.toThemeProperty("jqx-tabs-title-hover-top")):i.addClass(t.toThemeProperty("jqx-tabs-title-hover-bottom")),i.addClass(t.toThemeProperty("jqx-fill-state-hover")),t.showCloseButtons)){var r=i.children(0).children(t.toThemeProperty(".jqx-tabs-close-button",!0));r.addClass(t.toThemeProperty("jqx-tabs-close-button-hover",!0))}}),this.addHandler(i,"mouseleave",function(s){if(e!=t._selectedItem&&("top"==t.position?i.removeClass(t.toThemeProperty("jqx-tabs-title-hover-top")):i.removeClass(t.toThemeProperty("jqx-tabs-title-hover-bottom")),i.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.showCloseButtons)){var r=i.children(0).children(t.toThemeProperty(".jqx-tabs-close-button",!0));r.removeClass(t.toThemeProperty("jqx-tabs-close-button-hover",!0))}})},_addEventListenerAt:function(e){var t=this;if(!this._titleList[e].disabled){this.reorder&&!this._isTouchDevice&&this._addDragDropHandlers(e),this._addSelectHandler(e),this.enabledHover&&this._addHoverHandlers(e);var i=this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(i,"click"),this.addHandler(i,"click",function(i){return t.removeAt(e),!1})}},_removeEventHandlers:function(){for(var t=this.length();t;)t--,this._removeEventListenerAt(t);this.scrollable&&(this.removeHandler(this._leftArrow,"mousedown"),this.removeHandler(this._rightArrow,"mousedown")),this.removeHandler(e(document),"mousemove.tab"+this.element.id,this._moveElement),this.removeHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler),this.removeHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler),this.removeHandler(this.host,"keydown")},_removeEventListenerAt:function(e){this.removeHandler(this._titleList[e],this.toggleMode),this.removeHandler(this._titleList[e],"mouseenter"),this.removeHandler(this._titleList[e],"mouseleave"),this.removeHandler(this._titleList[e],"mousedown"),this.removeHandler(this._titleList[e],"mouseup");var t=this._titleList[e].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(t,"click")},_moveSelectionTrack:function(e,t,i){var s=this;if(-1!=e&&0!=this._titleList.length&&!(e>=this._titleList.length)&&this.selectionTracker&&this._selectionTracker){if(this._selectionTracker.stop(),this._unlockAnimation("selectionTracker"),void 0===i){var r=parseInt(this._titleList[e].position().left);isNaN(parseInt(this._unorderedList.css("left")))||(r+=parseInt(this._unorderedList.css("left"))),isNaN(parseInt(this._unorderedList.css("margin-left")))||(r+=parseInt(this._unorderedList.css("margin-left"))),isNaN(parseInt(this._titleList[e].css("margin-left")))||(r+=parseInt(this._titleList[e].css("margin-left"))),!isNaN(parseInt(this._titleList[e].css("margin-right")))}else var r=i;var a=0,o=0;"top"===this.position&&(a=parseInt(this._headerWrapper.height())-parseInt(this._titleList[e].outerHeight()),this.autoHeight||(o+=parseInt(this._titleList[e].css("margin-top")))),this._lockAnimation("selectionTracker");var n=parseInt(this._titleList[e].css("padding-left"))+parseInt(this._titleList[e].css("padding-right")),l="top"==this.position?0:1,h=parseInt(this._headerWrapper.css("padding-top")),d=parseInt(this._titleList[e].css("padding-top"))+parseInt(this._titleList[e].css("padding-bottom"));this._selectionTracker.css("visibility","visible"),this._moveSelectionTrackerContainer.css("visibility","visible");var c=parseInt(this._titleList[e].css("margin-top"));isNaN(c)&&(c=0),this._selectionTracker.animate({top:h+c-l,left:r+"px",height:parseInt(this._titleList[e].height()+d),width:this._titleList[e].width()+n},t,function(){s._unlockAnimation("selectionTracker"),s._selectionTracker.css("visibility","hidden"),s._addSelectStyle(e,!0),s._moveSelectionTrackerContainer.css("visibility","hidden")})}},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_switchTabs:function(e,t){if(e!==t&&!this._activeAnimation()&&!this._tabCaptured){var i=this;return this._raiseEvent(7,{item:t}),this._raiseEvent(6,{item:e}),this._currentEvent&&this._currentEvent.cancel?void(this._currentEvent=null):(this._unselect(t,null,!0),this._select(e,i.contentTransitionDuration,null,!0),!0)}return!1},_activeAnimation:function(){for(child in this._isAnimated)if(this._isAnimated.hasOwnProperty(child)&&this._isAnimated[child])return!0;return!1},_indexOf:function(e){for(var t=this.length();t;)if(t--,this._titleList[t][0]===e[0]||this._contentList[t][0]===e[0])return t;return-1},_validateProperties:function(){try{if(this.scrollAnimationDuration<0||isNaN(this.scrollAnimationDuration))throw new Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration);if(parseInt(this.width)<0&&"auto"!==this.width)throw new Error(this._invalidArgumentExceptions.invalidWidth);if(parseInt(this.height)<0&&"auto"!==this.height)throw new Error(this._invalidArgumentExceptions.invalidHeight);if("none"!==this.animationType&&"fade"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(this.contentTransitionDuration<0||isNaN(this.contentTransitionDuration))throw new Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration);if("click"!==this.toggleMode&&"dblclick"!==this.toggleMode&&"mouseenter"!==this.toggleMode&&"none"!==this.toggleMode)throw new Error(this._invalidArgumentExceptions.invalidToggleMode);if("top"!==this.position&&"bottom"!==this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if("left"!==this.scrollPosition&&"right"!==this.scrollPosition&&"both"!==this.scrollPosition)throw new Error(this._invalidArgumentExceptions.invalidScrollPosition);if(this.scrollStep<0||isNaN(this.scrollStep))throw new Error(this._invalidArgumentExceptions.invalidScrollStep);if(this._titleList.length!==this._contentList.length||0==this._titleList.length)throw new Error(this._invalidArgumentExceptions.invalidStructure);if(this.arrowButtonSize<0||isNaN(this.arrowButtonSize))throw new Error(this._invalidArgumentExceptions.invalidArrowSize);if(this.closeButtonSize<0||isNaN(this.closeButtonSize))throw new Error(this._invalidArgumentExceptions.invalidCloseSize)}catch(e){alert(e)}},_startScrollRepeat:function(e,t){var i=this;e?this._scrollLeft(t):this._scrollRight(t),this._scrollTimeout&&clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(function(){i._startScrollRepeat(e,i.scrollAnimationDuration)},t)},_performLayout:function(){for(var e=this.length();e;)e--,("top"===this.position||"bottom"===this.position)&&(this.rtl?this._titleList[e].css("float","right"):this._titleList[e].css("float","left"));this._fitToSize(),this._performHeaderLayout(),this._fitToSize()},updatetabsheader:function(){this._performHeaderLayout()},_performResize:function(){this._fitToSize(),this._positionArrows(this._totalItemsWidth),this._totalItemsWidth>this.element.offsetWidth?this._unorderedList.css({width:this._totalItemsWidth}):this._unorderedList[0].style.width=this.element.offsetWidth-2+"px",this._fitToSize()},_addArrows:function(){this._leftArrow&&this._rightArrow&&(this._leftArrow.remove(),this._rightArrow.remove()),this._leftArrow=e('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-left")+'"></span></div>'),this._rightArrow=e('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-right")+'"></span></div>'),this._leftArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background")),this._rightArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background")),this._leftArrow.addClass(this.toThemeProperty("jqx-widget-header")),this._rightArrow.addClass(this.toThemeProperty("jqx-widget-header")),this._headerWrapper.append(this._leftArrow),this._headerWrapper.append(this._rightArrow),this._leftArrow.css({width:this.arrowButtonSize}),this._leftArrow.css({height:"100%"}),this._rightArrow.css({width:this.arrowButtonSize}),this._rightArrow.css({height:"100%"}),this._leftArrow.css({"z-index":"30"}),this._rightArrow.css({"z-index":"30"}),this._leftArrow.css("display","none"),this._rightArrow.css("display","none")},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons)return 0;var t=this.length();return e.each(this._titleList,function(){var e=this.attr("hasclosebutton");void 0!=e&&null!=e&&("false"==e||0==e)&&t--}),t},_calculateTitlesSize:function(){var t=0,i=0,s=this.length();for(this.rtl&&e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._measureItem=e("<span style='position: relative; visibility: hidden;'></span>"),e(document.body).append(this._measureItem));s;){if(s--,this._measureItem&&(this._measureItem.html(this._titleList[s].html()),this._titleList[s].css({width:this._measureItem.width()})),this._titleList[s].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),i+=parseInt(this._titleList[s].outerWidth(!0)),t<this._titleList[s].outerHeight(!0)&&(t=Math.round(parseInt(this._titleList[s].outerHeight(!0)))),0==this._titleList[s].height()){var r=this._titleList[s].clone();e(document.body).append(r),t=Math.round(parseInt(r.outerHeight(!0))),r.remove()}var a=this._titleList[s].attr("hasCloseButton");if(void 0!=a&&null!=a){var o=!1;this.hiddenCloseButtons&&1==this.hiddenCloseButtons[s]&&(this._titleList[s].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),o=!0),o||("true"==a||1==a?(i+=this.closeButtonSize,this._titleList[s].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block")):("false"==a||0==a)&&this._titleList[s].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"))}else if(this.showCloseButtons&&(this.canCloseAllTabs||this._tabsWithVisibleCloseButtons()>1)){var o=!1;this.hiddenCloseButtons&&1==this.hiddenCloseButtons[s]&&(this._titleList[s].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),o=!0),o||(i+=this.closeButtonSize,this._titleList[s].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block"))}}return this._measureItem&&this._measureItem.remove(),{height:t,width:10+i}},_reorderHeaderElements:function(){if(this.selectionTracker&&this._moveSelectionTrackerContainer.css({position:"absolute",height:"100%",top:"0px",left:"0px",width:"100%"}),this._headerWrapper.css({position:"relative",left:"0px",top:"0px"}),this.scrollable){this._rightArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"}),this._leftArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"});var e=this.theme&&-1!=this.theme.indexOf("ui-")?3:0;e>0&&(this._rightArrow.addClass(this.toThemeProperty("jqx-rc-r")),this._leftArrow.addClass(this.toThemeProperty("jqx-rc-l")));var t=this.scrollPosition;switch(this.rtl&&("left"==t&&(t="right"),"right"==t&&(t="left")),t){case"both":this._rightArrow.css("right","0px"),this._leftArrow.css("left","0px");break;case"left":this._rightArrow.css("left",this.arrowButtonSize+"px"),this._leftArrow.css("left","0px");break;case"right":this._rightArrow.css("right",-e+"px"),this._leftArrow.css("right",this.arrowButtonSize-e+"px")}}},_positionArrows:function(e){e>=parseInt(this._headerWrapper[0].offsetWidth)&&this.scrollable?(this._needScroll=!0,0===this._unorderedList.position().left&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"),this._leftArrow.css("display","block"),this._rightArrow.css("display","block")):(this._needScroll=!1,this._leftArrow[0].style.display="none",this._rightArrow[0].style.display="none",this._unorderedList[0].style.left="0px")},_performHeaderLayout:function(){this._removeSelectStyle();var t=this._calculateTitlesSize(),i=t.height,s=t.width;this._headerWrapper.css({height:i}),this._unorderedList.css({height:i}),null!=this.headerHeight&&"auto"!=this.headerHeight&&(this._headerWrapper.css({height:this.headerHeight}),this._unorderedList.css({height:this.headerHeight})),s>this.host.width()?this._unorderedList.css({width:s}):this._unorderedList.css({width:this.host.width()}),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._unorderedList.css("position","relative"),this._headerWrapper.css("overflow","hidden")),this._reorderHeaderElements(),s+=parseInt(this._unorderedList.css("margin-left")),this._totalItemsWidth=s,this._positionArrows(s),this._unorderedList.css({position:"relative",top:"0px"}),this._verticalAlignElements(),this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){var e=this.length();for(this._maxHeightTab();e;){e--;var t=this._titleList[e].find(".jqx-tabs-titleContentWrapper"),i=(t.height(),this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",!0))),s=parseInt(this._titleList[e].css("padding-top"));if(s||(s=0),this.autoHeight){var r=this._titleList[e].outerHeight(!0)-this._titleList[e].height();parseInt(this._titleList[e].css("padding-top")),parseInt(this._titleList[e].css("padding-bottom")),parseInt(this._titleList[e].css("border-top-width")),parseInt(this._titleList[e].css("border-bottom-width"))}else if("top"===this.position){var a=parseInt(this._unorderedList.height())-parseInt(this._titleList[e].outerHeight(!0));parseInt(this._titleList[e].css("margin-top"))!==a&&0!==a&&this._titleList[e].css("margin-top",a)}this._titleList[e].children(0).css({height:"100%"});var o=parseInt(this._titleList[e].height()),n=parseInt(o)/2-parseInt(i.height())/2;i.css("margin-top",1+n);var l=parseInt(o)/2-parseInt(t.height())/2;t.css("margin-top",l)}if(this.scrollable){var r=parseInt(this._headerWrapper.outerHeight())-this.arrowButtonSize,h=r/2;this._rightArrow.children(0).css("margin-top",h),this._rightArrow.css({height:"100%"}),this._leftArrow.css({height:"100%"}),this._leftArrow.children(0).css("margin-top",h)}},_getImageUrl:function(e){var t=e.css("background-image");return t=t.replace('url("',""),t=t.replace('")',""),t=t.replace("url(",""),t=t.replace(")","")},_fitToSize:function(){var e=!1,t=!1,i=this;if(null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=!0),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=!0),e&&(this.host[0].style.width=this.width,this._contentWrapper[0].style.width="100%"),t){this.host[0].style.height=this.height,this._contentWrapper[0].style.width="100%",this._contentWrapper[0].style.height="auto";var s=this.element.offsetHeight-this._headerWrapper[0].offsetHeight;this._contentWrapper[0].style.height=s+"px"}if(e||(this.host.css({width:this.width}),"auto"!=this.width&&this._contentWrapper.css("width","100%")),!t)if("auto"!==this.height){this.host.css({height:this.height});var s=this.host.height()-this._headerWrapper.outerHeight();this._contentWrapper.css({height:s})}else this._contentWrapper.css("height","auto")},_maxHeightTab:function(){for(var e=this.length(),t=-1,i=-1;e;)e--,t<parseInt(this._titleList[e].outerHeight(!0))&&(i=e);return i},_addSelectionTracker:function(){this._moveSelectionTrackerContainer&&this._moveSelectionTrackerContainer.remove(),this._moveSelectionTrackerContainer=e('<div class="'+this.toThemeProperty("jqx-tabs-selection-tracker-container")+'">');var t=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position);this._selectionTracker=e('<div class="'+t+'">'),this._selectionTracker.css("color","inherit"),this._moveSelectionTrackerContainer.append(this._selectionTracker),this._headerWrapper.append(this._moveSelectionTrackerContainer),this._selectionTracker.css({position:"absolute","z-index":"10",left:"0px",top:"0px",display:"inline-block"})},_addContentWrapper:function(){var t="none",i=void 0==this._contentWrapper;this._contentWrapper=this._contentWrapper||e('<div class="'+this.toThemeProperty("jqx-tabs-content")+'" style="float:'+t+';">'),this._contentWrapper.addClass(this.toThemeProperty("jqx-widget-content"));for(var s=this.length();s;)s--,this._contentList[s].addClass(this.toThemeProperty("jqx-tabs-content-element"));i&&(this.host.find(".jqx-tabs-content-element").wrapAll(this._contentWrapper),this._contentWrapper=this.host.find(".jqx-tabs-content")),this.roundedCorners&&("top"==this.position?this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-b")):this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-t")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))},_addHeaderWrappers:function(){var t=this.length();for(this._unorderedList.remove(),this._headerWrapper=this._headerWrapper||e('<div class="jqx-tabs-headerWrapper" style="outline: none;">'),this._headerWrapper.remove(),"top"==this.position?this._headerWrapper.prependTo(this.host):this._headerWrapper.appendTo(this.host),this._unorderedList.appendTo(this._headerWrapper),this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header")),this._headerWrapper.addClass(this.toThemeProperty("jqx-widget-header")),"bottom"==this.position?this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-bottom")):this._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-bottom")),this.roundedCorners&&("top"==this.position?(this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-b"))):(this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-b"))));t;){if(t--,this._titleList[t].children(".jqx-tabs-titleWrapper").length<=0){var i=e('<div class="jqx-tabs-titleWrapper" style="outline: none; position: relative;">');i.append(this._titleList[t].html()),this._titleList[t].empty(),i.appendTo(this._titleList[t])}this._titleList[t].children(".jqx-tabs-titleWrapper").css("z-index","15")}},_render:function(){this._addCloseButtons(),this._addHeaderWrappers(),this._addContentWrapper(),this.selectionTracker&&this._addSelectionTracker(),this._addArrows()},_addCloseButton:function(t){var i=t;if(this._titleList[i].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).length<=0&&this._titleList[i].find(".jqx-tabs-titleContentWrapper").length<=0){var s=e('<div class="jqx-tabs-titleContentWrapper"></div>'),r="left";this.rtl&&(r="right"),s.css("float",r),s.addClass("jqx-disableselect"),s.append(this._titleList[i].html()),this._titleList[i].html("");var a=e('<div class="'+this.toThemeProperty("jqx-tabs-close-button")+'"></div>');a.css({height:this.closeButtonSize,width:this.closeButtonSize,"float":r,"font-size":"1px"});this._titleList[i].append(s),this._titleList[i].append(a),this.showCloseButtons?this.hiddenCloseButtons&&1==this.hiddenCloseButtons[t]&&a.css("display","none"):a.css("display","none")}},_addCloseButtons:function(){for(var e=this.length();e;)e--,this._addCloseButton(e)},_prepareTabs:function(){var e=this.length(),t=this.selectionTracker;for(this.selectionTracker=!1;e;)e--,this._selectedItem!==e&&this._unselect(e,null,!1);this._select(this._selectedItem,0,null,!1),this.selectionTracker=t,this.initTabContent&&(this._initTabContentList[this.selectedItem]||this._hiddenParent()||(this.initTabContent(this.selectedItem),this._initTabContentList[this.selectedItem]=!0))},_isValidIndex:function(e){return e>=0&&e<this.length()},_removeSelectStyle:function(){for(var e=this.length();e;){e--;var t=null;if(this.showCloseButtons){var t=this._titleList[e].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));t.removeClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}"top"==this.position?this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-selected-top")):this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-selected-bottom")),this._titleList[e].removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},_addSelectStyle:function(e,t){this.length();if(this._removeSelectStyle(),(!this.selectionTracker||void 0!=t&&t)&&e>=0&&void 0!=this._titleList[e]){var i=null;if(this.showCloseButtons){var i=this._titleList[e].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));this.hiddenCloseButtons&&1==this.hiddenCloseButtons[e]&&(i=null)}this._titleList[e].removeClass(this.toThemeProperty("jqx-fill-state-hover")),"top"==this.position?(this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-hover-top")),this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-selected-top"))):(this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-hover-bottom")),this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-selected-bottom"))),this._titleList[e].addClass(this.toThemeProperty("jqx-fill-state-pressed")),null!=i&&i.addClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}},_addItemTo:function(e,t,i){if(t<e.length){for(var s=void 0,r=void 0,a=t;a+1<e.length;a++)void 0===s?(s=e[a+1],e[a+1]=e[a]):(r=e[a+1],e[a+1]=s,s=r);void 0===s&&(s=e[t]),e[t]=i,e.push(s)}else e.push(i)},_select:function(t,i,s,r,a){if(!this._tabCaptured){this.host.attr("hideFocus","true");var o=this;if(void 0==a?this._addSelectStyle(t):this._addSelectStyle(t,a),this.isCollapsed&&this.collapsible)return this._contentList[t].css("display","none"),void this._selectCallback(t,s,r);switch(this.animationType){case"none":if(o.selectionTracker)setTimeout(function(){o._contentList[t].css("display","block"),e.jqx.aria(o._titleList[t],"aria-selected",!0),e.jqx.aria(o._contentList[t],"aria-hidden",!1),e.jqx.aria(o,"aria-activedescendant",o._titleList[t][0].id)},this.selectionTrackerAnimationDuration);else{for(var n=0;n<this._contentList.length;n++)t!=n&&"block"==this._contentList[n].css("display")&&(this._contentList[n].css("display","none"),e.jqx.aria(this._titleList[n],"aria-selected",!1),e.jqx.aria(this._contentList[n],"aria-hidden",!0));this._contentList[t].css("display","block"),e.jqx.aria(this._titleList[t],"aria-selected",!0),e.jqx.aria(this._contentList[t],"aria-hidden",!1),e.jqx.aria(this,"aria-activedescendant",this._titleList[t][0].id)}this._selectCallback(t,s,r);break;case"fade":this._lockAnimation("contentListSelect"),o._selectCallback(t,s,r),this._contentList[t].fadeIn(i,function(){o._unlockAnimation("contentListSelect"),e.jqx.aria(o._titleList[t],"aria-selected",!0),e.jqx.aria(o._contentList[t],"aria-hidden",!1),e.jqx.aria(o,"aria-activedescendant",o._titleList[t][0].id)})}}},_selectCallback:function(e,t,i){this._selectedItem=e,this.selectedItem=this._selectedItem,t&&t(),i&&this._raiseEvent(1,{item:e})},_unselect:function(t,i,s){if(t>=0&&!this._tabCaptured){var r=this;this._contentList[t].stop(),"fade"==this.animationType?(this._contentList[t].css("display","none"),e.jqx.aria(r._titleList[t],"aria-selected",!1),e.jqx.aria(r._contentList[t],"aria-hidden",!0)):this.selectionTracker?setTimeout(function(){r._contentList[t].css("display","none"),e.jqx.aria(r._titleList[t],"aria-selected",!1),e.jqx.aria(r._contentList[t],"aria-hidden",!0)},this.selectionTrackerAnimationDuration):(this._contentList[t].css("display","none"),e.jqx.aria(r._titleList[t],"aria-selected",!1),e.jqx.aria(r._contentList[t],"aria-hidden",!0)),this._unselectCallback(t,i,s),this.selectionTracker||(this._titleList[t].removeClass(this.toThemeProperty("jqx-tabs-title-selected")),this._titleList[t].removeClass(this.toThemeProperty("jqx-fill-state-pressed")))}},_unselectCallback:function(e,t,i){i&&this._raiseEvent(8,{item:e}),t&&t()},disable:function(){for(var e=this.length();e;)e--,this.disableAt(e)},enable:function(){for(var e=this.length();e;)e--,this.enableAt(e)},getEnabledTabsCount:function(){var t=0;return e.each(this._titleList,function(){this.disabled||t++}),t},getDisabledTabsCount:function(){var t=0;return e.each(this._titleList,function(){this.disabled&&t++}),t},removeAt:function(e){if(this._isValidIndex(e)&&(this.canCloseAllTabs||this.length()>1)){this._removeHoverStates();var t=this,i=(this._titleList[this._selectedItem],parseInt(this._titleList[e].outerWidth(!0))),s=this.getTitleAt(e);this._unorderedList.css({width:parseInt(this._unorderedList.width())-i}),this._titleList[e].remove(),this._contentList[e].remove();if(this._titleList.splice(e,1),this._contentList.splice(e,1),this._addStyles(),this._performHeaderLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._raiseEvent(3,{item:e,title:s}),this._isAnimated={},this.selectedItem>0){this._selectedItem=-1;var r=this._getPreviousIndex(this.selectedItem);this.select(r)}else{this._selectedItem=-1;var r=this._getNextIndex(this.selectedItem);this.select(r)}if(parseInt(this._unorderedList.css("left"))>this._getArrowsDisplacement()&&this._unorderedList.css("left",this._getArrowsDisplacement()),
parseInt(this._unorderedList.width())<=parseInt(this._headerWrapper.width())){var a=this.enableScrollAnimation?this.scrollAnimationDuration:0;this._lockAnimation("unorderedList"),this._unorderedList.animate({left:0},a,function(){t._unlockAnimation("unorderedList")})}}},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(e){if(!this._titleList[e].disabled||void 0===this._titleList[e].disabled){if(this.selectedItem==e){var t=this.next();t||(t=this.previous())}this._titleList[e].disabled=!0,this.removeHandler(this._titleList[e],this.toggleMode),this.enabledHover&&this._titleList[e].off("mouseenter").off("mouseleave"),this._removeEventListenerAt(e),this._titleList[e].addClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[e].addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._raiseEvent(5,{item:e})}},enableAt:function(e){this._titleList[e].disabled&&(this._titleList[e].disabled=!1,this._addEventListenerAt(e),this._titleList[e].removeClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[e].removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this._raiseEvent(4,{item:e}))},addAt:function(t,i,s){if(t>=0||t<=this.length()){this._removeHoverStates();var r=e("<li>"+i+"</li>"),a=e("<div>"+s+"</div>");r.addClass(this.toThemeProperty("jqx-tabs-title")),r.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-tabs-content-element")),"bottom"==this.position&&r.addClass(this.toThemeProperty("jqx-tabs-title-bottom"));var o=!1;0==this._titleList.length?this._unorderedList.append(r):t<this.length()&&t>=0?this._titleList[t].before(r):this._titleList[this.length()-1].after(r),a.appendTo(this._contentWrapper),this._addItemTo(this._titleList,t,r),this._addItemTo(this._contentList,t,a),this._selectedItem>t&&this._selectedItem++,this._switchTabs(t,this._selectedItem),this._selectedItem=t,this.showCloseButtons&&this._titleList.length>0&&this._addCloseButton(t),this._uiRefresh(o),this._raiseEvent(2,{item:t}),this._moveSelectionTrack(this._selectedItem,0)}},addFirst:function(e,t){this.addAt(0,e,t)},addLast:function(e,t){this.addAt(this.length(),e,t)},val:function(e){return 0==arguments.length||"object"==typeof e?this._selectedItem:(this.select(e),this._selectedItem)},select:function(e,t){"object"==typeof e&&(e=this._indexOf(e));var i=e>=0&&e<this._titleList.length?this._titleList[e].attr("canselect"):!0;if((void 0==i||"true"==i||1==i)&&e!==this._selectedItem&&this._isValidIndex(e)&&!this._activeAnimation()&&!this._titleList[e].disabled){var s=this._switchTabs(e,this._selectedItem);s&&this.ensureVisible(e)}},previous:function(e){var t=this._selectedItem;for(void 0==e||isNaN(e)||(t=e);t>0&&t<this._titleList.length;)if(t--,!this._titleList[t].disabled)return this.select(t),!0;return!1},_getPreviousIndex:function(e){if(void 0==e||isNaN(e))return 0;for(var t=e;e>0&&e<=this._titleList.length;)if(e--,!this._titleList[e].disabled)return e;return t},_getNextIndex:function(e){if(void 0==e||isNaN(e))return 0;for(var t=e;e>=0&&e<this._titleList.length;){if(!this._titleList[e].disabled)return e;e++}return t},next:function(e){var t=this._selectedItem;for(void 0==e||isNaN(e)||(t=e);t>=0&&t<this._titleList.length-1;)if(t++,!this._titleList[t].disabled)return this.select(t),!0;return!1},first:function(){var e=0;this._titleList[e].disabled?this.next(e):this.select(e)},last:function(){var e=this._titleList.length-1;this._titleList[e].disabled?this.previous(e):this.select(e)},length:function(){return this._titleList.length},lockAt:function(e){!this._isValidIndex(e)||this._titleList[e].locked&&void 0!==this._titleList[e].locked||(this._titleList[e].locked=!0,this._raiseEvent(11,{item:e}))},unlockAt:function(e){this._isValidIndex(e)&&this._titleList[e].locked&&(this._titleList[e].locked=!1,this._raiseEvent(12,{item:e}))},lockAll:function(){for(var e=this.length();e;)e--,this.lockAt(e)},unlockAll:function(){for(var e=this.length();e;)e--,this.unlockAt(e)},showCloseButtonAt:function(e){if(this._isValidIndex(e)){this.showCloseButtons||(this.showCloseButtons=!0,this.updatetabsheader());var t=this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",!0));t.css("display","block"),this.hiddenCloseButtons||(this.hiddenCloseButtons=new Array),this.hiddenCloseButtons[e]=0}},hideCloseButtonAt:function(e){if(this._isValidIndex(e)){var t=this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",!0));t.css("display","none"),this.hiddenCloseButtons||(this.hiddenCloseButtons=new Array),this.hiddenCloseButtons[e]=1}},hideAllCloseButtons:function(){for(var e=this.length();e;)e--,this.hideCloseButtonAt(e)},showAllCloseButtons:function(){for(var e=this.length();e;)e--,this.showCloseButtonAt(e)},getTitleAt:function(e){return this._titleList[e]?this._titleList[e].text():null},getContentAt:function(e){return this._contentList[e]?this._contentList[e]:null},setTitleAt:function(e,t){this._titleList[e]&&(this._titleList[e].text(t),this.showCloseButtons&&(this._addCloseButton(e),this._removeEventHandlers(),this._addEventHandlers()),this.render(),this.refresh())},setContentAt:function(e,t){this._contentList[e]&&this._contentList[e].html(t)},ensureVisible:function(e){var t=this;if((void 0==e||-1==e||null==e)&&(e=this.selectedItem),!this._isValidIndex(e))return!1;var i,s,r=parseInt(this._titleList[e].position().left)+parseInt(this._unorderedList.css("margin-left")),a=parseInt(this._unorderedList.css("left")),o=parseInt(this._headerWrapper.outerWidth(!0)),n=parseInt(this._titleList[e].outerWidth(!0)),l=a-this._getArrowsDisplacement(),h=o-this._getArrowsDisplacement()-l;if(-l>r)i=-r+this._getArrowsDisplacement(),s=this._getArrowsDisplacement();else{if(!(r+n>h-this._getArrowsDisplacement()))return this._moveSelectionTrack(e,this.selectionTrackerAnimationDuration),!0;i=-r+o-n-(this.scrollable?2*this.arrowButtonSize-this._getArrowsDisplacement():0),s=o-n-this._getArrowsDisplacement()}return this._lockAnimation("unorderedList"),this._unorderedList.animate({left:i},this.scrollAnimationDuration,function(){return t._unlockAnimation("unorderedList"),t._moveSelectionTrack(t._selectedItem,0),!0}),this._moveSelectionTrack(e,this.selectionTrackerAnimationDuration,s),!0},isVisibleAt:function(e){if((void 0==e||-1==e||null==e)&&(e=this.selectedItem),!this._isValidIndex(e))return!1;var t=parseInt(this._titleList[e].position().left)+parseInt(this._unorderedList.css("margin-left")),i=parseInt(this._unorderedList.css("left")),s=parseInt(this._headerWrapper.outerWidth(!0)),r=parseInt(this._titleList[e].outerWidth(!0)),a=i-this._getArrowsDisplacement(),o=s-this._getArrowsDisplacement()-a;return-a>t?!1:t+r>o?!1:!0},isDisabled:function(e){return this._titleList[e].disabled},_lockAnimation:function(e){this._isAnimated&&(this._isAnimated[e]=!0)},_unlockAnimation:function(e){this._isAnimated&&(this._isAnimated[e]=!1)},propertyChangedHandler:function(t,i,s,r){switch(this._validateProperties(),i){case"touchMode":r&&(t.enabledHover=!1,t.keyboardNavigation=!1);break;case"width":case"height":return void t._performResize();case"disabled":return void(r?this.disable():this.enable());case"showCloseButtons":return r?this.showAllCloseButtons():this.hideAllCloseButtons(),void this._moveSelectionTrack(this._selectedItem,this.selectionTrackerAnimationDuration);case"selectedItem":return void(this._isValidIndex(r)&&this.select(r));case"scrollStep":case"contentTransitionDuration":case"scrollAnimationDuration":case"enableScrollAnimation":return;case"selectionTracker":return void(r?(this._refresh(),this.select(this._selectedItem)):null!=this._selectionTracker&&this._selectionTracker.remove());case"scrollable":return void(r?(this._refresh(),this.select(this._selectedItem)):(this._leftArrow.remove(),this._rightArrow.remove(),this._performHeaderLayout()));case"autoHeight":return void this._performHeaderLayout();case"theme":return void e.jqx.utilities.setTheme(s,r,this.host)}this._unorderedList.css("left","0px"),this._refresh(),this.select(this._selectedItem),this._addSelectStyle(this._selectedItem,!0)}})}(jqxBaseFramework),function(e){"use strict";e.jqx.jqxWidget("jqxTextArea","",{}),e.extend(e.jqx._jqxTextArea.prototype,{defineInstance:function(){var t=this,i={disabled:!1,filter:t._filter,sort:t._sort,highlight:t._highlight,dropDownWidth:null,renderer:t._renderer,opened:!1,$popup:e("<ul></ul>"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,rtl:!1,displayMember:"",valueMember:"",popupZIndex:2e4,items:8,item:'<li><a href="#"></a></li>',minLength:1,maxLength:null,scrollBarSize:e.jqx.utilities.scrollBarSize,query:"",events:["change","select","open","close"]};e.extend(!0,t,i)},createInstance:function(){var e=this;e.render(),e.isInitialized=!0},render:function(){var t=this,i=t.element.id;if(t.isInitialized===!0)return void t.refresh();15!==e.jqx.utilities.scrollBarSize&&(t.scrollBarSize=e.jqx.utilities.scrollBarSize);var s=e('<div id="panelWrapper'+i+'" style="overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;"></div>'),r=e('<div id="verticalScrollBar'+i+'" style="align: left; valign: top; left: 0px; top: 0px; position: absolute;"></div>');t._id=t.element.id,"div"===t.element.tagName.toLowerCase()?(t._baseHost=t.host,t.host.append(s),s.append('<textarea id="area'+i+'" class="'+t.toThemeProperty("jqx-text-area-element")+'"></textarea>'),s.append(r)):"textarea"===t.element.tagName.toLowerCase()&&(t._baseHost=e(t.element),t._baseHost.wrap("<div></div>"),t._baseHost.wrap(s),t._baseHost.after(r),t.host=t._baseHost.parent().parent(),t.host[0].style.cssText=t.element.style.cssText,t.element.style.cssText="",t._baseHost.addClass(t.toThemeProperty("jqx-text-area-element")));var a=t.host;if(t.wrapper=s,t.textarea=a.find("textarea"),t._addClasses(),!a.jqxButton)throw new Error("jqxTextArea: Missing reference to jqxbuttons.js.");if(!a.jqxScrollBar)throw new Error("jqxTextArea: Missing reference to jqxscrollbar.js.");null===t.width&&a[0].style&&null!==a[0].style.width&&(t.width=a[0].style.width),null===t.height&&a[0].style&&null!==a[0].style.height&&(t.height=a[0].style.height),t._setSize(),t.vScrollBar=r,r.jqxScrollBar({vertical:!0,width:15,height:"100%",max:t.height,theme:t.theme}),""===e.trim(t.textarea.val())&&t.textarea.val(""),t.textarea.attr("placeholder",t.placeHolder),null!==t.maxLength&&t.textarea.attr("maxlength",t.maxLength),e.jqx.browser.msie&&e.jqx.browser.version<10&&""===t.textarea.val()&&t.textarea.val(t.placeHolder),(t.source instanceof Array&&t.source.length||t.source._source||e.isFunction(t.source))&&(t._oldsource=t.source,t._updateSource(),t._addPopupClasses(),e.jqx.aria(t,"aria-haspopup",!0)),t._arrange(),t._addHandlers()},refresh:function(e){if(e!==!0){var t=this;t._setSize(),t._arrange(),t._removeHandlers(),t._addHandlers(),t.opened===!0&&t.open()}},_arrange:function(){var e=this,t=e.textarea,i=t[0].scrollHeight-t.height(),s=t[0].scrollHeight-t.height();0>s&&(s=0),e.vScrollBar.jqxScrollBar({max:s,value:t[0].scrollTop}),5>i?(t.css({width:e.host.width()}),e.vScrollBar.css("visibility","hidden")):(t.css({width:e.host.width()-e.scrollBarSize}),e.vScrollBar.css("visibility","visible"),e._arrangeScrollbars(e.scrollBarSize))},val:function(t){var i,s=this,r=s.textarea,a=r[0].value;if(e.jqx.browser.msie&&e.jqx.browser.version<10&&a===s.placeHolder&&(a=""),0===arguments.length||"object"==typeof t&&e.isEmptyObject(t)===!0)return""!==s.displayMember&&""!==s.valueMember&&s.selectedItem?""===a?"":s.selectedItem:a;if(t&&t.label){if(s.selectedItem&&t.label===s.selectedItem.label&&t.value===s.selectedItem.value)return t.label;s.selectedItem={label:t.label,value:t.value},s.host.attr("data-value",t.value),s.host.attr("data-label",t.label),r[0].value=t.label,i=t.label}else{if(a===t)return t;r[0].value=t,s.host.attr("data-value",t),s.host.attr("data-label",t),i=t}return s._arrange(),s._raiseEvent("0"),i},focus:function(){this.textarea.focus()},selectAll:function(){var e=this.textarea;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},_arrangeScrollbars:function(t){var i=this,s=i.host.width(),r=i.host.height(),a=i.vScrollBar,o="hidden"!==a[0].style.visibility,n=2,l=2;if(a.css({width:t}),a.css({height:parseInt(r,10)-n+"px"}),a.css({left:parseInt(s,10)-parseInt(t,10)-n-l+"px",top:"0px"}),i.rtl){a.css({left:"0px"});var h=o?parseInt(t,10)+"px":0;if("rtl"!==i.textarea.children().css("direction")){var d=!1;e.jqx.browser.msie&&e.jqx.browser.version<8&&(d=!0),d||i.textarea.css("padding-left",h)}}else"hidden"!==a.css("visibility")&&i.textarea.css("width",i.host.width()-i.vScrollBar.outerWidth());a.jqxScrollBar("refresh")},destroy:function(){var e=this;e.opened&&e._removeItemHandlers(),e.$popup.remove(),e.vScrollBar.jqxScrollBar("destroy"),e._removeHandlers(),e.host.remove()},propertyChangedHandler:function(t,i,s,r){if(void 0!==t.isInitialized&&t.isInitialized!==!1&&r!==s)switch(i){case"theme":t.vScrollBar.jqxScrollBar({theme:t.theme});break;case"width":t.host.css("width",r),t._arrange();break;case"height":t.host.css("height",r),t._arrange();break;case"source":t._oldsource=r,t._updateSource();break;case"displayMember":case"valueMember":t.source=t._oldsource,t._updateSource();break;case"opened":r===!0?t.open():t.close();break;case"maxLength":t.textarea.attr("maxlength",r);break;case"placeHolder":t.textarea.attr("placeholder",r),e.jqx.browser.msie&&e.jqx.browser.version<10&&t.textarea.val()===s&&t.textarea.val(r);break;case"scrollBarSize":t._arrange();break;case"dropDownWidth":t.$popup.css({width:r});break;case"roundedCorners":r===!0?t.host.add(t.$popup).addClass(t.toThemeProperty("jqx-rc-all")):t.host.add(t.$popup).removeClass(t.toThemeProperty("jqx-rc-all"));break;case"disabled":t.vScrollBar.jqxScrollBar({disabled:r}),r===!0?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.textarea.attr("disabled","")):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.textarea.removeAttr("disabled")),e.jqx.aria(t,"aria-disabled",r);break;case"rtl":r===!0?t.textarea.addClass(t.toThemeProperty("jqx-text-area-element-rtl")):t.textarea.removeClass(t.toThemeProperty("jqx-text-area-element-rtl")),t._arrange()}},_raiseEvent:function(t,i){var s=this;void 0===i&&(i={owner:null});var r=s.events[t];i.owner=s;var a=new e.Event(r);a.owner=s,a.args=i,a.preventDefault&&a.preventDefault();var o;o="change"===r||"div"===s._baseHost[0].tagName.toLowerCase()?s.host:s._baseHost;var n=o.trigger(a);return n},_addHandlers:function(){var t=this,i=t.element.id,s=t.host,r=t.textarea;e.jqx.utilities.resize(t._baseHost,function(){t._ttimer=setTimeout(function(){t._arrange()},100)},!1,!0);var a=e.jqx.browser.mozilla?"wheel":"mousewheel";t.addHandler(s,a+".jqxTextArea"+i,function(e){t.wheel(e,t)}),t.addHandler(s,"mouseenter.jqxTextArea"+i,function(){t.focused=!0}),t.addHandler(s,"mouseleave.jqxTextArea"+i,function(){t.focused=!1}),t.addHandler(s,"focus.jqxTextArea"+i,function(){t.focused=!0}),t.addHandler(s,"blur.jqxTextArea"+i,function(){t.focused=!1}),t.addHandler(t.wrapper,"scroll.jqxTextArea"+i,function(){0!==t.wrapper[0].scrollTop&&(t.wrapper[0].scrollTop=0),0!==t.wrapper[0].scrollLeft&&(t.wrapper[0].scrollLeft=0)}),t.addHandler(r,"change.jqxTextArea"+i,function(e){e.stopPropagation(),e.preventDefault(),t._arrange(),t._raiseEvent("0")}),t.addHandler(r,"select.jqxTextArea"+i,function(e){e.stopPropagation(),e.preventDefault()}),t.addHandler(r,"scroll.jqxTextArea"+i,function(){t._arrange()}),t.addHandler(r,"focus.jqxTextArea"+i,function(){t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),e.jqx.browser.msie&&e.jqx.browser.version<10&&t.textarea.val()===t.placeHolder&&t.textarea.val("")}),t.addHandler(r,"blur.jqxTextArea"+i,function(){if(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),e.jqx.browser.msie&&e.jqx.browser.version<10){var i=t.textarea.val();""===i?t.textarea.val(t.placeHolder):null!==t.maxLength&&i.length>t.maxLength&&t.textarea.val(i.substr(0,t.maxLength))}}),t.addHandler(r,"keydown.jqxTextArea"+i,function(i){t._suppressKeyPressRepeat=~e.inArray(i.keyCode,[40,38,9,13,27]),t._move(i)}),t.addHandler(r,"keypress.jqxTextArea"+i,function(i){return null!==t.maxLength&&e.jqx.browser.msie&&e.jqx.browser.version<10&&r.val().length>t.maxLength?!1:void(t._suppressKeyPressRepeat||t._move(i))}),t.addHandler(r,"keyup.jqxTextArea"+i,function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!t.opened)return;t._select();break;case 27:if(!t.opened)return;t.close();break;default:t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){t._suggest()},300)}e.stopPropagation(),e.preventDefault(),t._arrange()}),t.addHandler(t.vScrollBar,"valueChanged.jqxTextArea"+i,function(e){r.scrollTop(e.currentValue)}),t.addHandler(t.$popup,"mousedown.jqxTextArea"+i,function(e){e.stopPropagation(),e.preventDefault(),t._select()})},_removeHandlers:function(){var t=this,i=t.element.id,s=t.host,r=t.textarea;e.jqx.utilities.resize(t._baseHost,null,!0),t.removeHandler(s,"mousewheel.jqxTextArea"+i),t.removeHandler(s,"mouseenter.jqxTextArea"+i),t.removeHandler(s,"mouseleave.jqxTextArea"+i),t.removeHandler(s,"focus.jqxTextArea"+i),t.removeHandler(s,"blur.jqxTextArea"+i),t.removeHandler(t.wrapper,"scroll.jqxTextArea"+i),t.removeHandler(r,"change.jqxTextArea"+i),t.removeHandler(r,"select.jqxTextArea"+i),t.removeHandler(r,"scroll.jqxTextArea"+i),t.removeHandler(r,"focus.jqxTextArea"+i),t.removeHandler(r,"blur.jqxTextArea"+i),t.removeHandler(r,"keydown.jqxTextArea"+i),t.removeHandler(r,"keypress.jqxTextArea"+i),t.removeHandler(r,"keyup.jqxTextArea"+i),t.removeHandler(t.vScrollBar,"valueChanged.jqxTextArea"+i),t.removeHandler(t.$popup,"mousedown.jqxTextArea"+i)},_addItemHandlers:function(){var t=this;t.addHandler(t.$popup.find("li"),"mouseenter.jqxTextArea"+t.element.id,function(i){t.$popup.find(".jqx-fill-state-pressed").removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.currentTarget).addClass(t.toThemeProperty("jqx-fill-state-pressed"))})},_removeItemHandlers:function(){var e=this;e.removeHandler(e.$popup.find("li"),"mouseenter.jqxTextArea"+e.element.id)},wheel:function(t,i){var s=0;if(t.originalEvent&&e.jqx.browser.msie&&t.originalEvent.wheelDelta&&(s=t.originalEvent.wheelDelta/120),t||(t=window.event),t.wheelDelta?s=t.wheelDelta/120:t.detail?s=-t.detail/3:t.originalEvent.wheelDelta?s=t.originalEvent.wheelDelta/120:t.originalEvent.detail?s=-t.originalEvent.detail/3:t.originalEvent.deltaY&&(s=-t.originalEvent.deltaY/3),s){var r=i._handleDelta(s);return r||t.preventDefault&&t.preventDefault(),r?!1:r}t.preventDefault&&t.preventDefault(),t.returnValue=!1},_handleDelta:function(e){var t=this,i=t.vScrollBar.jqxScrollBar("getInstance");if(t.focused){var s=i.value;0>e?t.scrollDown():t.scrollUp();var r=i.value;if(s!==r)return!1}return!0},scrollDown:function(){var e=this;if("hidden"===e.vScrollBar.css("visibility"))return!1;var t=e.vScrollBar.jqxScrollBar("getInstance"),i=Math.min(t.value+t.largestep,t.max);return t.setPosition(i),e._arrange(),!0},scrollUp:function(){var e=this;if("hidden"===e.vScrollBar.css("visibility"))return!1;var t=e.vScrollBar.jqxScrollBar("getInstance"),i=Math.max(t.value-t.largestep,t.min);return t.setPosition(i),e._arrange(),!0},_setSize:function(){var e=this;e.host.css("width",e.width),e.host.css("height",e.height)},_addClasses:function(){var t=this;t.host.addClass(t.toThemeProperty("jqx-panel")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-text-area")),t.textarea.addClass(t.toThemeProperty("jqx-widget")),t.textarea.addClass(t.toThemeProperty("jqx-widget-content")),t.roundedCorners===!0&&t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.disabled===!0?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.textarea.attr("disabled",""),e.jqx.aria(t,"aria-disabled",!0)):e.jqx.aria(t,"aria-disabled",!1),t.rtl===!0&&t.textarea.addClass(t.toThemeProperty("jqx-text-area-element-rtl"))},_addPopupClasses:function(){var t=this,i=t.$popup;i.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&i.addClass(t.toThemeProperty("jqx-noshadow")),i.addClass(t.toThemeProperty("jqx-input-popup")),i.addClass(t.toThemeProperty("jqx-menu")),i.addClass(t.toThemeProperty("jqx-menu-vertical")),i.addClass(t.toThemeProperty("jqx-menu-dropdown")),i.addClass(t.toThemeProperty("jqx-widget")),i.addClass(t.toThemeProperty("jqx-widget-content")),t.roundedCorners&&i.addClass(t.toThemeProperty("jqx-rc-all"))},_updateSource:function(){var t=this,i=function(i){var s=[];return s=e.map(i,function(e){if(void 0===e)return null;if("string"==typeof e||e instanceof String)return{label:e,value:e};if("string"!=typeof e&&e instanceof String==!1){var i="",s="";return""!==t.displayMember&&void 0!==t.displayMember&&e[t.displayMember]&&(i=e[t.displayMember]),""!==t.valueMember&&void 0!==t.valueMember&&(s=e[t.valueMember]),""===i&&(i=e.label),""===s&&(s=e.value),{label:i,value:s}}return e})};if(t.source&&t.source._source){if(t.adapter=t.source,t.adapter._source.localdata)t.adapter.unbindBindingUpdate(t.element.id),t.adapter.bindBindingUpdate(t.element.id,function(){t.source=i(t.adapter.records)});else{var s={};t.adapter._options.data?e.extend(t.adapter._options.data,s):(t.source._source.data&&e.extend(s,t.source._source.data),t.adapter._options.data=s),t.adapter.unbindDownloadComplete(t.element.id),t.adapter.bindDownloadComplete(t.element.id,function(){t.source=i(t.adapter.records)})}return void t.source.dataBind()}e.isFunction(t.source)||(t.source=i(t.source))},open:function(){var t=this;if(!e.jqx.isHidden(t.host)){var i=e.extend({},t.host.coord(!0),{height:t.host[0].offsetHeight});if(0===t.$popup.parent().length){var s=t._id+"_popup";t.$popup[0].id=s,e.jqx.aria(t,"aria-owns",s)}t.$popup.appendTo(e(document.body)).css({position:"absolute",zIndex:t.popupZIndex,top:i.top+i.height,left:i.left}).show();var r=0,a=t.$popup.children();return e.each(a,function(){r+=e(this).outerHeight(!0)-1}),t.$popup.css({height:r}),t.opened=!0,t._raiseEvent("2",{popup:t.$popup}),e.jqx.aria(t,"aria-expanded",!0),t._addItemHandlers(),t}},close:function(){var t=this;return t._removeItemHandlers(),t.$popup.hide(),t.opened=!1,t._raiseEvent("3",{popup:t.$popup}),e.jqx.aria(t,"aria-expanded",!1),t},_suggest:function(){var t,i=this;return i.query=i.textarea[0].value,!i.query||i.query.length<i.minLength?i.opened?i.close():i:(t=e.isFunction(i.source)?i.source(i.query,e.proxy(i._load,this)):i.source,t?i._load(t):i)},_load:function(t){var i=this;return t=e.grep(t,function(e){return i.filter(e)}),t=i.sort(t),t.length?i._render(t.slice(0,i.items)).open():i.opened?i.close():i},_filter:function(t){var i=this,s=i.query,r=t;switch(void 0!==t.label?r=t.label:i.displayMember&&(r=t[i.displayMember]),i.searchMode){case"none":break;case"contains":return e.jqx.string.contains(r,s);case"equals":return e.jqx.string.equals(r,s);case"equalsignorecase":return e.jqx.string.equalsIgnoreCase(r,s);case"startswith":return e.jqx.string.startsWith(r,s);case"startswithignorecase":return e.jqx.string.startsWithIgnoreCase(r,s);case"endswith":return e.jqx.string.endsWith(r,s);case"endswithignorecase":return e.jqx.string.endsWithIgnoreCase(r,s);default:return e.jqx.string.containsIgnoreCase(r,s)}},_sort:function(e){for(var t=this,i=[],s=[],r=[],a=0;a<e.length;a++){var o=e[a],n=o;o.label?n=o.label:t.displayMember&&(n=o[t.displayMember]),0===n.toString().toLowerCase().indexOf(t.query.toString().toLowerCase())?i.push(o):n.toString().indexOf(t.query)>=0?s.push(o):n.toString().toLowerCase().indexOf(t.query.toString().toLowerCase())>=0&&r.push(o)}return i.concat(s,r)},_render:function(t){var i=this;return t=e(t).map(function(t,s){var r=s;t=void 0!==s.value?void 0!==s.label?e(i.item).attr({"data-name":s.label,"data-value":s.value}):e(i.item).attr({"data-name":s.value,"data-value":s.value}):void 0!==s.label?e(i.item).attr({"data-value":s.label,"data-name":s.label}):void 0!==i.displayMember&&""!==i.displayMember?e(i.item).attr({"data-name":s[i.displayMember],"data-value":s[i.valueMember]}):e(i.item).attr({"data-value":s,"data-name":s}),s.label?r=s.label:i.displayMember&&(r=s[i.displayMember]),t.find("a").html(i.highlight(r));var a="",o="";return i.roundedCorners===!0&&(a=" "+i.toThemeProperty("jqx-rc-all")),i.rtl&&(o=" "+i.toThemeProperty("jqx-rtl")),t[0].className=i.toThemeProperty("jqx-item")+" "+i.toThemeProperty("jqx-menu-item")+a+o,t[0]}),t.first().addClass(i.toThemeProperty("jqx-fill-state-pressed")),i.$popup.html(t),i.dropDownWidth?i.$popup.css({width:i.dropDownWidth}):i.$popup.css({width:i.host.outerWidth()-6}),i},_highlight:function(e){var t=this.query;t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i=new RegExp("("+t+")","ig");return e.replace(i,function(e,t){return"<b>"+t+"</b>"})},_select:function(){var e=this,t=e.$popup.find(".jqx-fill-state-pressed").attr("data-value"),i=e.$popup.find(".jqx-fill-state-pressed").attr("data-name");return e.textarea[0].value=e.renderer(i,e.textarea[0].value),e.selectedItem={label:i,value:t},e.host.attr("data-value",t),e.host.attr("data-label",i),e._raiseEvent("1",{item:{label:i,value:t}}),e._arrange(),e.textarea[0].scrollTop=e.textarea[0].scrollHeight,e._raiseEvent("0"),e.close()},_renderer:function(e){return e},_move:function(e){var t=this;if(t.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),t._prev());break;case 40:e.shiftKey||(e.preventDefault(),t._next())}e.stopPropagation()}},_next:function(){var t=this,i=t.$popup.find(".jqx-fill-state-pressed").removeClass(t.toThemeProperty("jqx-fill-state-pressed")),s=i.next();s.length||(s=e(t.$popup.find("li")[0])),s.addClass(t.toThemeProperty("jqx-fill-state-pressed"))},_prev:function(){var e=this,t=e.$popup.find(".jqx-fill-state-pressed").removeClass(e.toThemeProperty("jqx-fill-state-pressed")),i=t.prev();i.length||(i=e.$popup.find("li").last()),i.addClass(e.toThemeProperty("jqx-fill-state-pressed"))}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTooltip","",{}),e.extend(e.jqx._jqxTooltip.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",position:"default",enableBrowserBoundsDetection:!0,content:"",left:0,top:0,absolutePositionX:0,absolutePositionY:0,trigger:"hover",showDelay:100,autoHide:!0,autoHideDelay:3e3,closeOnClick:!0,disabled:!1,animationShowDelay:200,animationHideDelay:"fast",showArrow:!0,name:"",opacity:.9,rtl:!1,_isOpen:!1,opening:null,value:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend")},events:["open","close","opening","closing"]};return e.extend(!0,this,t),t},createInstance:function(t){this._isTouchDevice=e.jqx.mobile.isTouchDevice();var i=e.data(document.body,"_tooltipIDArray"+this.name);i?this.ID_Array=i:(this.ID_Array=new Array,e.data(document.body,"_tooltipIDArray"+this.name,this.ID_Array));var s=this._generatekey(),r="jqxtooltip"+s;this.ID_Array.push({tooltipID:r,tooltipHost:this.host});var a=e('<div id="'+r+'"><div id ="'+r+'Main"><div id="'+r+'Text"></div></div><div id="'+r+'Arrow"></div></div>');e.jqx.browser.msie&&a.addClass(this.toThemeProperty("jqx-noshadow")),e("body").append(a),this._setTheme();var o=e("#"+r);o.css("visibility","hidden"),o.css("display","none"),o.css("opacity",0),o.css("z-index",99999),0==this.showArrow&&(e("#"+r+"Arrow").css("visibility","hidden"),e("#"+r+"Arrow").css("display","none")),this._setSize(),this._setContent(),0==this.disabled&&(this._trigger(),1==this.closeOnClick&&this._clickHide())},open:function(){if(arguments&&arguments.length&&2==arguments.length&&(this.position="absolute",this.left=arguments[0],this.top=arguments[1],this.absolutePositionX=arguments[0],this.absolutePositionY=arguments[1]),0==this.disabled&&"removed"!=this._id())if("mouse"==this.position||"mouseenter"==this.position){var e=this.position;this.position="default",this._raiseEvent("2"),this._setPosition(),this._animateShow(),this.position=e}else this._raiseEvent("2"),this._setPosition(),this._animateShow()},close:function(t){var i=this;"object"==typeof t&&e.isEmptyObject(t)&&(t=this.animationHideDelay);var s=new Number(e(this._id()).css("opacity")).toFixed(2),r=function(){clearTimeout(i.autoHideTimeout),i._raiseEvent("3"),e(i._id()).animate({opacity:0},t,function(){e(i._id()).css("visibility","hidden"),e(i._id()).css("display","none"),i._raiseEvent("1"),i._isOpen=!1})};return 0==this._isOpen&&0!=s?(e(i._id()).stop(),void r()):void(1==this._isOpen&&s==this.opacity&&r())},destroy:function(){var t=this.ID_Array.length;this._removeHandlers(),e(this._id()).remove();for(var i=0;t>i;i++)if(this.ID_Array[i].tooltipHost===this.host){this.ID_Array.splice(i,1);break}e(this.element).removeData("jqxTooltip")},refresh:function(t){if(1!=t){this.rtl&&(e(this._id()+"Text").addClass(this.toThemeProperty("jqx-rtl")),e(this._id()+"Text").css({direction:"rtl"}));var i=this,s=new Number(e(this._id()).css("opacity")).toFixed(2);"removed"!=this._id()&&(1==this.disabled&&1==this._isOpen&&s==this.opacity&&(clearTimeout(this.autoHideTimeout),e(this._id()).stop(),e(this._id()).animate({opacity:0},this.animationHideDelay,function(){e(i._id()).css("visibility","hidden"),e(i._id()).css("display","none"),i._isOpen=!1})),this._setTheme(),this._setContent(),this._setSize(),"mouse"!=this.position&&"mouseenter"!=this.position&&this._setPosition(),this._removeHandlers(),0==this.disabled&&(this._trigger(),1==this.closeOnClick&&this._clickHide()))}},propertyChangedHandler:function(e,t,i,s){"content"==t&&(this.changeContentFlag=!0),e.refresh()},_raiseEvent:function(t,i){var s=this.events[t],r=new e.Event(s);r.owner=this,r.args=i;try{var a=this.host.trigger(r)}catch(o){}return a},_generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()},_id:function(){for(var e,t,i=this.ID_Array.length,s=0;i>s;s++)if(this.ID_Array[s].tooltipHost===this.host){e=this.ID_Array[s].tooltipID,t="#"+e;break}return void 0==t&&(t="removed"),t},_setPosition:function(t){if(0==this._isOpen&&0==e(this._id()).css("opacity")||1==this.changeContentFlag){if(!t&&("mouse"==this.position||"mouseenter"==this.position))return;e(this._id()).css("display","block"),this.changeContentFlag=!1,this.documentTop=e(document).scrollTop(),this.documentLeft=e(document).scrollLeft(),this.windowWidth=e(window).width(),this.windowHeight=e(window).height(),this.host_width=this.host.outerWidth(),this.host_height=this.host.outerHeight(),this.tooltip_width=e(this._id()).width(),this.tooltip_height=e(this._id()).height(),this.host_offset=this.host.offset(),this.tooltip_offset=e(this._id()).offset(),this.default_offset=30,this.offset_horizontal=parseInt(this.left),this.offset_vertical=parseInt(this.top);var i=e(this._id()+"Arrow"),s=e(this._id()+"Main");switch(this.arrow_size=5,this.tooltip_main_offset=s.offset(),this.tooltip_arrow_offset,this.position){case"top":this.tooltip_offset.left=this.host_offset.left+this.host_width/2-this.tooltip_width/2+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(s.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+s.height(),i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});
break;case"bottom":this.tooltip_offset.left=this.host_offset.left+this.host_width/2-this.tooltip_width/2+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(s.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"left":this.tooltip_offset.left=-1+this.host_offset.left-this.tooltip_width-this.arrow_size+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height/2-this.tooltip_height/2+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.css({"border-width":this.arrow_size+"px 0px "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_main_offset=s.offset(),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+s.width(),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+s.height()/2-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"right":this.tooltip_offset.left=this.host_offset.left+this.host_width+this.arrow_size+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height/2-this.tooltip_height/2+this.offset_vertical,this.tooltip_offset.top=parseInt(this.tooltip_offset.top),this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px "+this.arrow_size+"px 0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left-this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+s.height()/2-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"top-left":this.tooltip_offset.left=this.host_offset.left+this.default_offset-this.tooltip_width+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+s.width()-6*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+s.height(),i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom-left":this.tooltip_offset.left=this.host_offset.left+this.default_offset-this.tooltip_width+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+s.width()-6*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"top-right":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+s.height(),i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom-right":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"absolute":e(this._id()).offset({top:this.absolutePositionY,left:this.absolutePositionX}),i.css({"border-width":"0px"});break;case"mouse":var r=this;if(0==this._isTouchDevice)switch(this.trigger){case"hover":this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout),this.mouseHoverTimeout=setTimeout(function(){r.tooltip_offset.left=t.pageX+10,r.tooltip_offset.top=t.pageY+10,r._detectBrowserBounds()},this.showDelay);break;case"click":this.tooltip_offset.left=t.pageX+10,this.tooltip_offset.top=t.pageY+10,this._detectBrowserBounds()}else{var a=t.pageX,o=t.pageY;if(t.originalEvent){var n=null;if(t.originalEvent.touches&&t.originalEvent.touches.length)var n=t.originalEvent.touches[0];else if(t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length)var n=t.originalEvent.changedTouches[0];void 0!=n&&(a=n.pageX,o=n.pageY)}this.tooltip_offset.left=a+10,this.tooltip_offset.top=o+10,this._detectBrowserBounds()}i.css({"border-width":"0px"});break;case"mouseenter":var l={top:t.pageY,left:t.pageX};l.top<this.host_offset.top+10&&l.top>this.host_offset.top-10?(this.tooltip_offset.left=l.left-this.tooltip_width/2,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(s.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+s.height(),i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):l.top<this.host_offset.top+this.host_height+10&&l.top>this.host_offset.top+this.host_height-10?(this.tooltip_offset.left=l.left-this.tooltip_width/2,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(s.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):l.left<this.host_offset.left+10&&l.left>this.host_offset.left-10?(this.tooltip_offset.left=this.host_offset.left-this.tooltip_width-this.arrow_size,this.tooltip_offset.top=l.top-this.tooltip_height/2,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.css({"border-width":this.arrow_size+"px 0px "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_main_offset=s.offset(),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+s.width(),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+s.height()/2-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):l.left<this.host_offset.left+this.host_width+10&&l.left>this.host_offset.left+this.host_width-10&&(this.tooltip_offset.left=this.host_offset.left+this.host_width+this.arrow_size,this.tooltip_offset.top=l.top-this.tooltip_height/2,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px "+this.arrow_size+"px 0px"}),this.tooltip_main_offset=s.offset(),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left-this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+s.height()/2-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left}));break;case"default":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=s.offset(),i.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),i.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),i.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=i.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,i.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})}}},_setContent:function(){e(this._id()+"Text").html(this.content)},opened:function(){return this._isOpen&&"block"==this.host.css("display")&&"visible"==this.host.css("visibility")},_animateShow:function(){this._closeAll(),clearTimeout(this.autoHideTimeout);var t=new Number(e(this._id()).css("opacity")).toFixed(2);if(0==this._isOpen&&0==t){var i=this,s=e(this._id());if(s.css("visibility","visible"),s.css("display","block"),s.stop(),s.css("opacity",0),this.opening){var r=this.opening(this);if(r===!1)return}s.animate({opacity:this.opacity},this.animationShowDelay,function(){i._raiseEvent("0"),i._isOpen=!0;e.data(document.body,"_openedTooltip"+i.name);i.openedTooltip=i,e.data(document.body,"_openedTooltip"+i.name,i),i.autoHideTimeout&&clearTimeout(i.autoHideTimeout),i.autoHideDelay>0&&i.autoHide===!0&&(i.autoHideTimeout=setTimeout(function(){i._autoHide()},i.autoHideDelay))})}},_trigger:function(){if("removed"!=this._id()){this._enterFlag,this._leaveFlag;var t=this;if(0==this._isTouchDevice)switch(this.trigger){case"hover":"mouse"==this.position?(this.addHandler(this.host,"mousemove.tooltip",function(e){1==t._enterFlag&&(t._raiseEvent("2"),t._setPosition(e),clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._animateShow(),t._enterFlag=0},t.showDelay))}),this.addHandler(this.host,"mouseenter.tooltip",function(){0!=t._leaveFlag&&(t._enterFlag=1)}),this.addHandler(this.host,"mouseleave.tooltip",function(i){t._leaveFlag=1,clearTimeout(t.hoverShowTimeout);var s=e(t._id()).offset(),r=e(t._id()).width(),a=e(t._id()).height();(parseInt(i.pageX)<parseInt(s.left)||parseInt(i.pageX)>parseInt(s.left)+r)&&t.close(),(parseInt(i.pageY)<parseInt(s.top)||parseInt(i.pageY)>parseInt(s.top)+a)&&t.close()}),this.addHandler(e(this._id()),"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!=t._clickFlag&&0!=t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.close())})):(this.addHandler(this.host,"mouseenter.tooltip",function(e){clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._raiseEvent("2"),t._setPosition(e),t._animateShow()},t.showDelay)}),this.addHandler(this.host,"mouseleave.tooltip",function(i){if(t._leaveFlag=1,clearTimeout(t.hoverShowTimeout),t.autoHide){var s=i.pageX,r=i.pageY,a=e(t._id()).offset(),o=a.left,n=a.top,l=e(t._id()).width(),h=e(t._id()).height();(parseInt(s)<parseInt(o)||parseInt(s)>parseInt(o)+l||parseInt(r)<parseInt(n)||parseInt(r)>parseInt(n)+h)&&t.close()}}),this.addHandler(e(this._id()),"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!=t._clickFlag&&0!=t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.autoHide&&t.close())}));break;case"click":this.addHandler(this.host,"click.tooltip",function(e){"mouseenter"==t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()});break;case"none":}else"none"!=this.trigger&&this.addHandler(this.host,"touchstart.tooltip",function(e){"mouseenter"==t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()})}},_autoHide:function(){var t=this,i=new Number(e(this._id()).css("opacity")).toFixed(2);1==this.autoHide&&1==this._isOpen&&i>=this.opacity&&(t._raiseEvent("3"),e(t._id()).animate({opacity:0},t.animationHideDelay,function(){e(t._id()).css("visibility","hidden"),e(t._id()).css("display","none"),t._raiseEvent("1"),t._isOpen=!1}))},_clickHide:function(){var t=this;this.addHandler(e(this._id()),"click.tooltip",function(e){t._checkBoundariesClick(e),t.close()})},_setSize:function(){e(this._id()).css({width:this.width,height:this.height})},resize:function(){this._setSize()},_setTheme:function(){var t=this._id(),i=e(t+"Main"),s=e(t+"Text"),r=e(t+"Arrow");i.addClass(this.toThemeProperty("jqx-widget")),s.addClass(this.toThemeProperty("jqx-widget")),r.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-fill-state-normal")),s.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-fill-state-normal")),e(t).addClass(this.toThemeProperty("jqx-tooltip")),e(t).addClass(this.toThemeProperty("jqx-popup")),i.addClass(this.toThemeProperty("jqx-tooltip-main")),s.addClass(this.toThemeProperty("jqx-tooltip-text")),r.addClass(this.toThemeProperty("jqx-tooltip-arrow"))},_initialPosition:function(){var e=this.position;this.position="default",this._setPosition(),this.position=e},_detectBrowserBounds:function(){var t=this._id();this.enableBrowserBoundsDetection?this.tooltip_offset.top<this.documentTop&&this.tooltip_offset.left<0?e(t).offset({top:this.documentTop,left:this.documentLeft}):this.tooltip_offset.top<this.documentTop&&this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?e(t).offset({top:this.documentTop,left:this.windowWidth+this.documentLeft-this.tooltip_width}):this.tooltip_offset.top<this.documentTop?e(t).offset({top:this.documentTop,left:this.tooltip_offset.left}):this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop&&this.tooltip_offset.left<0?e(t).offset({top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.documentLeft}):this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop&&this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?e(t).offset({top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.windowWidth+this.documentLeft-this.tooltip_width}):this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop?e(t).offset({top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.tooltip_offset.left}):this.tooltip_offset.left<0?e(t).offset({top:this.tooltip_offset.top,left:this.documentLeft}):this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?e(t).offset({top:this.tooltip_offset.top,left:this.windowWidth+this.documentLeft-this.tooltip_width}):e(t).offset({top:this.tooltip_offset.top,left:this.tooltip_offset.left}):e(t).offset({top:this.tooltip_offset.top,left:this.tooltip_offset.left})},_checkBoundaries:function(e){return e.pageX>=this.host_offset.left&&e.pageX<=this.host_offset.left+this.host_width&&e.pageY>=this.host_offset.top&&e.pageY<=this.host_offset.top+this.host_height?!0:!1},_checkBoundariesClick:function(e){this._checkBoundaries(e)?this._clickFlag=1:this._clickFlag=0},_checkBoundariesAuto:function(e){this._checkBoundaries(e)?this._autoFlag=1:this._autoFlag=0},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip"),this.removeHandler(this.host,"mousemove.tooltip"),this.removeHandler(this.host,"mouseleave.tooltip"),this.removeHandler(this.host,"click.tooltip"),this.removeHandler(this.host,"touchstart.tooltip"),this.removeHandler(e(this._id()),"click.tooltip"),this.removeHandler(e(this._id()),"mouseleave.tooltip")},_closeAll:function(){for(var t=this.ID_Array.length,i=0;t>i;i++){var s="#"+this.ID_Array[i].tooltipID;s!=this._id()&&(e(s).css({opacity:0,visibility:"hidden",display:"none"}),this._isOpen=!1)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTree","",{}),e.extend(e.jqx._jqxTree.prototype,{defineInstance:function(){var t={items:new Array,width:null,height:null,easing:"easeInOutCirc",animationShowDuration:"fast",animationHideDuration:"fast",treeElements:new Array,disabled:!1,enableHover:!0,keyboardNavigation:!0,enableKeyboardNavigation:!0,toggleMode:"dblclick",source:null,checkboxes:!1,checkSize:13,toggleIndicatorSize:16,hasThreeStates:!1,selectedItem:null,touchMode:"auto",allowDrag:!0,allowDrop:!0,searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,animationHideDelay:0,submitCheckedItems:!1,dragStart:null,dragEnd:null,rtl:!1,dropAction:"default",events:["expand","collapse","select","initialized","added","removed","checkChange","dragEnd","dragStart"],aria:{"aria-activedescendant":{name:"getActiveDescendant",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};return e.extend(!0,this,t),t},createInstance:function(t){var i=this;if(this.host.attr("role","tree"),this.host.attr("data-role","treeview"),this.enableKeyboardNavigation=this.keyboardNavigation,this.propertyChangeMap.disabled=function(t,s,r,a){i.disabled?i.host.addClass(i.toThemeProperty("jqx-tree-disabled")):i.host.removeClass(i.toThemeProperty("jqx-tree-disabled")),e.jqx.aria(i,"aria-disabled",a)},null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.css({width:this.width}):void 0==this.width||isNaN(this.width)||this.host.css({width:this.width}),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.css({height:this.height}):void 0==this.height||isNaN(this.height)||this.host.css({height:this.height}),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.css({width:this.width}),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.css({height:this.height}),this.host.attr("tabindex")||this.host.attr("tabIndex",1),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-tree-disabled")),e.jqx.aria(this,"aria-disabled",!0)),this.host.jqxDragDrop&&jqxTreeDragDrop(),this.originalInnerHTML=this.element.innerHTML,this.createdTree=!1,this.element.innerHTML.indexOf("UL")){var s=this.host.find("ul:first");s.length>0&&(this.createTree(s[0]),this.createdTree=!0)}if(null!=this.source){var r=this.loadItems(this.source);this.element.innerHTML=r;var s=this.host.find("ul:first");s.length>0&&(this.createTree(s[0]),this.createdTree=!0)}if(this._itemslength=this.items.length,!this.createdTree&&0==this.host.find("ul").length){this.host.append(e("<ul></ul>"));var s=this.host.find("ul:first");s.length>0&&(this.createTree(s[0]),this.createdTree=!0),this.createdTree=!0}1==this.createdTree&&(this._render(),this._handleKeys()),this._updateCheckLayout()},checkItems:function(t,i){var s=this;if(null!=t){var r=0,a=!1,o=0,n=e(t.element).find("li");if(o=n.length,e.each(n,function(e){var t=s.itemMapping["id"+this.id].item;0!=t.checked&&(null==t.checked&&(a=!0),r++)}),t!=i)r==o?this.checkItem(t.element,!0,"tree"):r>0?this.checkItem(t.element,null,"tree"):this.checkItem(t.element,!1,"tree");else{var l=i.checked,n=e(i.element).find("li");e.each(n,function(){s.itemMapping["id"+this.id].item;s.checkItem(this,l,"tree")})}this.checkItems(this._parentItem(t),i)}else{var l=i.checked,n=e(i.element).find("li");e.each(n,function(){s.itemMapping["id"+this.id].item;s.checkItem(this,l,"tree")})}},_getMatches:function(t,i){if(void 0==t||0==t.length)return-1;for(var s=this.items,r=new Array,a=0;a<s.length;a++)this._isVisible(s[a])&&!s[a].disabled&&r.push(s[a]);s=r,void 0!=i&&(s=s.slice(i));var o=new Array;return e.each(s,function(i){var s=this.label;s||(s="");var r=e.jqx.string.startsWithIgnoreCase(s.toString(),t);r&&o.push({id:this.id,element:this.element})}),o},_handleKeys:function(){var t=this;this.addHandler(this.host,"keydown",function(i){var s=i.keyCode;if((t.keyboardNavigation||t.enableKeyboardNavigation)&&null!=t.selectedItem){var r=t.selectedItem.element;if(t.incrementalSearch&&!(s>=33&&40>=s)){var a=-1;t._searchString||(t._searchString=""),(8==s||46==s)&&t._searchString.length>=1&&(t._searchString=t._searchString.substr(0,t._searchString.length-1));var o=String.fromCharCode(s),n=!isNaN(parseInt(o)),l=!1;if(s>=65&&97>=s||n||8==s||32==s||46==s){i.shiftKey||(o=o.toLocaleLowerCase()),8!=s&&32!=s&&46!=s&&(t._searchString.length>0&&t._searchString.substr(0,1)==o||(t._searchString+=o)),32==s&&(t._searchString+=" "),t._searchTime=new Date;var h=t.selectedItem;if(h){for(var d=h.id,c=-1,u=0;u<t.items.length;u++)if(t.items[u].id==d){c=u+1;break}var p=t._getMatches(t._searchString,c);if(0==p.length||p.length>0&&p[0].id==d)var p=t._getMatches(t._searchString)}else var p=t._getMatches(t._searchString);if(p.length>0){var h=t.selectedItem;t.selectedItem&&t.selectedItem.id!=p[0].id&&(t.clearSelection(),t.selectItem(p[0].element)),t._lastSearchString=t._searchString}}if(void 0!=t._searchTimer&&clearTimeout(t._searchTimer),(27==s||13==s)&&(t._searchString="",t._lastSearchString=""),t._searchTimer=setTimeout(function(){t._searchString="",t._lastSearchString=""},500),a>=0)return;if(l)return!1}switch(s){case 32:if(t.checkboxes){t.fromKey=!0;var m=e(t.selectedItem.checkBoxElement).jqxCheckBox("checked");return t.checkItem(t.selectedItem.element,!m,"tree"),t.hasThreeStates&&t.checkItems(t.selectedItem,t.selectedItem),!1}return!0;case 33:for(var f=t._getItemsOnPage(),v=t.selectedItem,u=0;f>u;u++)v=t._prevVisibleItem(v);return null!=v?(t.selectItem(v.element),t.ensureVisible(v.element)):(t.selectItem(t._firstItem().element),t.ensureVisible(t._firstItem().element)),!1;case 34:for(var f=t._getItemsOnPage(),g=t.selectedItem,u=0;f>u;u++)g=t._nextVisibleItem(g);return null!=g?(t.selectItem(g.element),t.ensureVisible(g.element)):(t.selectItem(t._lastItem().element),t.ensureVisible(t._lastItem().element)),!1;case 37:case 39:if(37==s&&!t.rtl||39==s&&t.rtl)if(t.selectedItem.hasItems&&t.selectedItem.isExpanded)t.collapseItem(r);else{var x=t._parentItem(t.selectedItem);null!=x&&(t.selectItem(x.element),t.ensureVisible(x.element))}if((39==s&&!t.rtl||37==s&&t.rtl)&&t.selectedItem.hasItems)if(t.selectedItem.isExpanded){var g=t._nextVisibleItem(t.selectedItem);null!=g&&(t.selectItem(g.element),t.ensureVisible(g.element))}else t.expandItem(r);return!1;case 13:return t.selectedItem.hasItems&&(t.selectedItem.isExpanded?t.collapseItem(r):t.expandItem(r)),!1;case 36:return t.selectItem(t._firstItem().element),t.ensureVisible(t._firstItem().element),!1;case 35:return t.selectItem(t._lastItem().element),t.ensureVisible(t._lastItem().element),!1;case 38:var v=t._prevVisibleItem(t.selectedItem);return null!=v&&(t.selectItem(v.element),t.ensureVisible(v.element)),!1;case 40:var g=t._nextVisibleItem(t.selectedItem);return null!=g&&(t.selectItem(g.element),t.ensureVisible(g.element)),!1}}})},_firstItem:function(){var t=null,s=this,r=this.host.find("ul:first"),a=e(r).find("li");for(i=0;i<=a.length-1;i++){var o=a[i];if(t=this.itemMapping["id"+o.id].item,s._isVisible(t))return t}return null},_lastItem:function(){var t=null,s=this,r=this.host.find("ul:first"),a=e(r).find("li");for(i=a.length-1;i>=0;i--){var o=a[i];if(t=this.itemMapping["id"+o.id].item,s._isVisible(t))return t}return null},_parentItem:function(t){if(null==t||void 0==t)return null;var i=t.parentElement;if(!i)return null;var s=null;return e.each(this.items,function(){return this.element==i?(s=this,!1):void 0}),s},_nextVisibleItem:function(e){if(null==e||void 0==e)return null;for(var t=e;null!=t;)if(t=t.nextItem,this._isVisible(t)&&!t.disabled)return t;return null},_prevVisibleItem:function(e){if(null==e||void 0==e)return null;for(var t=e;null!=t;)if(t=t.prevItem,this._isVisible(t)&&!t.disabled)return t;return null},_isVisible:function(e){if(null==e||void 0==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isExpanded)return!1;for(;null!=t;){if(t=this._parentItem(t),null!=t&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isExpanded)return!1}}return!0},_getItemsOnPage:function(){var t=0,i=(this.panel.jqxPanel("getVScrollPosition"),parseInt(this.host.height())),s=0,r=this._firstItem();if(parseInt(e(r.element).height())>0)for(;i>=s;)s+=parseInt(e(r.element).outerHeight()),t++;return t},_isElementVisible:function(t){return null==t?!1:"none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility")?!0:!1},refresh:function(t){if(null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.css({width:this.width}):void 0==this.width||isNaN(this.width)||this.host.css({width:this.width}),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.css({height:this.height}):void 0==this.height||isNaN(this.height)||this.host.css({height:this.height}),this.panel){if(null!=this.width&&-1!=this.width.toString().indexOf("%")){var i=this;this.panel.jqxPanel("width","100%"),i.removeHandler(e(window),"resize.jqxtree"+i.element.id),i.addHandler(e(window),"resize.jqxtree"+i.element.id,function(){i._calculateWidth()})}else this.panel.jqxPanel("width",this.host.width());this.panel.jqxPanel("_arrange")}if(this._calculateWidth(),e.jqx.isHidden(this.host)){var i=this;this._hiddenTimer&&clearInterval(this._hiddenTimer),this._hiddenTimer=setInterval(function(){e.jqx.isHidden(i.host)||(clearInterval(i._hiddenTimer),i._calculateWidth())},100)}1!=t&&this.checkboxes&&this._updateCheckLayout(null)},resize:function(e,t){this.width=e,this.height=t,this.refresh()},loadItems:function(t){if(null!=t){var i=this;this.items=new Array;var s="<ul>";return e.map(t,function(e){return void 0==e?null:void(s+=i._parseItem(e))}),s+="</ul>"}},_parseItem:function(e){var t="";if(void 0==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e);var s=!1;void 0!=e.expanded&&e.expanded&&(s=!0);var r=!1;void 0!=e.locked&&e.locked&&(r=!0);var a=!1;void 0!=e.selected&&e.selected&&(a=!0);var o=!1;void 0!=e.disabled&&e.disabled&&(o=!0);var n=!1;void 0!=e.checked&&e.checked&&(n=!0);var l=e.icon,h=e.iconsize;t+="<li",s&&(t+=' item-expanded="true" '),r&&(t+=' item-locked="true" '),o&&(t+=' item-disabled="true" '),a&&(t+=' item-selected="true" '),h&&(t+=' item-iconsize="'+e.iconsize+'" '),null!=l&&void 0!=l&&(t+=' item-icon="'+l+'" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),void 0!=e.checked&&(t+=' item-checked="'+n+'" ');var d="";return void 0!=e.id?(d=e.id,t+=' id="'+d+'" '):(d=this.createID(),t+=' id="'+d+'" '),t+=">"+i,e.items&&(t+=this.loadItems(e.items)),this._valueList||(this._valueList=new Array),this._valueList[d]=e.value,t+="</li>"},ensureVisible:function(t){if(null!=t&&void 0!=t){var i=this.panel.jqxPanel("getVScrollPosition"),s=this.panel.jqxPanel("getHScrollPosition"),r=parseInt(this.host.height()),a=e(t).position().top;(i>=a||a>=r+i)&&this.panel.jqxPanel("scrollTo",s,a-r+e(t).outerHeight())}},_syncItems:function(t){this._visibleItems=new Array;var i=this;e.each(t,function(){var t=e(this);if("none"!=t.css("display")){var s=t.outerHeight();if(t.height()>0){var r=parseInt(t.offset().top);i._visibleItems[i._visibleItems.length]={element:this,top:r,height:s,bottom:r+s}}}})},hitTest:function(t,i){var s=this,r=null,a=this.host.find(".jqx-item");if(this._syncItems(a),s._visibleItems){var o=parseInt(s.host.offset().left),n=s.host.outerWidth();e.each(s._visibleItems,function(a){if(t>=o&&o+n>t&&this.top+5<i&&i<this.top+this.height){var l=e(this.element).parents("li:first");if(l.length>0&&(r=s.getItem(l[0]),null!=r))return r.height=this.height,r.top=this.top,!1}})}return r},addBefore:function(e,t,i){return this.addBeforeAfter(e,t,!0,i)},addAfter:function(e,t,i){return this.addBeforeAfter(e,t,!1,i)},addBeforeAfter:function(t,i,s,r){var a=this,o=new Array;i&&void 0!=i.treeInstance&&(i=i.element),e.isArray(t)?o=t:o[0]=t;var n="",l=this;e.each(o,function(){n+=l._parseItem(this)});var h=e(n);if(a.element.innerHTML.indexOf("UL"))var d=a.host.find("ul:first");void 0==i&&null==i?d.append(h):s?e(i).before(h):e(i).after(h);for(var c=h,u=0;u<c.length;u++){this._createItem(c[u]);var p=e(c[u]).find("li");if(p.length>0)for(var m=0;m<p.length;m++)this._createItem(p[m])}var f=function(t){l._refreshMapping(!1),l._updateItemsNavigation(),t&&l.allowDrag&&l._enableDragDrop&&l._enableDragDrop(),null!=l.selectedItem&&(e(l.selectedItem.titleElement).addClass(l.toThemeProperty("jqx-fill-state-pressed")),e(l.selectedItem.titleElement).addClass(l.toThemeProperty("jqx-tree-item-selected")))};return 0==r?(f(!0),void this._raiseEvent("4",{items:this.getItems()})):(f(!1),l._render(),this._raiseEvent("4",{items:this.getItems()}),void(l.checkboxes&&l._updateCheckLayout(null)))},addTo:function(t,i,s){var r=this,a=new Array;i&&void 0!=i.treeInstance&&(i=i.element),e.isArray(t)?a=t:a[0]=t;var o="",n=this;e.each(a,function(){o+=n._parseItem(this)});var l=e(o);if(r.element.innerHTML.indexOf("UL"))var h=r.host.find("ul:first");if(void 0==i&&null==i)h.append(l);else{i=e(i);var d=i.find("ul:first");if(0==d.length){ulElement=e("<ul></ul>"),e(i).append(ulElement),d=i.find("ul:first");var c=r.itemMapping["id"+i[0].id].item;c.subtreeElement=d[0],c.hasItems=!0,d.addClass(r.toThemeProperty("jqx-tree-dropdown")),n.rtl&&d.addClass(r.toThemeProperty("jqx-tree-dropdown-rtl")),d.append(l);var u=d.find("li:first");c.parentElement=u}else d.append(l)}for(var p=l,m=0;m<p.length;m++){this._createItem(p[m]);var f=e(p[m]).find("li");if(f.length>0)for(var v=0;v<f.length;v++)this._createItem(f[v])}var g=function(t){n._refreshMapping(!1),n._updateItemsNavigation(),t&&n.allowDrag&&n._enableDragDrop&&n._enableDragDrop(),null!=n.selectedItem&&(e(n.selectedItem.titleElement).addClass(n.toThemeProperty("jqx-fill-state-pressed")),e(n.selectedItem.titleElement).addClass(n.toThemeProperty("jqx-tree-item-selected")))};return 0==s?(g(!0),void this._raiseEvent("4",{items:this.getItems()})):(g(!1),n._render(),n.checkboxes&&n._updateCheckLayout(null),void this._raiseEvent("4",{items:this.getItems()}))},updateItem:function(t,i){var s=void 0!=t.treeInstance?t:this.getItem(t);if(!s){var r=t;t=i,i=r;var s=void 0!=t.treeInstance?t:this.getItem(t)}if(s){if("string"==typeof i&&(i={label:i}),i.value&&(s.value=i.value),i.label){s.label=i.label,e.jqx.utilities.html(e(s.titleElement),i.label);var a=e.jqx.browser.msie&&e.jqx.browser.version<8;if(a){e(document.body).append(this._measureItem),this._measureItem.html(e(s.titleElement).text());var o=this._measureItem.width();s.icon&&(o+=20),e(e(s.titleElement).find("img")).length>0&&(o+=20),e(s.titleElement).css("max-width",o+"px"),this._measureItem.remove()}}if(i.icon)if(e(s.element).children(".itemicon").length>0)e(s.element).find(".itemicon")[0].src=i.icon;else{
var n=i.iconsize;n||(n=16);var l=e('<img width="'+n+'" height="'+n+'" style="float: left;" class="itemicon" src="'+i.icon+'"/>');e(s.titleElement).prepend(l),l.css("margin-right","4px"),this.rtl&&(l.css("margin-right","0px"),l.css("margin-left","4px"),l.css("float","right"))}return i.expanded&&this.expandItem(s),i.disabled&&this.disableItem(s),i.selected&&this.selectItem(s),!0}return!1},removeItem:function(t,i){if(void 0!=t&&null!=t){void 0!=t.treeInstance&&(t=t.element);var s=this,r=(t.id,-1),a=this.getItem(t);if(a&&(r=this.items.indexOf(a),-1!=r&&function o(t){var i=-1;i=this.items.indexOf(t),-1!=i&&this.items.splice(i,1);var s=e(t.element).find("li"),r=s.length,a=this,n=new Array;if(r>0){e.each(s,function(e){var t=a.itemMapping["id"+this.id].item;n.push(t)});for(var l=0;l<n.length;l++)o.apply(this,[n[l]])}}.apply(this,[a])),this.host.find("#"+t.id).length>0&&e(t).remove(),0==i)return void this._raiseEvent("5");s._updateItemsNavigation(),s.allowDrag&&s._enableDragDrop?s._render(!0,!1):s._render(),null!=s.selectedItem&&s.selectedItem.element==t&&(e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-fill-state-pressed")),e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-tree-item-selected")),s.selectedItem=null),this._raiseEvent("5"),s.checkboxes&&s._updateCheckLayout(null)}},clear:function(){this.items=new Array,this.itemMapping=new Array;var e=this.host.find("ul:first");e.length>0&&(e[0].innerHTML=""),this.selectedItem=null},disableItem:function(t){if(null==t)return!1;void 0!=t.treeInstance&&(t=t.element);var i=this;e.each(i.items,function(){var s=this;return s.element==t?(s.disabled=!0,e(s.titleElement).addClass(i.toThemeProperty("jqx-fill-state-disabled")),e(s.titleElement).addClass(i.toThemeProperty("jqx-tree-item-disabled")),i.checkboxes&&s.checkBoxElement&&e(s.checkBoxElement).jqxCheckBox({disabled:!0}),!1):void 0})},_updateInputSelection:function(){if(this.input){if(null==this.selectedItem)this.input.val("");else{var e=this.selectItem.value;null==e&&(e=this.selectedItem.label),this.input.val(e)}if(this.checkboxes){var t=this.getCheckedItems();if(this.submitCheckedItems){for(var i="",s=0;s<t.length;s++){var r=t[s].value;null==r&&(r=t[s].label),i+=s==t.length-1?r:r+","}this.input.val(i)}}}},getCheckedItems:function(){var t=new Array,i=this;return e.each(i.items,function(){var e=this;e.checked&&t.push(e)}),t},getUncheckedItems:function(){var t=new Array,i=this;return e.each(i.items,function(){var e=this;e.checked||t.push(e)}),t},checkAll:function(){var t=this;e.each(t.items,function(){var t=this;t.disabled||(t.checked=!0,e(t.checkBoxElement).jqxCheckBox("_setState",!0))}),this._raiseEvent("6",{element:this,checked:!0})},uncheckAll:function(){var t=this;e.each(t.items,function(){var t=this;t.disabled||(t.checked=!1,e(t.checkBoxElement).jqxCheckBox("_setState",!1))}),this._raiseEvent("6",{element:this,checked:!1})},checkItem:function(t,i,s){if(null==t)return!1;void 0===i&&(i=!0),void 0!=t.treeInstance&&(t=t.element);var r=this,a=!1,o=null;e.each(r.items,function(){var s=this;return s.element!=t||s.disabled?void 0:(a=!0,s.checked=i,o=s,e(s.checkBoxElement).jqxCheckBox({checked:i}),!1)}),a&&(this._raiseEvent("6",{element:t,checked:i}),this._updateInputSelection()),void 0==s&&o&&this.hasThreeStates&&this.checkItems(o,o)},uncheckItem:function(e){this.checkItem(e,!1)},enableItem:function(t){if(null==t)return!1;void 0!=t.treeInstance&&(t=t.element);var i=this;e.each(i.items,function(){var s=this;return s.element==t?(s.disabled=!1,e(s.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-disabled")),e(s.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-disabled")),i.checkboxes&&s.checkBoxElement&&e(s.checkBoxElement).jqxCheckBox({disabled:!1}),!1):void 0})},enableAll:function(){var t=this;e.each(t.items,function(){var i=this;i.disabled=!1,e(i.titleElement).removeClass(t.toThemeProperty("jqx-tree-item-disabled")),e(i.titleElement).removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.checkboxes&&i.checkBoxElement&&e(i.checkBoxElement).jqxCheckBox({disabled:!1})})},lockItem:function(t){if(null==t)return!1;var i=this;e.each(i.items,function(){var e=this;return e.element==t?(e.locked=!0,!1):void 0})},unlockItem:function(t){if(null==t)return!1;var i=this;e.each(i.items,function(){var e=this;return e.element==t?(e.locked=!1,!1):void 0})},getItems:function(){return this.items},getItem:function(e){if(null==e||void 0==e)return null;if(this.itemMapping["id"+e.id]){var t=this.itemMapping["id"+e.id].item;return t}return null},isExpanded:function(e){if(null==e||void 0==e)return!1;var t=this.itemMapping["id"+e.id].item;return null!=t?t.isExpanded:!1},isSelected:function(e){if(null==e||void 0==e)return!1;var t=this.itemMapping["id"+e.id].item;return null!=t?t==this.selectedItem:!1},getPrevItem:function(e){var t=this.getItem(e);void 0!=e.treeInstance&&(t=e);var i=this._prevVisibleItem(t);return i},getNextItem:function(e){var t=this.getItem(e);void 0!=e.treeInstance&&(t=e);var i=this._nextVisibleItem(t);return i},getSelectedItem:function(e){return this.selectedItem},val:function(e){if(0==arguments.length||"object"==typeof e)return this.selectedItem;if("string"==typeof e){var t=this.host.find("#"+e);if(t.length>0){var i=this.getItem(t[0]);this.selectItem(i)}}else{var i=this.getItem(e);this.selectItem(i)}},getActiveDescendant:function(){return this.selectedItem?this.selectedItem.element.id:""},clearSelection:function(){this.selectItem(null)},selectItem:function(t){if(!this.disabled){var i=this;if(t&&void 0!=t.treeInstance&&(t=t.element),null==t||void 0==t)return void(null!=i.selectedItem&&(e(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),e(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-selected")),i.selectedItem=null));if(null==this.selectedItem||this.selectedItem.element!=t){var s=null!=this.selectedItem?this.selectedItem.element:null;s&&e(s).removeAttr("aria-selected"),e.each(i.items,function(){var s=this;this.selected=!1,s.disabled||s.element==t&&(null==i.selectedItem||null!=i.selectedItem&&i.selectedItem.titleElement!=s.titleElement)&&(null!=i.selectedItem&&(e(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-pressed")),e(i.selectedItem.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-selected"))),e(s.titleElement).addClass(i.toThemeProperty("jqx-fill-state-pressed")),e(s.titleElement).addClass(i.toThemeProperty("jqx-tree-item-selected")),i.selectedItem=s,this.selected=!0,e(s.element).attr("aria-selected","true"),e.jqx.aria(i,"aria-activedescendant",s.element.id))}),this._updateInputSelection(),this._raiseEvent("2",{element:t,prevElement:s})}}},collapseAll:function(){this.isUpdating=!0;var t=this,i=t.items,s=this.animationHideDuration;this.animationHideDuration=0,e.each(i,function(){var e=this;1==e.isExpanded&&t._collapseItem(t,e)}),setTimeout(function(){t.isUpdating=!1,t._calculateWidth()},this.animationHideDuration),this.animationHideDuration=s},expandAll:function(){var t=this;this.isUpdating=!0;var i=this.animationShowDuration;this.animationShowDuration=0,e.each(this.items,function(){var e=this;e.hasItems&&t._expandItem(t,e)}),setTimeout(function(){t.isUpdating=!1,t._calculateWidth()},this.animationShowDuration),this.animationShowDuration=i},collapseItem:function(t){if(null==t)return!1;void 0!=t.treeInstance&&(t=t.element);var i=this;return e.each(this.items,function(){var e=this;return 1==e.isExpanded&&e.element==t?(i._collapseItem(i,e),!1):void 0}),!0},expandItem:function(t){if(null==t)return!1;void 0!=t.treeInstance&&(t=t.element);var i=this;return e.each(i.items,function(){var e=this;0!=e.isExpanded||e.element!=t||e.disabled||e.locked||(i._expandItem(i,e),e.parentElement&&i.expandItem(e.parentElement))}),!0},_getClosedSubtreeOffset:function(t){var i=e(t.subtreeElement),s=-i.outerHeight(),r=-i.outerWidth();return r=0,{left:r,top:s}},_collapseItem:function(t,i,s,r){if(null==t||null==i)return!1;if(i.disabled)return!1;if(t.disabled)return!1;if(t.locked)return!1;var a=e(i.subtreeElement),o=this._getClosedSubtreeOffset(i);o.top,o.left;$treeElement=e(i.element);var n=t.animationHideDelay;n=0,null!=a.data("timer").show&&(clearTimeout(a.data("timer").show),a.data("timer").show=null);var l=function(){if(i.isExpanded=!1,t.checkboxes){var s=a.find(".chkbox");s.stop(),s.css("opacity",1),a.find(".chkbox").animate({opacity:0},50)}var r=e(i.arrow);t._arrowStyle(r,"",i.isExpanded),a.slideUp(t.animationHideDuration,function(){i.isCollapsing=!1,t._calculateWidth();var s=e(i.arrow);t._arrowStyle(s,"",i.isExpanded),a.hide(),t._raiseEvent("1",{element:i.element})})};n>0?a.data("timer").hide=setTimeout(function(){l()},n):l()},_expandItem:function(t,i){if(null==t||null==i)return!1;if(i.isExpanded)return!1;if(i.locked)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var s=e(i.subtreeElement);null!=s.data("timer")&&null!=s.data("timer").hide&&clearTimeout(s.data("timer").hide);var r=(e(i.element),0);if(parseInt(s.css("top"))==r)return void(i.isExpanded=!0);var a=e(i.arrow);if(t._arrowStyle(a,"",i.isExpanded),t.checkboxes){var o=s.find(".chkbox");o.stop(),o.css("opacity",0),o.animate({opacity:1},t.animationShowDuration)}if(s.slideDown(t.animationShowDuration,t.easing,function(){var s=e(i.arrow);i.isExpanded=!0,t._arrowStyle(s,"",i.isExpanded),i.isExpanding=!1,t._raiseEvent("0",{element:i.element}),t._calculateWidth()}),t.checkboxes&&(t._updateCheckItemLayout(i),i.subtreeElement)){var n=e(i.subtreeElement).find("li");e.each(n,function(){var e=t.getItem(this);null!=e&&t._updateCheckItemLayout(e)})}},_calculateWidth:function(){var t=this,i=this.checkboxes?20:0,s=0;if(!this.isUpdating){if(e.each(this.items,function(){var t=e(this.element).height();if(0!=t){var r=e(this.titleElement).outerWidth()+10+i+20*(1+this.level);if(s=Math.max(s,r),this.hasItems){var a=parseInt(e(this.titleElement).css("padding-top"));isNaN(a)&&(a=0),a=2*a,a+=2;var o=(a+e(this.titleElement).height())/2-8.5;e.jqx.browser.msie&&e.jqx.browser.version<9?e(this.arrow).css("margin-top","3px"):parseInt(o)>=0&&e(this.arrow).css("margin-top",parseInt(o)+"px")}}}),this.toggleIndicatorSize>16&&(s=s+this.toggleIndicatorSize-16),t.panel)if(s>this.host.width()){var r=s-this.host.width(),a="hidden"!==t.panel.jqxPanel("vScrollBar").css("visibility")?10:0;r+=a,t.panel.jqxPanel({horizontalScrollBarMax:r})}else t.panel.jqxPanel({horizontalScrollBarMax:0});this.host.find("ul:first").css({width:s});var o=this.host.width()-30;o>0&&this.host.find("ul:first").css("min-width",o),t.panel&&t.panel.jqxPanel("_arrange")}},_arrowStyle:function(e,t,i){var s=this;if(e.length>0){e.removeClass();var r="";"hover"==t&&(r="-"+t);var a=i?"-expand":"-collapse",o="jqx-tree-item-arrow"+a+r;if(e.addClass(s.toThemeProperty(o)),!this.rtl){var a=i?"-down":"-right";e.addClass(s.toThemeProperty("jqx-icon-arrow"+a))}if(this.rtl){e.addClass(s.toThemeProperty(o+"-rtl"));var a=i?"-down":"-left";e.addClass(s.toThemeProperty("jqx-icon-arrow"+a))}}},_initialize:function(t,i){var s=this;this.host.addClass(s.toThemeProperty("jqx-widget")),this.host.addClass(s.toThemeProperty("jqx-widget-content")),this.host.addClass(s.toThemeProperty("jqx-tree")),this._updateDisabledState();var r=e.jqx.browser.msie&&e.jqx.browser.version<8;e.each(this.items,function(){var t=this;$element=e(t.element);var i=null;if(s.checkboxes&&!t.hasItems&&t.checkBoxElement&&e(t.checkBoxElement).css("margin-left","0px"),r)!t.hasItems&&e(t.element).find("ul").length>0&&e(t.element).find("ul").remove();else{if(!t.hasItems){s.rtl?t.element.style.marginRight=parseInt(s.toggleIndicatorSize)+"px":t.element.style.marginLeft=parseInt(s.toggleIndicatorSize)+"px";var a=e(t.arrow);return a.length>0&&(a.remove(),t.arrow=null),!0}s.rtl?t.element.style.marginRight="0px":t.element.style.marginLeft="0px"}var a=e(t.arrow);a.length>0&&a.remove(),i=e('<span style="height: 17px; border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),i.prependTo($element),s.rtl?i.css("float","right"):i.css("float","left"),i.css("clear","both"),i.css({width:s.toggleIndicatorSize}),s._arrowStyle(i,"",t.isExpanded);var o=parseInt(e(this.titleElement).css("padding-top"));isNaN(o)&&(o=0),o=2*o,o+=2;var n=(o+e(this.titleElement).height())/2-8.5;e.jqx.browser.msie&&e.jqx.browser.version<9?i.css("margin-top","3px"):parseInt(n)>=0&&i.css("margin-top",parseInt(n)+"px"),$element.addClass(s.toThemeProperty("jqx-disableselect")),i.addClass(s.toThemeProperty("jqx-disableselect"));var l="click",h=s.isTouchDevice();h&&(l=e.jqx.mobile.getTouchEventName("touchend")),s.addHandler(i,l,function(){return t.isExpanded?s._collapseItem(s,t):s._expandItem(s,t),!1}),s.addHandler(i,"selectstart",function(){return!1}),s.addHandler(i,"mouseup",function(){return h?void 0:!1}),t.hasItems=e(t.element).find("li").length>0,t.arrow=i[0],t.hasItems||i.css("visibility","hidden"),$element.css("float","none")})},_getOffset:function(t){var i=e(window).scrollTop(),s=e(window).scrollLeft(),r=e.jqx.mobile.isSafariMobileBrowser(),a=e(t).offset(),o=a.top,n=a.left;return null!=r&&r?{left:n-s,top:o-i}:e(t).offset()},_renderHover:function(t,i,s){var r=this;if(!s){var a=e(i.titleElement);r.addHandler(a,"mouseenter",function(){i.disabled||!r.enableHover||r.disabled||(a.addClass(r.toThemeProperty("jqx-fill-state-hover")),a.addClass(r.toThemeProperty("jqx-tree-item-hover")))}),r.addHandler(a,"mouseleave",function(){i.disabled||!r.enableHover||r.disabled||(a.removeClass(r.toThemeProperty("jqx-fill-state-hover")),a.removeClass(r.toThemeProperty("jqx-tree-item-hover")))})}},_updateDisabledState:function(){this.disabled?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},_addInput:function(){if(null==this.input){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t),this._updateInputSelection()}},render:function(){this._updateItemsNavigation(),this._render()},_render:function(t,i){if(e.jqx.browser.msie&&e.jqx.browser.version<8){var s=this;e.each(this.items,function(){var t=e(this.element),i=t.parent(),s=parseInt(this.titleElement.css("margin-left"))+this.titleElement[0].scrollWidth+13;t.css("min-width",s);var r=parseInt(i.css("min-width"));isNaN(r)&&(r=0);var a=t.css("min-width");r<parseInt(t.css("min-width"))&&i.css("min-width",a),this.titleElement[0].style.width=null})}var s=this;e.data(s.element,"animationHideDelay",s.animationHideDelay),e.data(document.body,"treeel",this),this._initialize();var r=this.isTouchDevice();if(r&&"dblclick"==this.toggleMode&&(this.toggleMode="click"),(void 0==t||1==t)&&e.each(this.items,function(){s._updateItemEvents(s,this)}),this.allowDrag&&this._enableDragDrop&&(void 0==i||1==i)&&this._enableDragDrop(),this._addInput(),this.host.jqxPanel){if(this.host.find("#panel"+this.element.id).length>0)return this.panel.jqxPanel({touchMode:this.touchMode}),void this.panel.jqxPanel("refresh");this.host.find("ul:first").wrap('<div style="background-color: transparent; overflow: hidden; width: 100%; height: 100%;" id="panel'+this.element.id+'"></div>');var a=this.host.find("div:first"),o="fixed";(null==this.height||"auto"==this.height)&&(o="verticalwrap"),(null==this.width||"auto"==this.width)&&(o="fixed"==o?"horizontalwrap":"wrap"),a.jqxPanel({rtl:this.rtl,theme:this.theme,width:"100%",height:"100%",touchMode:this.touchMode,sizeMode:o}),e.jqx.browser.msie&&e.jqx.browser.version<8&&a.jqxPanel("content").css("left","0px"),a.data({nestedWidget:!0}),(null==this.height||null!=this.height&&-1!=this.height.toString().indexOf("%"))&&this.isTouchDevice()&&(this.removeHandler(a,e.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(a,e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(a,e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var n=e.data(a[0],"jqxPanel").instance;null!=n&&(this.vScrollInstance=n.vScrollInstance,this.hScrollInstance=n.hScrollInstance),this.panelInstance=n,e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.host.attr("hideFocus",!0),this.host.find("div").attr("hideFocus",!0),this.host.find("ul").attr("hideFocus",!0)),a[0].className="",this.panel=a}this._raiseEvent("3",this)},focus:function(){try{this.host.focus()}catch(e){}},_updateItemEvents:function(t,i){var s=this.isTouchDevice();s&&(this.toggleMode=e.jqx.mobile.getTouchEventName("touchend"));var r=e(i.element);t.enableRoundedCorners&&r.addClass(t.toThemeProperty("jqx-rc-all"));var a=s?e.jqx.mobile.getTouchEventName("touchend"):"mousedown";t.touchMode===!0&&t.removeHandler(e(i.checkBoxElement),"mousedown"),t.removeHandler(e(i.checkBoxElement),a),t.addHandler(e(i.checkBoxElement),a,function(e){return t.disabled||this.treeItem.disabled||(this.treeItem.checked=!this.treeItem.checked,t.checkItem(this.treeItem.element,this.treeItem.checked,"tree"),t.hasThreeStates&&t.checkItems(this.treeItem,this.treeItem)),!1});var o=e(i.titleElement);t.removeHandler(r);var n=this.allowDrag&&this._enableDragDrop;n?(t.removeHandler(o,"mousedown.item"),t.removeHandler(o,"click"),t.removeHandler(o,"dblclick"),t.removeHandler(o,"mouseenter"),t.removeHandler(o,"mouseleave")):t.removeHandler(o),t._renderHover(r,i,s);var l=e(i.subtreeElement);if(l.length>0){var h=i.isExpanded?"block":"none";l.css({overflow:"hidden",display:h}),l.data("timer",{})}t.addHandler(o,"selectstart",function(e){return!1}),e.jqx.browser.opera&&t.addHandler(o,"mousedown.item",function(e){return!1}),"click"!=t.toggleMode&&t.addHandler(o,"click",function(e){t.selectItem(i.element),null!=t.panel&&t.panel.jqxPanel({focused:!0}),o.focus()}),t.addHandler(o,t.toggleMode,function(e){return l.length>0&&clearTimeout(l.data("timer").hide),null!=t.panel&&t.panel.jqxPanel({focused:!0}),t.selectItem(i.element),void 0==i.isExpanding&&(i.isExpanding=!1),void 0==i.isCollapsing&&(i.isCollapsing=!1),l.length>0?(i.isExpanded?0==i.isCollapsing&&(i.isCollapsing=!0,t._collapseItem(t,i,!0)):0==i.isExpanding&&(i.isExpanding=!0,t._expandItem(t,i)),!1):void 0})},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),this._isTouchDevice=t,t},createID:function(){return e.jqx.utilities.createId()},createTree:function(t){if(null!=t){var i=this,s=e(t).find("li");this.items=new Array,this.itemMapping=new Array,e(t).addClass(i.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&e(t).addClass(i.toThemeProperty("jqx-tree-dropdown-root-rtl")),(this.rtl||e.jqx.browser.msie&&e.jqx.browser.version<8)&&(this._measureItem=e("<span style='position: relative; visibility: hidden;'></span>"),this._measureItem.addClass(this.toThemeProperty("jqx-widget")),this._measureItem.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._measureItem.addClass(this.toThemeProperty("jqx-tree-item")),this._measureItem.addClass(this.toThemeProperty("jqx-item")),e(document.body).append(this._measureItem)),e.jqx.browser.msie&&e.jqx.browser.version<8;for(var r=0;r<s.length;r++)this._createItem(s[r]);(this.rtl||e.jqx.browser.msie&&e.jqx.browser.version<8)&&this._measureItem.remove(),this._updateItemsNavigation(),this._updateCheckStates()}},_updateCheckLayout:function(t){var i=this;this.checkboxes&&e.each(this.items,function(){(this.level==t||void 0==t)&&i._updateCheckItemLayout(this)})},_updateCheckItemLayout:function(t){if(this.checkboxes&&"none"!=e(t.titleElement).css("display")){var i=e(t.checkBoxElement),s=e(t.titleElement).outerHeight()/2-1-parseInt(this.checkSize)/2;i.css("margin-top",s),this.rtl||(e.jqx.browser.msie&&e.jqx.browser.version<8?t.titleElement.css("margin-left",parseInt(this.checkSize)+25):t.hasItems&&i.css("margin-left",this.toggleIndicatorSize))}},_updateCheckStates:function(){var t=this;t.hasThreeStates?e.each(this.items,function(){t._updateCheckState(this)}):e.each(this.items,function(){null==this.checked&&t.checkItem(this.element,!1,"tree")})},_updateCheckState:function(t){if(null!=t&&void 0!=t){var i=this,s=0,r=!1,a=0,o=e(t.element).find("li");a=o.length,t.checked&&a>0&&e.each(o,function(e){var t=i.itemMapping["id"+this.id].item,s=t.element.getAttribute("item-checked");(void 0==s||null==s||"true"==s||1==s)&&i.checkItem(t.element,!0,"tree")}),e.each(o,function(e){var t=i.itemMapping["id"+this.id].item;0!=t.checked&&(null==t.checked&&(r=!0),s++)}),a>0&&(s==a?this.checkItem(t.element,!0,"tree"):s>0?this.checkItem(t.element,null,"tree"):this.checkItem(t.element,!1,"tree"))}},_updateItemsNavigation:function(){for(var t=this.host.find("ul:first"),i=e(t).find("li"),s=0;s<i.length;s++){var r=i[s];if(this.itemMapping["id"+r.id]){var a=this.itemMapping["id"+r.id].item;if(!a)continue;a.prevItem=null,a.nextItem=null,s>0&&this.itemMapping["id"+i[s-1].id]&&(a.prevItem=this.itemMapping["id"+i[s-1].id].item),s<i.length-1&&this.itemMapping["id"+i[s+1].id]&&(a.nextItem=this.itemMapping["id"+i[s+1].id].item)}}},_applyTheme:function(t,i){var s=this;this.host.removeClass("jqx-tree-"+t),this.host.removeClass("jqx-widget-"+t),this.host.removeClass("jqx-widget-content-"+t),this.host.addClass(s.toThemeProperty("jqx-tree")),this.host.addClass(s.toThemeProperty("jqx-widget"));var r=this.host.find("ul:first");e(r).removeClass(s.toThemeProperty("jqx-tree-dropdown-root-"+t)),e(r).addClass(s.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&(e(r).removeClass(s.toThemeProperty("jqx-tree-dropdown-root-rtl-"+t)),e(r).addClass(s.toThemeProperty("jqx-tree-dropdown-root-rtl")));for(var a=e(r).find("li"),o=0;o<a.length;o++){var n=a[o];e(n).children().each(function(){return"ul"==this.tagName||"UL"==this.tagName?(e(this).removeClass(s.toThemeProperty("jqx-tree-dropdown-"+t)),e(this).addClass(s.toThemeProperty("jqx-tree-dropdown")),s.rtl&&(e(this).removeClass(s.toThemeProperty("jqx-tree-dropdown-rtl-"+t)),e(this).addClass(s.toThemeProperty("jqx-tree-dropdown-rtl"))),!1):void 0})}e.each(this.items,function(){var r=this,a=e(r.element);a.removeClass(s.toThemeProperty("jqx-tree-item-li-"+t)),a.addClass(s.toThemeProperty("jqx-tree-item-li")),this.rtl&&(a.removeClass(s.toThemeProperty("jqx-tree-item-li-"+t)),a.addClass(s.toThemeProperty("jqx-tree-item-li"))),e(r.titleElement).removeClass(s.toThemeProperty("jqx-tree-item-"+t)),e(r.titleElement).addClass(s.toThemeProperty("jqx-tree-item")),e(r.titleElement).removeClass("jqx-item-"+t),e(r.titleElement).addClass(s.toThemeProperty("jqx-item"));var o=e(r.arrow);o.length>0&&s._arrowStyle(o,"",r.isExpanded),r.checkBoxElement&&e(r.checkBoxElement).jqxCheckBox({theme:i}),s.enableRoundedCorners&&(a.removeClass("jqx-rc-all-"+t),a.addClass(s.toThemeProperty("jqx-rc-all")))}),this.host.jqxPanel&&this.panel.jqxPanel({theme:i})},_refreshMapping:function(t,i){for(var s=this.host.find("li"),r=new Array,a=new Array,o=e.data(document.body,"treeItemsStorage"),n=this,l=0;l<s.length;l++){var h=s[l],d=e(h),c=o[h.id];if(null!=c){a[a.length]=c,(void 0==t||1==t)&&this._updateItemEvents(this,c),c.level=d.parents("li").length,c.treeInstance=this;var u=null,p=null;-1!=c.titleElement[0].className.indexOf("jqx-fill-state-pressed")&&(e(c.titleElement).removeClass(n.toThemeProperty("jqx-fill-state-pressed")),e(c.titleElement).removeClass(n.toThemeProperty("jqx-tree-item-selected")));var m=d.children();m.each(function(){return"ul"==this.tagName||"UL"==this.tagName?(c.subtreeElement=this,e(this).addClass(n.toThemeProperty("jqx-tree-dropdown")),n.rtl&&e(this).addClass(n.toThemeProperty("jqx-tree-dropdown-rtl")),!1):void 0});var f=d.parents();f.each(function(){return"li"==this.tagName||"LI"==this.tagName?(p=this.id,u=this,!1):void 0}),c.parentElement=u,c.parentId=p,c.hasItems=e(c.element).find("li").length>0,null!=c&&(r[l]={element:h,item:c},r["id"+h.id]=r[l])}}this.itemMapping=r,this.items=a},_createItem:function(t){if(null!=t&&void 0!=t){var i=t.id;i||(i=this.createID());var s=t,r=e(t);s.id=i;var a=e.data(document.body,"treeItemsStorage");void 0==a&&(a=new Array);var o=this.items.length;this.items[o]=new e.jqx._jqxTree.jqxTreeItem,this.treeElements[i]=this.items[o],a[s.id]=this.items[o],e.data(document.body,"treeItemsStorage",a),o=this.items.length;var n=0,l=this,h=null;r.attr("role","treeitem"),r.children().each(function(){return"ul"==this.tagName||"UL"==this.tagName?(l.items[o-1].subtreeElement=this,e(this).addClass(l.toThemeProperty("jqx-tree-dropdown")),l.rtl&&(e(this).addClass(l.toThemeProperty("jqx-tree-dropdown-rtl")),e(this).css("clear","both")),!1):void 0}),r.parents().each(function(){return"li"==this.tagName||"LI"==this.tagName?(n=this.id,h=this,!1):void 0});var d=t.getAttribute("item-expanded");d=null==d||void 0==d||"true"!=d&&1!=d?!1:!0,s.removeAttribute("item-expanded");var c=t.getAttribute("item-locked");c=null==c||void 0==c||"true"!=c&&1!=c?!1:!0,s.removeAttribute("item-locked");var u=t.getAttribute("item-selected");u=null==u||void 0==u||"true"!=u&&1!=u?!1:!0,s.removeAttribute("item-selected");var p=t.getAttribute("item-disabled");p=null==p||void 0==p||"true"!=p&&1!=p?!1:!0,s.removeAttribute("item-disabled");var m=t.getAttribute("item-checked");m=null==m||void 0==m||"true"!=m&&1!=m?!1:!0;var f=t.getAttribute("item-title");(null==f||void 0==f||"true"!=f&&1!=f)&&(f=!1),s.removeAttribute("item-title");var v=t.getAttribute("item-icon"),g=t.getAttribute("item-iconsize"),x=t.getAttribute("item-label"),b=t.getAttribute("item-value");s.removeAttribute("item-icon"),s.removeAttribute("item-iconsize"),s.removeAttribute("item-label"),s.removeAttribute("item-value");var y=this.items[o-1];y.id=i,void 0==y.value&&(this._valueList&&this._valueList[i]?y.value=this._valueList[i]:y.value=b),y.icon=v,y.iconsize=g,y.parentId=n,y.disabled=p,y.parentElement=h,y.element=t,y.locked=c,y.selected=u,y.checked=m,y.isExpanded=d,y.treeInstance=this,this.itemMapping[o-1]={element:s,item:y},this.itemMapping["id"+s.id]=this.itemMapping[o-1];var w=!1,_=!1;if(w=!1,this.rtl&&(e(y.element).css("float","right"),e(y.element).css("clear","both")),!w||!_)if(e(s.firstChild).length>0){if(y.icon){var g=y.iconsize;g||(g=16);var v=e('<img width="'+g+'" height="'+g+'" style="float: left;" class="itemicon" src="'+y.icon+'"/>');e(s).prepend(v),v.css("margin-right","4px"),this.rtl&&(v.css("margin-right","0px"),v.css("margin-left","4px"),v.css("float","right"))}var T=s.innerHTML.indexOf("<ul");if(-1==T&&(T=s.innerHTML.indexOf("<UL")),-1==T)y.originalTitle=s.innerHTML,s.innerHTML='<div style="display: inline-block;">'+s.innerHTML+"</div>",y.titleElement=e(e(s)[0].firstChild);else{var j=s.innerHTML.substring(0,T);j=e.trim(j),y.originalTitle=j,j=e('<div style="display: inline-block;">'+j+"</div>");var q=e(s).find("ul:first");q.remove(),s.innerHTML="",e(s).prepend(j),e(s).append(q),y.titleElement=j,this.rtl&&(j.css("float","right"),q.css("padding-right","10px"))}if(e.jqx.browser.msie&&e.jqx.browser.version<8){e(e(s)[0].firstChild).css("display","inline-block");var I=!1;0==this._measureItem.parents().length&&(e(document.body).append(this._measureItem),I=!0),this._measureItem.css("min-width","20px"),this._measureItem[0].innerHTML=e(y.titleElement).text();var C=this._measureItem.width();y.icon&&(C+=20),e(e(item.titleElement).find("img")).length>0&&(C+=20),e(e(s)[0].firstChild).css("max-width",C+"px"),I&&this._measureItem.remove()}}else y.originalTitle="Item",e(s).append(e("<span>Item</span>")),e(s.firstChild).wrap("<span/>"),y.titleElement=e(s)[0].firstChild,e.jqx.browser.msie&&e.jqx.browser.version<8&&e(s.firstChild).css("display","inline-block");var S=e(y.titleElement),D=this.toThemeProperty("jqx-rc-all");if(this.allowDrag&&S.addClass("draggable"),null==x||void 0==x?(x=y.titleElement,y.label=e.trim(S.text())):y.label=x,e(s).addClass(this.toThemeProperty("jqx-tree-item-li")),this.rtl&&e(s).addClass(this.toThemeProperty("jqx-tree-item-li-rtl")),D+=" "+this.toThemeProperty("jqx-tree-item")+" "+this.toThemeProperty("jqx-item"),this.rtl&&(D+=" "+this.toThemeProperty("jqx-tree-item-rtl")),S[0].className=S[0].className+" "+D,y.level=e(t).parents("li").length,y.hasItems=e(t).find("li").length>0,this.rtl&&y.parentElement&&!this.checkboxes,this.checkboxes){if(!this.host.jqxCheckBox)throw new Error("jqxTree: Missing reference to jqxcheckbox.js.");var k=e('<div style="position: absolute; width: 18px; height: 18px;" tabIndex=0 class="chkbox"/>');if(k.css({width:parseInt(this.checkSize)}),k.css({height:parseInt(this.checkSize)}),e(s).prepend(k),this.rtl&&(k.css("float","right"),k.css("position","static")),k.jqxCheckBox({hasInput:!1,checked:y.checked,boxSize:this.checkSize,animationShowDelay:0,animationHideDelay:0,disabled:p,theme:this.theme}),this.rtl){var P=5;y.parentElement?k.css("margin-right",P+5+"px"):k.css("margin-right",P+"px")}else S.css("margin-left",parseInt(this.checkSize)+6);y.checkBoxElement=k[0],k[0].treeItem=y;var H=S.outerHeight()/2-1-parseInt(this.checkSize)/2;k.css("margin-top",H),e.jqx.browser.msie&&e.jqx.browser.version<8?(S.css("width","1%"),S.css("margin-left",parseInt(this.checkSize)+25)):y.hasItems&&(this.rtl||k.css("margin-left",this.toggleIndicatorSize))}else e.jqx.browser.msie&&e.jqx.browser.version<8&&S.css("width","1%");p&&this.disableItem(y.element),u&&this.selectItem(y.element),e.jqx.browser.msie&&e.jqx.browser.version<8&&(e(s).css("margin","0px"),e(s).css("padding","0px"))}},destroy:function(){this.removeHandler(e(window),"resize.jqxtree"+this.element.id),this.host.removeClass(),this.isTouchDevice()&&(this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var t=this,i=this.isTouchDevice();e.each(this.items,function(){var s=this,r=e(this.element),a=i?e.jqx.mobile.getTouchEventName("touchend"):"click";t.removeHandler(e(s.checkBoxElement),a);var o=e(s.titleElement);t.removeHandler(r);var n=t.allowDrag&&t._enableDragDrop;n?(t.removeHandler(o,"mousedown.item"),t.removeHandler(o,"click"),t.removeHandler(o,"dblclick"),t.removeHandler(o,"mouseenter"),t.removeHandler(o,"mouseleave")):t.removeHandler(o),$arrowSpan=e(s.arrow),$arrowSpan.length>0&&(t.removeHandler($arrowSpan,a),t.removeHandler($arrowSpan,"selectstart"),t.removeHandler($arrowSpan,"mouseup"),i||(t.removeHandler($arrowSpan,"mouseenter"),t.removeHandler($arrowSpan,"mouseleave")),t.removeHandler(o,"selectstart")),e.jqx.browser.opera&&t.removeHandler(o,"mousedown.item"),"click"!=t.toggleMode&&t.removeHandler(o,"click"),t.removeHandler(o,t.toggleMode)}),this.panel&&(this.panel.jqxPanel("destroy"),this.panel=null),this.host.remove()},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var s=this.events[t];args=i,args.owner=this;var r=new e.Event(s);r.owner=this,r.args=args;var a=this.host.trigger(r);return a},propertyChangedHandler:function(t,i,s,r){if(void 0!=this.isInitialized&&0!=this.isInitialized){if("submitCheckedItems"==i&&t._updateInputSelection(),"disabled"==i&&t._updateDisabledState(),"theme"==i&&t._applyTheme(s,r),"keyboardNavigation"==i&&(t.enableKeyboardNavigation=r),("width"==i||"height"==i)&&(t.refresh(),t._initialize(),t._calculateWidth(),t.host.jqxPanel)){var a="fixed";(null==this.height||"auto"==this.height)&&(a="verticalwrap"),(null==this.width||"auto"==this.width)&&(a="fixed"==a?"horizontalwrap":"wrap"),t.panel.jqxPanel({sizeMode:a})}if("touchMode"==i&&(t._isTouchDevice=null,r&&(t.enableHover=!1),t._render()),("source"==i||"checkboxes"==i)&&null!=this.source){var o=[];e.each(t.items,function(){this.isExpanded&&(o[o.length]={label:this.label,level:this.level})});var n=t.loadItems(t.source);t.host.jqxPanel?t.panel.jqxPanel("setcontent",n):t.element.innerHTML=n;var l=t.disabled,h=t.host.find("ul:first");h.length>0&&(t.createTree(h[0]),t._render());var d=t,c=d.animationShowDuration;d.animationShowDuration=0,t.disabled=!1,o.length>0&&e.each(t.items,function(){for(var e=0;e<o.length;e++)if(o[e].label==this.label&&o[e].level==this.level){
var t=d.getItem(this.element);d._expandItem(d,t)}}),t.disabled=l,d.animationShowDuration=c}"hasThreeStates"==i&&(t._render(),t._updateCheckStates()),"toggleIndicatorSize"==i&&(t._updateCheckLayout(),t._render())}}})}(jqxBaseFramework),function(e){e.jqx._jqxTree.jqxTreeItem=function(e,t,i){var s={label:null,id:e,parentId:t,parentElement:null,parentItem:null,disabled:!1,selected:!1,locked:!1,checked:!1,level:0,isExpanded:!1,hasItems:!1,element:null,subtreeElement:null,checkBoxElement:null,titleElement:null,arrow:null,prevItem:null,nextItem:null};return s}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxValidator","",{}),e.extend(e.jqx._jqxValidator.prototype,{defineInstance:function(){var t={rules:null,scroll:!0,focus:!0,scrollDuration:300,scrollCallback:null,position:e.jqx.utilities.validator_position,arrow:!1,animation:"fade",animationDuration:150,closeOnClick:!0,onError:null,onSuccess:null,ownerElement:null,_events:["validationError","validationSuccess"],hintPositionOffset:e.jqx.utilities.validator_hintPositionOffset,_inputHint:[],rtl:!1,hintType:"tooltip",useHintRender:!1};return e.extend(!0,this,t),t},createInstance:function(){if("label"==this.hintType&&150==this.animationDuration&&(this.animationDuration=0),this.useHintRender){for(var t=function(t,i){var s=e(i).closest(".bh-row");s.addClass(this.toThemeProperty("jqx-validator-error-container")),e(i).addClass(this.toThemeProperty("jqx-validator-error-control"));var r=e('<div class="bh-form-group jqx-validator-error-info bh-pv-4">'+t+"</div>"),a=e(i).closest(".bh-form-group");if(a.length>0){var o,n,l;if(o=a.attr("class"),n=/bh-col-(\w|[-])+/gi,l=o.match(n),l&&l.length>0){var h=l[l.length-1],d=h.split("-"),c=parseInt(d[d.length-1],10);d[d.length-1]=12-c;var u=d.join("-");r.addClass(this.toThemeProperty(u))}}return s.append(r),r},i=0;i<this.rules.length;i++)this.rules[i].hintRender=t;this.animationDuration=0}this._configureInputs(),this._removeEventListeners(),this._addEventListeners()},destroy:function(){this._removeEventListeners(),this.hide()},validate:function(t){var i,s,r,a,o=!0,n=1/0,l=[];this.updatePosition();for(var h=this,d=0,c=0;c<this.rules.length;c+=1)"function"==typeof this.rules[c].rule&&d++;this.positions=new Array;for(var c=0;c<this.rules.length;c+=1){e(this.rules[c].input);if("function"==typeof this.rules[c].rule){var u=function(c,u){if(i=c,0==i){o=!1;e(u.input);a=e(u.input,e(h.element)),l.push(a);var p=a.offset();p&&(s=p.top,n>s&&(n=s,r=a))}d--,0==d&&"function"==typeof t&&(h._handleValidation(o,n,r,l),t&&t(o))};this._validateRule(this.rules[c],u)}else i=this._validateRule(this.rules[c]);if(0==i){o=!1,a=e(this.rules[c].input,e(this.element)),l.push(a);var p=a.offset();p&&(s=p.top,n>s&&(n=s,r=a))}}return 0==d?(this._handleValidation(o,n,r,l),o):void 0},validateInput:function(e){for(var t=this._getRulesForInput(e),i=!0,s=0;s<t.length;s+=1)this._validateRule(t[s])||(i=!1);return i},hideHint:function(e){for(var t=this._getRulesForInput(e),i=0;i<t.length;i+=1)this._hideHintByRule(t[i])},hide:function(){for(var e,t=0;t<this.rules.length;t+=1)e=this.rules[t],this._hideHintByRule(this.rules[t])},updatePosition:function(){var t;this.positions=new Array;for(var i=0;i<this.rules.length;i+=1)t=this.rules[i],t.hint&&this._hintLayout(t.hint,e(t.input),t.position,t)},_getRulesForInput:function(e){for(var t=[],i=0;i<this.rules.length;i+=1)this.rules[i].input===e&&t.push(this.rules[i]);return t},_validateRule:function(t,i){var s,r=this,a=e(t.input,e(r.element)),o=!0,n=function(o){if(o)r._hideHintByRule(t),i&&i(!0,t);else{var n=r.animation;if(r.animation=null,t.hint&&r._hideHintByRule(t),"none"==e(a).css("display"))return void r._hideHintByRule(t);if(0==e(a).parents().length)return void r._hideHintByRule(t);s=t.hintRender.apply(r,[t.message,a]),r._hintLayout(s,a,t.position,t),r._showHint(s),t.hint=s,r._removeLowPriorityHints(t),i&&i(!1,t),r.animation=n}},l=!1;return"function"==typeof t.rule&&(l=t.rule.call(this,a,n),1==l&&i&&i(!0,t)),"function"==typeof t.rule&&0==l?("function"!=typeof t.hintRender||t.hint||this._higherPriorityActive(t)||!a.is(":visible")||(s=t.hintRender.apply(this,[t.message,a]),this._removeLowPriorityHints(t),this._hintLayout(s,a,t.position,t),this._showHint(s),t.hint=s),o=!1,i&&i(!1,t)):this._hideHintByRule(t),o},_hideHintByRule:function(t){var i,s=e(t.input),r=this,a=function(){if(r.useHintRender){var t=e(s).closest(".bh-row");return void(t.length>0&&0==t.children(".jqx-validator-error-info").length&&(t.removeClass("jqx-validator-error-container"),e(s).removeClass("jqx-validator-error-control")))}if("label"==r.hintType){var i=r;if("top"==i.position||"left"==i.position){if(s.prev().hasClass(".jqx-validator-error-label"))return}else if(s.next().hasClass(".jqx-validator-error-label"))return;"input"!=s[0].nodeName.toLowerCase()?s.find("input").length>0&&(s.find(".jqx-input").length>0?s.find(".jqx-input").removeClass(i.toThemeProperty("jqx-validator-error-element")):s.is(".jqx-checkbox")&&s.find(".jqx-checkbox-default").removeClass(i.toThemeProperty("jqx-validator-error-element")),s.is(".jqx-radiobutton")?s.find(".jqx-radiobutton-default").removeClass(i.toThemeProperty("jqx-validator-error-element")):s.removeClass(i.toThemeProperty("jqx-validator-error-element"))):s.removeClass(i.toThemeProperty("jqx-validator-error-element"))}};t&&(i=t.hint,i&&(this.positions&&this.positions[Math.round(i.offset().top)+"_"+Math.round(i.offset().left)]&&(this.positions[Math.round(i.offset().top)+"_"+Math.round(i.offset().left)]=null),"fade"===this.animation?i.fadeOut(this.animationDuration,function(){i.remove(),a()}):(i.remove(),a())),t.hint=null)},_handleValidation:function(e,t,i,s){e?(this._raiseEvent(1),"function"==typeof this.onSuccess&&this.onSuccess()):(this._scrollHandler(t),this.focus&&i.focus(),this._raiseEvent(0,{invalidInputs:s}),"function"==typeof this.onError&&this.onError(s))},_scrollHandler:function(t){if(this.scroll){var i=this;e("html,body").animate({scrollTop:t},this.scrollDuration,function(){"function"==typeof i.scrollCallback&&i.scrollCallback.call(i)})}},_higherPriorityActive:function(e){for(var t,i=!1,s=this.rules.length-1;s>=0;s-=1){if(t=this.rules[s],i&&t.input===e.input&&t.hint)return!0;t===e&&(i=!0)}return!1},_removeLowPriorityHints:function(e){for(var t,i=!1,s=0;s<this.rules.length;s+=1)t=this.rules[s],i&&t.input===e.input&&this._hideHintByRule(t),t===e&&(i=!0)},_getHintRuleByInput:function(t){for(var i,s=0;s<this.rules.length;s+=1)if(i=this.rules[s],e(i.input)[0]===t[0]&&i.hint)return i;return null},_removeEventListeners:function(){for(var t,i,s,r=0;r<this.rules.length;r+=1){t=this.rules[r],s=t.action.split(","),i=e(t.input);for(var a=0;a<s.length;a+=1)this.removeHandler(i,e.trim(s[a])+".jqx-validator")}},_addEventListeners:function(){var t,i;if(this.host.parents(".jqx-window").length>0){var s=this,r=function(){s.updatePosition()},a=this.host.parents(".jqx-window");this.addHandler(a,"closed",function(){s.hide()}),this.addHandler(a,"moved",r),this.addHandler(a,"moving",r),this.addHandler(a,"resized",r),this.addHandler(a,"resizing",r),this.addHandler(e(document.parentWindow),"scroll",function(){s.scroll&&r()})}for(var o=0;o<this.rules.length;o+=1)t=this.rules[o],i=e(t.input),this._addListenerTo(i,t)},_addListenerTo:function(t,i){var s=this,r=i.action.split(","),a=!1;this._isjQWidget(t)&&(a=!0);for(var o=0;o<r.length;o+=1){var n=e.trim(r[o]);!a||"blur"!=n&&"focus"!=n||t&&"input"!=t[0].nodeName.toLowerCase()&&(t=t.find("input")),this.addHandler(t,n+".jqx-validator",function(e){s._validateRule(i)})}},_configureInputs:function(){this.rules=this.rules||[];for(var e=0;e<this.rules.length;e+=1)this._handleInput(e)},_handleInput:function(e){var t=this.rules[e];t.position||(t.position=this.position),t.message||(t.message="Validation Failed!"),t.action||(t.action="blur"),t.hintRender||(t.hintRender=this._hintRender),t.rule?this._handleRule(t):t.rule=null},_handleRule:function(e){var t,i,s=e.rule,r=!1;if("string"==typeof s?(s.indexOf("=")>=0&&(s=s.split("="),i=s[1].split(","),s=s[0]),t=this["_"+s],t?e.rule=function(e,s){return t.apply(this,[e].concat(i))}:r=!0):"function"!=typeof s?r=!0:e.rule=s,r)throw new Error("Wrong parameter!")},_required:function(t){switch(this._getType(t)){case"textarea":case"password":case"jqx-input":case"text":var i=e.data(t[0]);if(i.jqxMaskedInput){var s=t.jqxMaskedInput("promptChar"),r=t.jqxMaskedInput("value");return r&&r.indexOf(s)<0}return i.jqxNumberInput?""!==t.jqxNumberInput("inputValue"):i.jqxDateTimeInput?!0:""!==e.trim(t.val());case"checkbox":return t.is(":checked");case"radio":return t.is(":checked");case"div":return t.is(".jqx-checkbox")?t.jqxCheckBox("checked"):t.is(".jqx-radiobutton")?t.jqxRadioButton("checked"):"radiolist"==t.attr("xtype")?e("input[type=radio]",t).is(":checked"):"checkboxlist"==t.attr("xtype")?e("input[type=checkbox]",t).is(":checked"):!1}return!1},_notNumber:function(e){return this._validateText(e,function(e){if(""==e)return!0;var t=/\d/;return!t.test(e)})},_startWithLetter:function(e){return this._validateText(e,function(e){if(""==e)return!0;var t=/\d/;return!t.test(e.substring(0,1))})},_number:function(e){return this._validateText(e,function(e){if(""==e)return!0;var t=new Number(e);return!isNaN(t)&&isFinite(t)})},_phone:function(e){return this._validateText(e,function(e){if(""==e)return!0;var t=/^\(\d{3}\)(\d){3}-(\d){4}$/;return t.test(e)})},_length:function(e,t,i){return this._minLength(e,t)&&this._maxLength(e,i)},_maxLength:function(e,t){return t=parseInt(t,10),this._validateText(e,function(e){return e.length<=t})},_minLength:function(e,t){return t=parseInt(t,10),this._validateText(e,function(e){return e.length>=t})},_email:function(e){return this._validateText(e,function(e){if(""==e)return!0;var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)})},_zipCode:function(e){return this._validateText(e,function(e){if(""==e)return!0;var t=/^(^\d{5}$)|(^\d{5}-\d{4}$)|(\d{3}-\d{2}-\d{4})$/;return t.test(e)})},_ssn:function(e){return this._validateText(e,function(e){if(""==e)return!0;var t=/\d{3}-\d{2}-\d{4}/;return t.test(e)})},_validateText:function(e,t){var i;return this._isTextInput(e)?(i=this._isjQWidget(e)&&e.find("input").length>0?e.find("input").val():e.val(),t(i)):!1},_isjQWidget:function(t){var i=e.data(t[0]);return i.jqxMaskedInput||i.jqxNumberInput||i.jqxDateTimeInput?!0:!1},_isTextInput:function(e){var t=this._getType(e);return"text"===t||"textarea"===t||"password"===t||e.is(".jqx-input")},_getType:function(t){if(t[0]){var i,s=t[0].tagName.toLowerCase();return"textarea"===s?"textarea":t.is(".jqx-input")?"jqx-input":"input"===s?i=e(t).attr("type")?e(t).attr("type").toLowerCase():"text":s}},_hintRender:function(t,i){if("label"==this.hintType){var s=e('<label class="'+this.toThemeProperty("jqx-validator-error-label")+'"></label>');s.html(t);var r=this;return this.closeOnClick&&s.click(function(){r.hideHint(i.selector)}),"left"==this.position||"top"==this.position?s.insertBefore(e(i)):s.insertAfter(e(i)),s}var s=e('<div class="'+this.toThemeProperty("jqx-validator-hint")+' jqx-rc-all"></div>'),a=this;return s.html(t),this.closeOnClick&&s.click(function(){a.hideHint(i.selector)}),null==this.ownerElement?s.appendTo(document.body):this.ownerElement.innerHTML?s.appendTo(e(this.ownerElement)):s.appendTo(this.ownerElement),s},_hintLayout:function(t,i,s,r){if(this._hintRender===r.hintRender){var a;if(a=this._getPosition(i,s,t,r),"label"==this.hintType){var o="2px";("left"==this.position||"top"==this.position)&&(o="-2px"),"input"!=i[0].nodeName.toLowerCase()?i.find("input").length>0&&(i.find(".jqx-input").length>0?i.find(".jqx-input").addClass(this.toThemeProperty("jqx-validator-error-element")):i.is(".jqx-checkbox")&&i.find(".jqx-checkbox-default").addClass(this.toThemeProperty("jqx-validator-error-element")),i.is(".jqx-radiobutton")?i.find(".jqx-radiobutton-default").addClass(this.toThemeProperty("jqx-validator-error-element")):i.addClass(this.toThemeProperty("jqx-validator-error-element"))):i.addClass(this.toThemeProperty("jqx-validator-error-element"));var n=e("<span></span>");n.addClass(this.toThemeProperty("jqx-validator-hint")),n.html(t.text()),n.appendTo(e(document.body));var l=n.outerWidth();return n.remove(),t.css({position:"relative",left:e(i).css("margin-left"),width:e(i).width(),top:o}),void("center"==s&&(t.css("width",l),t.css("left","0px"),t.css("margin-left","auto"),t.css("margin-right","auto")))}t.css({position:"absolute",left:a.left,top:a.top}),this.arrow&&this._addArrow(i,t,s,a)}},_showHint:function(e){e&&"fade"===this.animation&&(e.fadeOut(0),e.fadeIn(this.animationDuration))},_getPosition:function(t,i,s,r){var a,o,n=t.offset(),l=t.outerWidth(),h=t.outerHeight();if(this.rtl&&i.indexOf("left")>=0&&(i="right"),this.rtl&&i.indexOf("right")>=0&&(i="left"),null!=this.ownerElement&&(n={left:0,top:0},n.top=parseInt(n.top)+t.position().top,n.left=parseInt(n.left)+t.position().left),r&&r.hintPositionRelativeElement){var d=e(r.hintPositionRelativeElement);n=d.offset(),l=d.width(),h=d.height()}return a=i.indexOf("top")>=0?n.top-h:i.indexOf("bottom")>=0?n.top+s.outerHeight()+this.hintPositionOffset+5:n.top,o=i.indexOf("center")>=0?n.left+this.hintPositionOffset+(l-s.outerWidth())/2:i.indexOf("left")>=0?n.left-s.outerWidth()-this.hintPositionOffset:i.indexOf("right")>=0?n.left+l+this.hintPositionOffset:n.left+this.hintPositionOffset,i.indexOf(":")>=0&&(i=i.split(":")[1].split(","),o+=parseInt(i[0],10),a+=parseInt(i[1],10)),this.positions||(this.positions=new Array),this.positions[Math.round(a)+"_"+Math.round(o)]&&this.positions[Math.round(a)+"_"+Math.round(o)].top==a&&(a+=t.outerHeight()),this.positions[Math.round(a)+"_"+Math.round(o)]={left:o,top:a},{left:o,top:a}},_addArrow:function(t,i,s,r){var a,o,n=e('<div class="'+this.toThemeProperty("jqx-validator-hint-arrow")+'"></div>');this.rtl&&s.indexOf("left")>=0&&(s="right"),this.rtl&&s.indexOf("right")>=0&&(s="left"),i.children(".jqx-validator-hint-arrow").remove(),i.append(n);var l=n.outerHeight(),h=n.outerWidth(),d=i.outerHeight(),c=i.outerWidth();this._addImage(n),o=s.indexOf("top")>=0?d-l:s.indexOf("bottom")>=0?-l:(d-l)/2-l/2,s.indexOf("center")>=0?a=(c-h)/2:s.indexOf("left")>=0?a=c-h/2-1:s.indexOf("right")>=0&&(a=-h/2),(s.indexOf("topright")>=0||s.indexOf("bottomright")>=0)&&(a=0),(s.indexOf("topleft")>=0||s.indexOf("bottomleft")>=0)&&(a=c-h),n.css({position:"absolute",left:a,top:o})},_addImage:function(e){var t=e.css("background-image");t=t.replace('url("',""),t=t.replace('")',""),t=t.replace("url(",""),t=t.replace(")",""),e.css("background-image","none"),e.append('<img src="'+t+'" alt="Arrow" style="position: relative; top: 0px; left: 0px; width: '+e.width()+"px; height: "+e.height()+'px;" />')},_raiseEvent:function(t,i){var s=e.Event(this._events[t]);return s.args=i,this.host.trigger(s)},propertyChangedHandler:function(e,t,i,s){"rules"===t&&(this._configureInputs(),this._removeEventListeners(),this._addEventListeners())}})}(jqxBaseFramework),function(e){function t(t,s){var r=t.nodeName.toLowerCase();if("area"===r){var a,o=t.parentNode,n=o.name;return t.href&&n&&"map"===o.nodeName.toLowerCase()?(a=e("img[usemap=#"+n+"]")[0],!!a&&i(a)):!1}return(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"==r?t.href||s:s)&&i(t)}function i(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")||e.expr.filters.hidden(this)}).length}function s(i){var s=e.attr(i,"tabindex"),r=isNaN(s);return(r||s>=0)&&t(i,!r)}e.jqx.jqxWidget("jqxWindow","",{}),e.extend(e.jqx._jqxWindow.prototype,{defineInstance:function(){var t={height:"auto",width:200,minHeight:50,maxHeight:600,minWidth:50,maxWidth:800,showCloseButton:!0,disabled:!1,autoOpen:!0,keyboardCloseKey:"esc",title:"",content:"",draggable:!0,resizable:!0,animationType:"fade",closeAnimationDuration:250,showAnimationDuration:250,isModal:!1,position:"center",closeButtonSize:e.jqx.utilities.window_closeButtonSize,closeButtonAction:"hide",modalOpacity:.3,dragArea:null,okButton:null,cancelButton:null,dialogResult:{OK:!1,Cancel:!1,None:!0},collapsed:!1,showCollapseButton:!1,collapseAnimationDuration:150,collapseButtonSize:16,rtl:!1,keyboardNavigation:!0,headerHeight:null,_events:["created","closed","moving","moved","open","collapse","expand","open","close","resize"],initContent:null,enableResize:!0,restricter:null,autoFocus:!0,closing:null,_invalidArgumentExceptions:{invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},_enableResizeCollapseBackup:null,_enableResizeBackup:void 0,_heightBeforeCollapse:null,_minHeightBeforeCollapse:null,_mouseDown:!1,_isDragging:!1,_rightContentWrapper:null,_leftContentWrapper:null,_headerContentWrapper:null,_closeButton:null,_collapseButton:null,_title:null,_content:null,_mousePosition:{},_windowPosition:{},_modalBackground:null,_SCROLL_WIDTH:21,_visible:!0,modalBackgroundZIndex:12990,modalZIndex:18e3,zIndex:9001,_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:e.jqx.mobile.getTouchEventName("touchstart")}};return e.extend(!0,this,t),t},createInstance:function(){this.host.attr("role","dialog"),this.host.removeAttr("data-bind"),this.host.detach(),e(document.body).append(this.host);var t=this,i=function(){var i=parseInt(e(t.restricter).css("padding-top")),s=parseInt(e(t.restricter).css("padding-left")),r=parseInt(e(t.restricter).css("padding-bottom")),a=parseInt(e(t.restricter).css("padding-right")),o=e(t.restricter).coord();t.dragArea={left:s+o.left,top:i+o.top,width:1+a+e(t.restricter).width(),height:1+r+e(t.restricter).height()}};if(this.restricter&&i(),this.restricter&&(this.addHandler(e(window),"resize."+this.element.id,function(){i()}),this.addHandler(e(window),"orientationchanged."+this.element.id,function(){i()}),this.addHandler(e(window),"orientationchange."+this.element.id,function(){i()})),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._validateProperties(),this._createStructure(),this._refresh(),this.autoOpen||this.host.css("display","none"),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.isModal||this._fixWindowZIndex(),this._setStartupSettings(),this._positionWindow(),this._raiseEvent(0),this.autoOpen){this._performLayout();var s=this;this.isModal&&this._fixWindowZIndex("modal-show"),s.initContent&&(s.initContent(),s._contentInitialized=!0),this._raiseEvent(7),this._raiseEvent(9)}},refresh:function(){this._performLayout()},_setStartupSettings:function(){this.disabled&&this.disable(),this.collapsed&&(this.collapsed=!1,this.collapse(0)),this.autoOpen||(this.hide(null,.001,!0),this._visible=!1),null!==this.title&&""!==this.title&&this.setTitle(this.title),null!==this.content&&""!==this.content&&this.setContent(this.content),this.title=this._headerContentWrapper.html(),this.content=this._content.html()},_fixWindowZIndex:function(t){var i=e.data(document.body,"jqxwindows-list")||[],s=this.zIndex;if(this.isModal){i&&(i=this._removeFromArray(this.host,i),e.data(document.body,"jqxwindows-list",i));var r=e.data(document.body,"jqxwindows-modallist");if(r)if("modal-show"==t)r.push(this.host);else{var a=r.indexOf(this.host);-1!=a&&r.splice(a,1)}else if("modal-show"==t){var o=new Array;o.push(this.host),e.data(document.body,"jqxwindows-modallist",o),r=o}else e.data(document.body,"jqxwindows-modallist",new Array),r=new Array;s=this.modalZIndex;return e.each(r,function(e){if(this.data()&&this.data().jqxWindow){var t=this.data().jqxWindow.instance;t._modalBackground.css("z-index",s),t.host.css("z-index",s+1),s+=2}}),void e.data(document.body,"jqxwindow-modal",this.host)}if(this._indexOf(this.host,i)<0&&i.push(this.host),e.data(document.body,"jqxwindows-list",i),i.length>1){var n=i[i.length-2];s=parseInt(n.css("z-index"),10)+1}this.host.css("z-index",s),this._sortByStyle("z-index",i)},_validateProperties:function(){try{if(this._validateSize(),this._validateAnimationProperties(),this._validateInteractionProperties(),this._validateModalProperties(),!this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize);if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}catch(e){alert(e)}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1)throw new Error(this._invalidArgumentExceptions.invalidModalOpacity);if(this.isModal&&!this._singleModalCheck())throw new Error(this._invalidArgumentExceptions.invalidIsModal)},_validateSize:function(){if(this._validateSizeLimits(),"auto"!==this.height&&isNaN(parseInt(this.height)))throw new Error(this._invalidArgumentExceptions.invalidHeight);if("auto"!==this.width&&isNaN(parseInt(this.width)))throw new Error(this._invalidArgumentExceptions.invalidWidth);"auto"!==this.height&&this.height<this.minHeight&&(this.height=this.minHeight),this.width<this.minWidth&&(this.width=this.minWidth),"auto"!==this.height&&this.height>this.maxHeight&&(this.height=this.maxHeight),this.width>this.maxWidth&&(this.width=this.maxWidth),null!==this.dragArea&&(this.dragArea&&(null!==this.dragArea.height&&this.host.height()>this.dragArea.height||parseInt(this.height,10)>this.dragArea.height)||null!==this.dragArea.width&&this.width>this.dragArea.width||this.maxHeight>this.dragArea.height||this.maxWidth>this.dragArea.width)},_validateSizeLimits:function(){if(null==this.maxHeight&&(this.maxHeight=9999),null==this.minWidth&&(this.minWidth=0),null==this.maxWidth&&(this.maxWidth=9999),null==this.minHeight&&(this.minHeight=0),isNaN(parseInt(this.minHeight)))throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(isNaN(parseInt(this.maxHeight)))throw new Error(this._invalidArgumentExceptions.invalidMaxHeight);if(isNaN(parseInt(this.minWidth)))throw new Error(this._invalidArgumentExceptions.invalidMinWidth);if(isNaN(parseInt(this.maxWidth)))throw new Error(this._invalidArgumentExceptions.invalidMaxWidth);if(this.minHeight>this.maxHeight)throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(this.minWidth>this.maxWidth)throw new Error(this._invalidArgumentExceptions.invalidMinWidth)},_validateAnimationProperties:function(){if("fade"!==this.animationType&&"slide"!==this.animationType&&"combined"!==this.animationType&&"none"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(isNaN(parseInt(this.closeAnimationDuration),10)||this.closeAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration);if(isNaN(parseInt(this.showAnimationDuration),10)||this.showAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&"esc"!==this.keyCode)throw new Error(this._invalidArgumentExceptions.invalidKeyCode);if(null!==this.dragArea&&("undefined"==typeof this.dragArea.width||"undefined"==typeof this.dragArea.height||"undefined"==typeof this.dragArea.left||"undefined"==typeof this.dragArea.top))throw new Error(this._invalidArgumentExceptions.invalidDragArea);if(!this.dialogResult||!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)throw new Error(this._invalidArgumentExceptions.invalidDialogResult);if("hide"!==this.closeButtonAction&&"close"!==this.closeButtonAction)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)},_singleModalCheck:function(){for(var t=e.data(document.body,"jqxwindows-list")||[],i=t.length;i;)if(i-=1,e(t[i].attr("id")).length>0&&e(t[i].attr("id")).jqxWindow("isModal"))return!1;return!0},_createStructure:function(){var t=this.host.children("DIV");if(1===t.length||0===t.length)this._header=e("<div>"+this.host.attr("caption")+"</div>"),this.host.prepend(this._header),this.host.attr("caption",""),this._content=e(t[0]);else{if(2!==t.length)throw new Error("Invalid structure!");this._header=e(t[0]),this._content=e(t[1])}},_refresh:function(){this._render(),this._addStyles(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize()},_render:function(){this._addHeaderWrapper(),this._addCloseButton(),this._addCollapseButton(),this._removeModal(),this._makeModal()},_addHeaderWrapper:function(){this._headerContentWrapper||(this._header.wrapInner('<div style="float:left;"></div>'),this._headerContentWrapper=this._header.children(0),null!==this.headerHeight&&this._header.css({height:this.headerHeight}))},_addCloseButton:function(){this._closeButton||(this._closeButtonWrapper=e('<div class="'+this.toThemeProperty("jqx-window-close-button-background jqx-popover-close-button")+'"></div>'),this._closeButton=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>'),this._closeButtonWrapper.append(this._closeButton),this._header.append(this._closeButtonWrapper))},_addCollapseButton:function(){this._collapseButton||(this._collapseButtonWrapper=e('<div class="'+this.toThemeProperty("jqx-window-collapse-button-background")+'"></div>'),this._collapseButton=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-collapse-button")+" "+this.toThemeProperty("jqx-icon-arrow-up")+'"></div>'),this._collapseButtonWrapper.append(this._collapseButton),this._header.append(this._collapseButtonWrapper))},_removeModal:function(){!this.isModal&&"object"==typeof this._modalBackground&&null!==this._modalBackground&&this._modalBackground.length>=1&&(e("."+this.toThemeProperty("jqx-window-modal")).remove(),this._modalBackground=null)},focus:function(){try{this.host.focus();var e=this;setTimeout(function(){e.host.focus()},10)}catch(t){}},_makeModal:function(){if(this.isModal&&(!this._modalBackground||this._modalBackground.length<1)){var t=e.data(document.body,"jqxwindows-list");t&&(this._removeFromArray(this.host,t),e.data(document.body,"jqxwindows-list",t)),this._modalBackground=e("<div></div>"),this._modalBackground.addClass(this.toThemeProperty("jqx-window-modal")),this._setModalBackgroundStyles(),e(document.body).append(this._modalBackground),this.addHandler(this._modalBackground,this._getEvent("click"),function(){return!1});var i=this,s=function(t,i){var s=e(t).parents().get();for(j=0;j<s.length;j++)if(e(s[j]).is(i))return!0;return!1};this.addHandler(this._modalBackground,"mouseup",function(e){i._stopResizing(i),e.preventDefault()}),this.addHandler(this._modalBackground,"mousedown",function(e){var t=i._getTabbables();return t.length>0&&(t[0].focus(1),setTimeout(function(){t[0].focus(1)},100)),e.preventDefault(),!1}),this.addHandler(e(document),"keydown.window"+this.element.id,function(t){if(9===t.keyCode){var r=e.data(document.body,"jqxwindows-modallist");if(!(r.length>1&&r[r.length-1][0]!=i.element)){var a=i._getTabbables(),o=null,n=null;if(a.length>0&&(o=a[0],n=a[a.length-1]),t.target!=i.element&&null!=o)return s(t.target,i.host)&&(t.target!==n||t.shiftKey)?t.target===o&&t.shiftKey?(n.focus(1),!1):void 0:(o.focus(1),!1)}}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-window")),this.host.addClass(this.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-window-header")),this._content.addClass(this.toThemeProperty("jqx-window-content")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-disableselect")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this._content.addClass(this.toThemeProperty("jqx-rc-b")),this.host.attr("tabindex")||(this.element.tabIndex=0,this.host.children().css("tab-index",0)),this.host.attr("hideFocus","true").css("outline","none")},_performHeaderLayout:function(){this._handleHeaderButtons(),this.rtl?(this._headerContentWrapper.css("direction","rtl"),this._headerContentWrapper.css("float","right")):(this._headerContentWrapper.css("direction","ltr"),this._headerContentWrapper.css("float","left")),this._performHeaderCloseButtonLayout(),this._performHeaderCollapseButtonLayout(),this._centerElement(this._headerContentWrapper,this._header,"y","margin"),this.headerHeight&&(this._centerElement(this._closeButtonWrapper,this._header,"y","margin"),this._centerElement(this._collapseButtonWrapper,this._header,"y","margin"))},_handleHeaderButtons:function(){this._closeButtonWrapper&&(this.showCloseButton?(this._closeButtonWrapper.css("visibility","visible"),this._closeButtonWrapper.css({width:this.closeButtonSize}),this._closeButtonWrapper.css({height:this.closeButtonSize})):this._closeButtonWrapper.css("visibility","hidden"),this.showCollapseButton?(this._collapseButtonWrapper.css("visibility","visible"),this._collapseButtonWrapper.css({width:this.collapseButtonSize}),this._collapseButtonWrapper.css({height:this.collapseButtonSize})):this._collapseButtonWrapper.css("visibility","hidden"))},_performHeaderCloseButtonLayout:function(){this._closeButtonWrapper&&(this.rtl?this._closeButtonWrapper.css({position:"absolute",left:"8px",right:""}):this._closeButtonWrapper.css({position:"absolute",right:"8px",left:""}))},_performHeaderCollapseButtonLayout:function(){if(this._closeButtonWrapper){var e=parseInt(this._header.css("padding-right"),10);isNaN(e)||(this._collapseButtonWrapper.css({width:this.collapseButtonSize}),this._collapseButtonWrapper.css({height:this.collapseButtonSize}),this.rtl?(this._collapseButtonWrapper.css("margin-left",e),this._collapseButtonWrapper.css("margin-right","0px")):(this._collapseButtonWrapper.css("margin-right",e),this._collapseButtonWrapper.css("margin-left","0px"))),this.rtl?this._collapseButtonWrapper.css({position:"absolute",left:this.showCloseButton?this._closeButton.outerWidth(!0):0,right:""}):this._collapseButtonWrapper.css({position:"absolute",right:this.showCloseButton?this._closeButton.outerWidth(!0):0,left:""}),this._centerElement(this._collapseButton,this._collapseButton.parent(),"y")}},_performWidgetLayout:function(){var e;"auto"!==this.width&&this.host.css("width",this.width),this.collapsed||("auto"!==this.height?this.host.css({height:this.height}):this.host.css({height:this.host.height()}),this.host.css("min-height",this.minHeight)),this._setChildrenLayout(),e=this._validateMinSize(),this.host.css({"max-height":this.maxHeight,"min-width":this.minWidth,"max-width":this.maxWidth}),e||this._setChildrenLayout()},_setChildrenLayout:function(){this._header.css({width:this.host.width()-(this._header.outerWidth(!0)-this._header.width())}),this._content.css({height:this.host.height()-this._header.outerHeight(!0)-(this._content.outerHeight(!0)-this._content.height())})},_validateMinSize:function(){
var e=!0;this.minHeight<this._header.height()&&(this.minHeight=this._header.height(),e=!1);var t=this._header.children(0).outerWidth(!0),i=this._header.children(1).outerWidth(!0),s=t+i;return this.minWidth<100&&(this.minWidth=Math.min(s,100),e=!1),e},_centerElement:function(e,t,i,s){"number"==typeof t.left&&"number"==typeof t.top&&"number"==typeof t.height&&"number"==typeof t.width?this._centerElementInArea(e,t,i):this._centerElementInParent(e,t,i,s)},_centerElementInParent:function(e,t,i,s){if(i=i.toLowerCase(),s?s+="-":s="",i.indexOf("y")>=0){var r=e.outerHeight(!0),a=t.height(),o=Math.max(0,a-r)/2;e.css(s+"top",o+"px")}if(i.indexOf("x")>=0){var n=e.outerWidth(!0),l=t.width(),h=Math.max(0,l-n)/2;e.css(s+"left",h+"px")}},_centerElementInArea:function(e,t,i){if(i=i.toLowerCase(),i.indexOf("y")>=0){var s=e.outerHeight(!0),r=t.height,a=(r-s)/2;e.css("top",a+t.top+"px")}if(i.indexOf("x")>=0){var o=e.outerWidth(!0),n=t.width,l=(n-o)/2;e.css("left",l+t.left+"px")}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown")),this.removeHandler(this._header,this._getEvent("mousemove")),this.removeHandler(this._header,"focus"),this.removeHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id")),this.removeHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id")),this.removeHandler(this.host,"keydown"),this.removeHandler(this._closeButton,this._getEvent("click")),this.removeHandler(this._closeButton,this._getEvent("mouseenter")),this.removeHandler(this._closeButton,this._getEvent("mouseleave")),this.removeHandler(this._collapseButton,this._getEvent("click")),this.removeHandler(this._collapseButton,this._getEvent("mouseenter")),this.removeHandler(this._collapseButton,this._getEvent("mouseleave")),this.removeHandler(this.host,this._getEvent("mousedown")),this.removeHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(this._header,this._getEvent("mouseenter")),this.removeHandler(this._header,this._getEvent("mouseleave")),this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(e,t){var i=this._indexOf(e,t);return i>=0?t.splice(this._indexOf(e,t),1):t},_sortByStyle:function(e,t){for(var i=0;i<t.length;i++)for(var s=t.length-1;s>i;s--){var r,a=t[s],o=t[s-1];parseInt(a.css(e),10)<parseInt(o.css(e),10)&&(r=a,t[s]=o,t[s-1]=r)}},_initializeResize:function(){if(this.resizable){var e=this;this.initResize({target:this.host,alsoResize:e._content,maxWidth:e.maxWidth,minWidth:e.minWidth,maxHeight:e.maxHeight,minHeight:e.minHeight,indicatorSize:10,resizeParent:e.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_addEventHandlers:function(){this._addDragDropHandlers(),this._addCloseHandlers(),this._addCollapseHandlers(),this._addFocusHandlers(),this._documentResizeHandlers(),this._closeButtonHover(),this._collapseButtonHover(),this._addDialogButtonsHandlers(),this._addHeaderHoverEffect(),this._addResizeHandlers();var e=this;this.addHandler(this._header,this._getEvent("mousemove"),function(t){e._addHeaderCursorHandlers(e)})},_addResizeHandlers:function(){this.addHandler(this.host,"resizing",this._windowResizeHandler,{self:this})},_windowResizeHandler:function(e){var t=e.data.self;t._header.css({width:t.host.width()-(t._header.outerWidth(!0)-t._header.width())}),t.width=e.args.width,t.height=e.args.height},_addHeaderHoverEffect:function(){var t=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){e(this).addClass(t.toThemeProperty("jqx-window-header-hover"))}),this.addHandler(this._header,this._getEvent("mouseleave"),function(){e(this).removeClass(t.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){this.okButton&&this.addHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"}),this.cancelButton&&this.addHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})},_documentResizeHandlers:function(){var t=this;this.isModal&&this.addHandler(e(window),"resize.window"+this.element.id,function(){"object"==typeof t._modalBackground&&null!==t._modalBackground&&(t.isOpen()&&t._modalBackground.hide(),t.restricter?(t._modalBackground.css("left",t.dragArea.left),t._modalBackground.css("top",t.dragArea.top),t._modalBackground.css({width:t.dragArea.width}),t._modalBackground.css({height:t.dragArea.height})):(t._modalBackground.css({width:t._getDocumentSize().width}),t._modalBackground.css({height:t._getDocumentSize().height})),t.isOpen()&&t._modalBackground.show())})},_setDialogResultHandler:function(e){var t=e.data.self;t._setDialogResult(e.data.result),t.closeWindow()},_setDialogResult:function(e){switch(this.dialogResult.OK=!1,this.dialogResult.None=!1,this.dialogResult.Cancel=!1,e=e.toLowerCase()){case"ok":this.dialogResult.OK=!0;break;case"cancel":this.dialogResult.Cancel=!0;break;default:this.dialogResult.None=!0}},_getDocumentSize:function(){var t=e.jqx.browser.msie&&e.jqx.browser.version<9,i=t?4:0,s=i;return document.body.scrollHeight>document.body.clientHeight&&t&&(i=this._SCROLL_WIDTH),document.body.scrollWidth>document.body.clientWidth&&t&&(s=this._SCROLL_WIDTH),{width:e(document).width()-i,height:e(document).height()-s}},_closeButtonHover:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){e._closeButton.addClass(e.toThemeProperty("jqx-window-close-button-hover"))}),this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){e._closeButton.removeClass(e.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){e._collapseButton.addClass(e.toThemeProperty("jqx-window-collapse-button-hover"))}),this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){e._collapseButton.removeClass(e.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){this.isModal&&(this._modalBackground.fadeTo(0,this.modalOpacity),this._modalBackground.css({position:"absolute",top:"0px",left:"0px",width:this._getDocumentSize().width,height:this._getDocumentSize().height,"z-index":this.modalBackgroundZIndex}),this.autoOpen||this._modalBackground.css("display","none"))},_addFocusHandlers:function(){var e=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){e.isModal||e.bringToFront()})},_indexOf:function(e,t){for(var i=0;i<t.length;i++)if(t[i][0]===e[0])return i;return-1},_addCloseHandlers:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("click"),function(t){return e._closeWindow(t)}),"none"!==this.keyboardCloseKey&&"number"!=typeof this.keyboardCloseKey&&"esc"===this.keyboardCloseKey.toLowerCase()&&(this.keyboardCloseKey=27),this.addHandler(this.host,"keydown",function(t){t.keyCode===e.keyboardCloseKey&&null!=e.keyboardCloseKey&&"none"!=e.keyboardCloseKey?e._closeWindow(t):e._handleKeys(t)},{self:this}),this.addHandler(this.host,"keyup",function(t){if(e.keyboardNavigation&&e._moved){var i=e.host.coord(),s=i.left,r=i.top;e._raiseEvent(3,s,r,s,r),e._moved=!1}})},_handleKeys:function(t){if(this.keyboardNavigation&&this._headerFocused&&!e(document.activeElement).ischildof(this._content)){var i=t.ctrlKey,s=t.keyCode,r=this.host.coord(),a=r.left,o=r.top,n=this._getDraggingArea(),l=this.host.width(),h=this.host.height(),d=!0,c=10;switch(s){case 37:i?this.resizable&&this.resize(l-c,h):this.draggable&&a-c>=0&&this.move(a-c,o),d=!1;break;case 38:i?this.resizable&&this.resize(l,h-c):this.draggable&&o-c>=0&&this.move(a,o-c),d=!1;break;case 39:i?this.resizable&&this.resize(l+c,h):this.draggable&&a+l+c<=n.width&&this.move(a+c,o),d=!1;break;case 40:i?this.resizable&&this.resize(l,h+c):this.draggable&&o+h+c<=n.height&&this.move(a,o+c),d=!1}return d||(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()),d}},_addCollapseHandlers:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){e.collapsed?e.expand():e.collapse()})},_closeWindow:function(e){return this.closeWindow(),!1},_addHeaderCursorHandlers:function(e){return e.resizeArea&&e.resizable&&!e.collapsed?void e._header.css("cursor",e._resizeWrapper.css("cursor")):e.draggable?void e._header.css("cursor","move"):(e._header.css("cursor","default"),void(e._resizeWrapper&&e._resizeWrapper.length>0&&e._resizeWrapper.css("cursor","default")))},_addDragDropHandlers:function(){if(this.draggable){var t=this;this.addHandler(this.host,"focus",function(){t._headerFocused=!0}),this.addHandler(this.host,"blur",function(){t._headerFocused=!1}),this.addHandler(this._header,"focus",function(){return t._headerFocused=!0,!1}),this.addHandler(this._header,this._getEvent("mousedown"),function(e,i,s){return i&&(e.pageX=i),s&&(e.pageY=s),t._headerMouseDownHandler(t,e),!0}),this.addHandler(this._header,"dragstart",function(e){return e.preventDefault&&e.preventDefault(),!1}),this.addHandler(this._header,this._getEvent("mousemove"),function(e){return t._headerMouseMoveHandler(t,e)}),this.addHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(e){return t._dragHandler(t,e)}),this.addHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(e){return t._dropHandler(t,e)});try{if(""!=document.referrer||window.frameElement){var i=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(i=document.referrer),i&&-1!=i.indexOf(document.location.host)){var s=function(e){t._dropHandler(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}}catch(r){}}},_headerMouseDownHandler:function(t,i){if(t.isModal||t.bringToFront(),null==t._resizeDirection){var s=e.jqx.mobile.getTouches(i),r=(s[0],e.jqx.position(i));t._mousePosition.x=r.left,t._mousePosition.y=r.top,t._mouseDown=!0,t._isDragging=!1}},_headerMouseMoveHandler:function(t,i){if(t._mouseDown&&!t._isDragging){var s=e.jqx.mobile.getTouches(i),r=s[0],a=r.pageX,o=r.pageY,n=e.jqx.position(i);return a=n.left,o=n.top,(a+3<t._mousePosition.x||a-3>t._mousePosition.x||o+3<t._mousePosition.y||o-3>t._mousePosition.y)&&(t._isDragging=!0,t._mousePosition={x:a,y:o},t._windowPosition={x:t.host.coord().left,y:t.host.coord().top},e(document.body).addClass(t.toThemeProperty("jqx-disableselect"))),t._isTouchDevice?(i.preventDefault(),!0):!1}return t._isDragging?t._isTouchDevice?(i.preventDefault(),!0):!1:!0},_dropHandler:function(t,i){var s=!0;if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var r=parseInt(t.host.css("left"),10),a=parseInt(t.host.css("top"),10),o=t._isTouchDevice?0:i.pageX,n=t._isTouchDevice?0:i.pageY;t.enableResize=t._enableResizeBackup,t._enableResizeBackup="undefined",t._raiseEvent(3,r,a,o,n),s=!1,"undefined"!=i.preventDefault&&i.preventDefault(),null!=i.originalEvent&&(i.originalEvent.mouseHandled=!0),"undefined"!=i.stopPropagation&&i.stopPropagation()}return t._isDragging=!1,t._mouseDown=!1,e(document.body).removeClass(t.toThemeProperty("jqx-disableselect")),s},_dragHandler:function(t,i){if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var s=t._isTouchDevice?i.originalEvent.which:i.which;if("undefined"==typeof t._enableResizeBackup&&(t._enableResizeBackup=t.enableResize),t.enableResize=!1,0===s&&e.jqx.browser.msie&&e.jqx.browser.version<8)return t._dropHandler(t,i);var r=e.jqx.mobile.getTouches(i),a=(r[0],e.jqx.position(i)),o=a.left,n=a.top,l=o-t._mousePosition.x,h=n-t._mousePosition.y,d=t._windowPosition.x+l,c=t._windowPosition.y+h;return t.move(d,c,i),i.preventDefault(),!1}return!0},_validateCoordinates:function(e,t,i,s){var r=this._getDraggingArea();e=e<r.left?r.left:e,t=t<r.top?r.top:t;var a=this.host.outerWidth(!0),o=this.host.outerHeight(!0);return e+a>=r.width+r.left-2*s&&(e=r.width+r.left-a-s),t+o>=r.height+r.top-i&&(t=r.height+r.top-o-i),{x:e,y:t}},_performLayout:function(){this._performHeaderLayout(),this._performWidgetLayout()},_parseDragAreaAttributes:function(){null!==this.dragArea&&(this.dragArea.height=parseInt(this.dragArea.height,10),this.dragArea.width=parseInt(this.dragArea.width,10),this.dragArea.top=parseInt(this.dragArea.top,10),this.dragArea.left=parseInt(this.dragArea.left,10))},_positionWindow:function(){if(this._parseDragAreaAttributes(),this.position instanceof Array&&2===this.position.length&&"number"==typeof this.position[0]&&"number"==typeof this.position[1])this.host.css({left:this.position[0],top:this.position[1]});else if(this.position instanceof Object){if(this.position.left)this.host.offset(this.position);else if(void 0!==this.position.x&&void 0!=this.position.y)this.host.css({left:this.position.x,top:this.position.y});else if(this.position.center){this._centerElement(this.host,this.position.center,"xy");var e=this.position.center.coord(),t=parseInt(this.host.css("left")),i=parseInt(this.host.css("top"));this.host.css({left:t+e.left,top:i+e.top})}}else this._positionFromLiteral()},_getDraggingArea:function(){var e={};return e.left=this.dragArea&&this.dragArea.left?this.dragArea.left:0,e.top=this.dragArea&&this.dragArea.top?this.dragArea.top:0,e.width=this.dragArea&&this.dragArea.width?this.dragArea.width:this._getDocumentSize().width,e.height=this.dragArea&&this.dragArea.height?this.dragArea.height:this._getDocumentSize().height,e},_positionFromLiteral:function(){this.position instanceof Array||(this.position=this.position.split(","));for(var t=this.position.length,i=this._getDraggingArea();t;)switch(t-=1,this.position[t]=this.position[t].replace(/ /g,""),this.position[t]){case"top":this.host.css("top",i.top);break;case"left":this.host.css("left",i.left);break;case"bottom":this.host.css("top",i.height-this.host.height()+i.top);break;case"right":this.host.css("left",i.left+i.width-this.host.width());break;default:this.dragArea||(i=e(window)),this._centerElement(this.host,i,"xy")}},_raiseEvent:function(t){var i=this._events[t],s=e.Event(i),r={};return(2===t||3===t)&&(r.x=arguments[1],r.y=arguments[2],r.pageX=arguments[3],r.pageY=arguments[4]),("closed"===i||"close"===i)&&(r.dialogResult=this.dialogResult),s.args=r,this.host.trigger(s)},destroy:function(){this.removeHandler(e(window),"resize.window"+this.element.id),this._removeEventHandlers(),this._destroy()},_destroy:function(){this.restricter&&(this.removeHandler(e(window),"resize."+this.element.id),this.removeHandler(e(window),"orientationchanged."+this.element.id),this.removeHandler(e(window),"orientationchange."+this.element.id)),this.host.remove(),null!==this._modalBackground&&this._modalBackground.remove()},_toClose:function(e,t){return e&&t[0]===this.element||t[0]!==this.element&&"object"==typeof t[0]},propertyChangedHandler:function(t,i,s,r){switch(this._validateProperties(),i){case"rtl":this._performLayout();break;case"dragArea":this._positionWindow();break;case"collapseButtonSize":this._performLayout();break;case"closeButtonSize":this._performLayout();break;case"isModal":this._refresh(),this._fixWindowZIndex();break;case"keyboardCloseKey":this._removeEventHandlers(),this._addEventHandlers();break;case"disabled":r?this.disable():(this.disabled=!0,this.enable());break;case"showCloseButton":case"showCollapseButton":this._performLayout();break;case"height":this._performLayout();break;case"width":this._performLayout();break;case"title":this.setTitle(r),this.title=r;break;case"content":this.setContent(r);break;case"draggable":this._removeEventHandlers(),this._addEventHandlers(),this._removeResize(),this._initializeResize();break;case"resizable":this.enableResize=r,r?this._initializeResize():this._removeResize();break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":r?this._addDialogButtonsHandlers():this.removeHandler(this.okButton);break;case"cancelButton":r?this._addDialogButtonsHandlers():this.removeHandler(this.cancelButton);break;case"collapsed":r?s||(this.collapsed=!1,this.collapse(0)):s&&(this.collapsed=!0,this.expand(0));case"theme":e.jqx.utilities.setTheme(s,r,this.host);break;case"enableResize":return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":return t._performLayout(),t._removeResize(),void t._initializeResize();default:return}},collapse:function(t){if(!this.collapsed&&!this.host.is(":animated")){if("none"==this.host.css("display"))return;var i=this,s=this._header.outerHeight(!0),r=parseInt(this._header.css("border-bottom-width"),10),a=parseInt(this._header.css("margin-bottom"),10),t=isNaN(parseInt(t))?this.collapseAnimationDuration:t;isNaN(r)||(s-=2*r),isNaN(a)||(s+=a),this._heightBeforeCollapse=this.host.height(),this._minHeightBeforeCollapse=this.host.css("min-height"),this.host.css("min-height",s),this.host.animate({height:s},t,function(){i.collapsed=!0,i._collapseButton.addClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.addClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content.css("display","none"),i._raiseEvent(5),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!1)})}},expand:function(t){if(this.collapsed&&!this.host.is(":animated")){var i=this,t=isNaN(parseInt(t))?this.collapseAnimationDuration:t;this.host.animate({height:this._heightBeforeCollapse},t,function(){i.collapsed=!1,i.host.css("min-height",i._minHeightBeforeCollapse),i._collapseButton.removeClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.removeClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content.css("display","block"),i._raiseEvent(6),i._performWidgetLayout(),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!0)})}},closeAll:function(t){for(var t=!0,i=e.data(document.body,"jqxwindows-list"),s=i.length,r=e.data(document.body,"jqxwindow-modal")||[];s;)s-=1,this._toClose(t,i[s])&&(i[s].jqxWindow("closeWindow","close"),i.splice(s,1));this._toClose(t,r)&&(r.jqxWindow("closeWindow","close"),e.data(document.body,"jqxwindow-modal",[])),e.data(document.body,"jqxwindows-list",i)},setTitle:function(t){e.jqx.utilities.html(this._headerContentWrapper,t),this.title=t,this._performLayout()},setContent:function(t){this._contentInitialized=!1;for(var i=this._content,s=!1;!s;)i.css("height","auto"),i.css("width","auto"),i.is(".jqx-window")?s=!0:i=i.parent();e.jqx.utilities.html(this._content,t),this._performLayout()},disable:function(){this.disabled=!0,this._removeEventHandlers(),this._header.addClass(this.toThemeProperty("jqx-window-header-disabled")),this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this._content.addClass(this.toThemeProperty("jqx-window-content-disabled")),this.host.addClass(this.toThemeProperty("jqx-window-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._removeResize()},enable:function(){this.disabled&&(this._addEventHandlers(),this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled")),this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled")),this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this.host.removeClass(this.toThemeProperty("jqx-window-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1,this._initializeResize())},isOpen:function(){return this._visible},closeWindow:function(e){var t=this;e="undefined"==typeof e?this.closeButtonAction:e,this.hide(function(){"close"===e&&t._destroy()})},bringToFront:function(){var t=e.data(document.body,"jqxwindows-list");if(this.isModal)return t=e.data(document.body,"jqxwindows-modallist"),this._fixWindowZIndex("modal-hide"),void this._fixWindowZIndex("modal-show");for(var i=t[t.length-1],s=parseInt(i.css("z-index"),10),r=this._indexOf(this.host,t),a=t.length-1;a>r;a-=1){var o=parseInt(t[a].css("z-index"),10)-1;t[a].css("z-index",o)}this.host.css("z-index",s),this._sortByStyle("z-index",t)},hide:function(e,t,i){if(this.closing){var s=this.closing();if(0==s)return}switch(t=t||this.closeAnimationDuration,this.animationType){case"none":this.host.css("display","none");break;case"fade":this.host.fadeOut(t,function(){e instanceof Function&&e()});case"slide":this.host.slideUp(t,function(){e instanceof Function&&e()});case"combined":this.host.hide(t,function(){e instanceof Function&&e()})}this._visible=!1,this.isModal&&(this._modalBackground.hide(),this._fixWindowZIndex("modal-hide")),i!==!0&&(this._raiseEvent(1),this._raiseEvent(8))},open:function(e,t){this.show(e,t)},close:function(e,t,i){this.hide(e,t,i)},show:function(e,t){switch(this._setDialogResult("none"),t=t||this.showAnimationDuration,this.animationType){case"none":this.host.css("display","block");break;case"fade":this.host.fadeIn(t,function(){e instanceof Function&&e()});break;case"slide":this.host.slideDown(t,function(){e instanceof Function&&e()});break;case"combined":this.host.show(t,function(){e instanceof Function&&e()})}this.isModal&&(this._modalBackground.show(),this._fixWindowZIndex("modal-show"));var i=this;if(this._visible||(t>150&&"none"!=this.animationType?setTimeout(function(){i._contentInitialized||i.initContent&&(i.initContent(),i._contentInitialized=!0),i._raiseEvent(7),i._raiseEvent(9)},t-150):(i._contentInitialized||i.initContent&&(i.initContent(),i._contentInitialized=!0),this._raiseEvent(7),i._raiseEvent(9))),this._visible=!0,this._performLayout(),this.autoFocus){var s=function(){i._isTouchDevice||i._content.focus()};s(),setTimeout(function(){s()},100)}},_getTabbables:function(){var t=this._content.find("*"),i=new Array;return e.each(t,function(){s(this)&&(i[i.length]=this)}),i},move:function(t,i,s,r){var a,o,n,l=0,h=0,t=parseInt(t,10),i=parseInt(i,10);if(e.jqx.browser.msie&&(e(window).width()>e(document).width()&&!this.dragArea&&(h=this._SCROLL_WIDTH),e(window).height()<e(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea&&(l=this._SCROLL_WIDTH)),a=this._validateCoordinates(t,i,h,l),parseInt(this.host.css("left"),10)!==a.x||parseInt(this.host.css("top"),10)!==a.y){if(s){var d=e.jqx.mobile.getTouches(s),c=(d[0],e.jqx.position(s));o=c.left,n=c.top}void 0==o&&(o=t),void 0==n&&(n=i),r!==!1&&this._raiseEvent(2,a.x,a.y,o,n)}this.element.style.left=a.x+"px",this.element.style.top=a.y+"px",this._moved=!0}})}(jqxBaseFramework),function(e){var t=function(e){return{resizeConfig:function(){this.resizeTarget=null,this.resizeIndicatorSize=5,this.resizeTargetChildren=null,this.isResizing=!1,this.resizeArea=!1,this.minWidth=1,this.maxWidth=100,this.minHeight=1,this.maxHeight=100,this.resizeParent=null,this.enableResize=!0,this._cursorBackup,this._resizeEvents=["resizing","resized","resize"],this._resizeMouseDown=!1,this._resizeCurrentMode=null,this._mouseResizePosition={},this._resizeMethods=null,this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var t=e(this.resizeTarget.children(".jqx-resize"));t.detach();var i=t.children();this._removeResizeEventListeners();for(var s=0;s<i.length;s+=1)e(i[s]).detach(),this.resizeTarget.append(i[s]);t.remove()}},initResize:function(t){this.resizeConfig(),this.resizeTarget=e(t.target),this.resizeIndicatorSize=t.indicatorSize||10,this.maxWidth=t.maxWidth||100,this.minWidth=t.minWidth||1,this.maxHeight=t.maxHeight||100,this.minHeight=t.minHeight||1,this.resizeParent=t.resizeParent,this._parseResizeParentProperties(),this._validateResizeProperties(),this._validateResizeTargetDimensions(),this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,t.alsoResize),this._refreshResize(),this._cursorBackup=this.resizeTarget.css("cursor"),"auto"===this._cursorBackup&&(this._cursorBackup="default")},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth,this.resizeTarget.minWidth=3*this.resizeIndicatorSize>this.minWidth?3*this.resizeIndicatorSize:this.minWidth,this.resizeTarget.maxHeight=this.maxHeight,this.resizeTarget.minHeight=3*this.resizeIndicatorSize>this.minHeight?3*this.resizeIndicatorSize:this.minHeight},_parseResizeParentProperties:function(){this.resizeParent&&(this.resizeParent.left=parseInt(this.resizeParent.left,10),this.resizeParent.top=parseInt(this.resizeParent.top,10),this.resizeParent.width=parseInt(this.resizeParent.width,10),this.resizeParent.height=parseInt(this.resizeParent.height,10))},_getChildren:function(t,i,s,r,a){this.resizeTargetChildren=e(a),this.resizeTargetChildren.toArray();for(var o=this.resizeTargetChildren.length;o;)o-=1,this.resizeTargetChildren[o]=e(this.resizeTargetChildren[o])},_refreshResize:function(){this._renderResize(),this._performResizeLayout(),this._removeResizeEventListeners(),this._addResizeEventHandlers()},_renderResize:function(){this.resizeTarget.wrapInner(e("<div></div>")),this._resizeWrapper=this.resizeTarget.children(0),this._resizeWrapper.addClass("jqx-resize"),this._resizeWrapper.addClass("jqx-rc-all"),this._resizeWrapper.css("z-index",8e3)},_performResizeLayout:function(){this._resizeWrapper.css({height:this.resizeTarget.height()}),this._resizeWrapper.css({width:this.resizeTarget.width()})},_removeResizeEventListeners:function(){var t=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+t),this.removeHandler(this._resizeWrapper,"mousedown.resize"+t),this.removeHandler(e(document),"mousemove.resize"+t),this.removeHandler(e(document),"mouseup.resize"+t)},_addResizeEventHandlers:function(){var t=this.resizeTarget.attr("id"),i=this;this.addHandler(this._resizeWrapper,"mousemove.resize."+t,function(e){i._resizeCursorChangeHandler(i,e)}),this.addHandler(this._resizeWrapper,"mousedown.resize."+t,function(e){i._resizeMouseDownHandler(i,e)}),this.addHandler(e(document),"mousemove.resize."+t,function(e){return i._resizeHandler(i,e)}),this.addHandler(e(document),"mouseup.resize."+t,function(e){i._stopResizing(i,e)});try{if(""!=document.referrer||window.frameElement){var s=function(e){i._stopResizing(i,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}catch(r){}},_stopResizing:function(e,t){e.enableResize&&(e.isResizing&&e._raiseResizeEvent(1),e._resizeMouseDown=!1,e.isResizing=!1,e._resizeDirection=null,e.resizeTarget&&e.resizeTarget.removeClass("jqx-disableselect")),"undefined"==e._cursorBackup&&(e._cursorBackup="default"),e._resizeWrapper&&e._resizeWrapper.css("cursor",e._cursorBackup)},_resizeHandler:function(t,i){return t.enableResize&&!t.collapsed?t.isResizing&&t._resizeDirection?(0===i.which&&e.jqx.browser.msie&&e.jqx.browser.version<9&&t._stopResizing(i),t._performResize(i.pageX,i.pageY),!1):t._resizeCaptureCursor(i.pageX,i.pageY):void 0},_resizeCaptureCursor:function(e,t){return this._resizeMouseDown&&!this.isResizing&&this._resizeDirection&&(e+3<this._mouseResizePosition.x||e-3>this._mouseResizePosition.x||t+3<this._mouseResizePosition.y||t-3>this._mouseResizePosition.y)?(this._changeCursor(e-parseInt(this.resizeTarget.css("left")),t-parseInt(this.resizeTarget.css("top"))),this._mouseResizePosition={x:e,y:t},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1):void 0},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width(),this.resizeTarget.lastHeight=this.resizeTarget.height(),this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10),this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10),this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){for(var e,t=this.resizeTargetChildren.length;t;)t-=1,e=this.resizeTargetChildren[t],this.resizeTargetChildren[t].lastWidth=e.width(),this.resizeTargetChildren[t].lastHeight=e.height()},_performResize:function(e,t){var i=e-this._mouseResizePosition.x,s=t-this._mouseResizePosition.y;this._resizeDirection&&this._resize(this.resizeTarget,i,s)},_resizeCursorChangeHandler:function(e,t){e.enableResize&&!e.collapsed&&(e.isResizing||e._changeCursor(t.pageX-parseInt(e.resizeTarget.css("left")),t.pageY-parseInt(e.resizeTarget.css("top"))))},_resizeMouseDownHandler:function(e,t){e.enableResize&&null!==e._resizeDirection&&(e._resizeMouseDown=!0,e._mouseResizePosition.x=t.pageX,e._mouseResizePosition.y=t.pageY,t.preventDefault())},_validateResizeProperties:function(){try{if(!this.resizeTarget||1!==this.resizeTarget.length)throw new Error(this._resizeExceptions.invalidTarget);if(this.minHeight<0||isNaN(parseInt(this.minHeight)))throw new Error(this._resizeExceptions.invalidMinHeight);if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight)))throw new Error(this._resizeExceptions.invalidMaxHeight);if(this.minWidth<0||isNaN(parseInt(this.minWidth)))throw new Error(this._resizeExceptions.invalidMinWidth);if(this.maxWidth<0||isNaN(parseInt(this.maxWidth)))throw new Error(this._resizeExceptions.invalidMaxWidth);if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize)))throw new Error(this._resizeExceptions.invalidIndicatorSize);if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth)throw new Error(this._resizeExceptions.invalidSize)}catch(e){alert(e)}},_changeCursor:function(e,t){this.isResizing||this._resizeMouseDown||(this.resizeArea=!0,e<=this.resizeIndicatorSize&&e>=0&&t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.css("cursor","nw-resize"),this._resizeDirection="topleft"):t<=this.resizeIndicatorSize&&t>0&&e>=this.resizeTarget.width()-this.resizeIndicatorSize?(this._resizeWrapper.css("cursor","ne-resize"),this._resizeDirection="topright"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.css("cursor","sw-resize"),this._resizeDirection="bottomleft"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","se-resize"),this._resizeDirection="bottomright"):e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="left"):t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="top"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="bottom"):e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="right"):(this._resizeWrapper.css("cursor",this._cursorBackup),this._resizeDirection=null,this.resizeArea=!1))},_prepareResizeMethods:function(e){this._resizeMethods=[],e.indexOf("left")>=0&&this._resizeMethods.push(this._resizeLeft),e.indexOf("top")>=0&&this._resizeMethods.push(this._resizeTop),e.indexOf("right")>=0&&this._resizeMethods.push(this._resizeRight),e.indexOf("bottom")>=0&&this._resizeMethods.push(this._resizeBottom)},_validateResize:function(e,t,i,s,r){return"horizontal"===i||"both"===i?this._validateWidth(e,s,r):"vertical"===i||"both"===i?this._validateHeight(t,s,r):{result:!1,fix:0}},_getParent:function(){return null!==this.resizeParent&&"undefined"!==this.resizeParent&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left?this.resizeParent:{
left:0,top:0,width:e(document).width(),height:e(document).height()}},_validateHeight:function(t,i,s){var r=0,a=2,o=this._getParent();return e(window).width()>e(document).width()&&e.jqx.browser.msie&&o.height===e(document).height()&&(r=this._SCROLL_WIDTH),"bottom"===s&&t+i.position().top+r+a>o.height+o.top?{fix:o.height-i.position().top-r-a+o.top,result:!1}:"top"===s&&i.lastHeight-t+i.y<o.top?{fix:t+(i.lastHeight-t+i.y)-o.top,result:!1}:t<i.minHeight?{fix:i.minHeight,result:!1}:t>i.maxHeight?{fix:i.maxHeight,result:!1}:{result:!0,fix:t}},_validateWidth:function(t,i,s){var r=0,a=2,o=this._getParent();return e(window).height()<e(document).height()&&e.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&o.width===e(document).width()&&(r=this._SCROLL_WIDTH),"right"===s&&t+i.position().left+r+a>o.width+o.left?{fix:o.width-i.position().left-r-a+o.left,result:!1}:"left"===s&&i.lastWidth-t+i.x<o.left?{fix:t+(i.lastWidth-t+i.x)-o.left,result:!1}:t<i.minWidth?{fix:i.minWidth,result:!1}:t>i.maxWidth?{fix:i.maxWidth,result:!1}:{result:!0,fix:t}},_resize:function(e,t,i){for(var s=(this._resizeDirection,this._resizeMethods.length),r=0;s>r;r++)if(this._resizeMethods[r]instanceof Function){var a={element:e,x:t,y:i,self:this};this._resizeMethods[r](a)}this._performResizeLayout()},resize:function(e,t){if(this.resizable){var i=e-this.host.width(),s=t-this.host.height(),r="right";0!=s&&(r="bottom"),this._resizeDirection=r,this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this._resize(this.resizeTarget,i,s),this.isResizing=!1}},_setResizeChildrenSize:function(e,t){for(var i=this.resizeTargetChildren.length;i;)if(i--,"width"===t){var s=this.resizeTargetChildren[i].lastWidth-(this.resizeTarget.lastWidth-e);s<this.resizeTarget.maxWidth&&s>0&&this.resizeTargetChildren[i].css({width:s})}else{var r=this.resizeTargetChildren[i].lastHeight-(this.resizeTarget.lastHeight-e);r<this.resizeTarget.maxHeight&&r>0&&this.resizeTargetChildren[i].css({height:r})}},_resizeRight:function(e){var t=e.element.lastWidth+e.x,i=e.self._validateResize(t,0,"horizontal",e.element,"right");return i.result||(t=i.fix),e.element.width()!==t&&(e.self._setResizeChildrenSize(t,"width"),e.element.css({width:t}),e.self._raiseResizeEvent(0)),t},_resizeLeft:function(e){var t=e.element.lastWidth-e.x,i=e.self._validateResize(t,0,"horizontal",e.element,"left"),s=e.element.x+e.x;return i.result?(e.element.width()!==t&&(e.self._setResizeChildrenSize(t,"width"),e.element.css({width:t}),e.element.css("left",s),e.self._raiseResizeEvent(0)),t):(s=e.element.x+(e.element.lastWidth-i.fix),void(t=i.fix))},_resizeBottom:function(e){var t=e.element.lastHeight+e.y,i=e.self._validateResize(0,t,"vertical",e.element,"bottom");return i.result||(t=i.fix),e.element.height()!==t&&(e.self._setResizeChildrenSize(t,"height"),e.element.css({height:t}),e.self._raiseResizeEvent(0)),t},_resizeTop:function(e){var t=e.element.lastHeight-e.y,i=e.self._validateResize(0,t,"vertical",e.element,"top"),s=e.element.y+e.y;return i.result?(e.element.height()!==t&&(e.self._setResizeChildrenSize(t,"height"),e.element.css({height:t}),e.element.css("top",s),e.self._raiseResizeEvent(0)),t):(s=e.element.y+(e.element.lastHeight-i.fix),void(t=i.fix))},_raiseResizeEvent:function(t){var i=this._resizeEvents[t],s=e.Event(i),r={};if(r.width=parseInt(this.resizeTarget[0].style.width),r.height=parseInt(this.resizeTarget[0].style.height),s.args=r,0==t){var i=this._resizeEvents[2],a=e.Event(i);a.args=r,this.resizeTarget.trigger(a)}return this.resizeTarget.trigger(s)}}}(jqxBaseFramework);e.extend(e.jqx._jqxWindow.prototype,t)}(jqxBaseFramework),function(){function e(e){"close"===e.type&&(e.args.dialogResult.OK?($("#bh-eventWindow").trigger("ok"),$("#bh-eventWindow").next().remove(),$("#bh-eventWindow").remove(),$("body").append('<div id="bh-eventWindow"></div>')):e.args.dialogResult.Cancel&&($("#bh-eventWindow").trigger("cancel"),$("#bh-eventWindow").next().remove(),$("#bh-eventWindow").remove(),$("body").append('<div id="bh-eventWindow"></div>')))}function t(){$("#bh-eventWindow").on("close",function(t){e(t)})}function i(){$("#bh-eventWindow").jqxWindow({width:416,resizable:!0,isModal:!0,modalOpacity:.3,okButton:$("#ok"),cancelButton:$("#cancel"),initContent:function(){$("#bh-eventWindow .jqx-window-header").remove()}})}function s(){var e=$(".bh-dialog-content"),t='<div> <p class="bh-dialog-center title"></p><p class="content"></p><div class="bh-dialog-light"></div></div>';e.append(t),$("#bh-eventWindow .jqx-window-content").removeAttr("style"),$("#bh-eventWindow .jqx-rc-all").css({"border-radius":"0px",height:"auto"}),$("#bh-eventWindow").remove()}var r;r=function(){function e(e,t){var i='<div id="bh-eventWindow"></div>';$("body").append(i),this.settings=$.extend({},$.fn.bhDialog.defaults,t),this.$element=$(e)}function t(){$(".bh-pop").css({height:"auto"});var e=$(".bh-pop").outerHeight(),t=$(window).height(),i=(t-e)/2;$(".bh-pop").css({top:i})}return e.prototype.success=function(e){_create_success(this.$element,this.settings),this.$element.addClass("bh-dialog-success bh-pop"),this.$element.find(".title").text(e.title),this.$element.find(".content").text(e.content),this.$element.find(".ok").text(e.okbtn),t()},e.prototype.warning=function(e){_create_warnning(this.$element,this.settings),this.$element.addClass("bh-dialog-warning bh-pop"),this.$element.find(".title").text(e.title),this.$element.find(".content").text(e.content),this.$element.find(".ok").text(e.okbtn),this.$element.find(".cancle").text(e.cancelbtn),t()},e.prototype.danger=function(e){_create_danger(this.$element,this.settings),this.$element.addClass("bh-dialog-danger bh-pop"),this.$element.find(".title").text(e.title),this.$element.find(".content").text(e.content),this.$element.find(".ok").text(e.okbtn),this.$element.find(".cancle").text(e.cancelbtn),t()},e.prototype.basic=function(e){_create_basic(this.$element,this.settings),this.$element.addClass("bh-dialog-basic bh-pop"),this.$element.find(".title").text(e.title),this.$element.find(".ok").text(e.okbtn),t()},e.prototype.text=function(e){_create_text(this.$element,this.settings),this.$element.addClass("bh-dialog-text bh-pop"),this.$element.find(".title").text(e.title),this.$element.find(".content").text(e.content),this.$element.find(".ok").text(e.okbtn),t()},e}(),_create_warnning=function(e,r){var a='<div><div class="bh-dialog-icon" ><span class="bh-dialog-body "></span><span class="bh-dialog-dot "></span></div><div class="bh-dialog-content"></div><div class="bh-dialog-center"><button class="ok" id="ok"></button><button class="cancle" id="cancel" value="Cancel"></button></div></div>';e.append(a),t(),i(),s()},_create_success=function(e,r){var a='<div><div class="bh-dialog-icon bh-dialog-icon-success"><span class="bh-dialog-icon-line bh-dialog-icon-tip "></span><span class="bh-dialog-icon-line bh-dialog-icon-long "></span><div class="bh-dialog-success-icon-placeholder"></div><div class="bh-dialog-success-icon-fix"></div></div><div class="bh-dialog-content"></div><div class="bh-dialog-center"><button class="ok" id="ok"></button></div><div>';e.append(a),t(),i(),s()},_create_danger=function(e,r){var a='<div><div class="bh-dialog-icon "><span class="bh-dialog-error-mark"><span class="bh-dialog-icon-line bh-dialog-error-iconLeft "></span><span class="bh-dialog-icon-line bh-dialog-error-iconRight "></span></span></div><div class="bh-dialog-content"></div><div class="bh-dialog-center"><button class="ok" id="ok"></button><button class="cancle" id="cancel" value="Cancel"></button></div><div>';e.append(a),t(),i(),s()},_create_basic=function(e,r){var a='<div><div class="bh-dialog-content"></div><div class="bh-dialog-center"><button class="ok" id="ok"></button></div>';e.append(a),t(),i(),s()},_create_text=function(e,r){var a='<div><div class="bh-dialog-content"></div><div class="bh-dialog-center"><button class="ok" id="ok"></button></div>';e.append(a),t(),i(),s()},$.fn.bhDialog=function(e,t){var i;return i=this.data("bhDialog"),i||this.each(function(){return i=new r(this,e),$(this).data("bhDialog",i),i}),e===!0?i:("string"===$.type(e)&&i[e](t),this)},$.fn.bhDialog.defaults={property1:"value",property2:"value"},$(function(){return new r($("[data-bhDialog]"))})}.call(this),function(e){var t=0;e.jqx.jqxWidget("jqxScrollView","",{}),e.extend(e.jqx._jqxScrollView.prototype,{defineInstance:function(){var t={width:320,height:320,buttonsOffset:[0,0],moveThreshold:.5,currentPage:0,animationDuration:300,showButtons:!0,bounceEnabled:!0,slideShow:!1,slideDuration:3e3,disabled:!1,_mouseDown:!1,_movePermited:!1,_startX:-1,_startOffset:-1,_lastOffset:-1,_events:["pageChanged"],_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove")}};return e.extend(!0,this,t),t},createInstance:function(){t+=1,this._instanceId=t,this._isTouchDevice=e.jqx.mobile.isTouchDevice();var i=this;e.jqx.utilities.resize(this.host,function(){i.refresh()})},resize:function(e,t){this.width=e,this.height=t,this.refresh()},refresh:function(){if(this.host.css({width:this.width}),this.host.css({height:this.height}),this._render(),this._performLayout(),this.moveThreshold.toString().indexOf("%")>=0&&(this.moveThreshold=parseInt(this.moveThreshold,10)/100),this._refreshPages(),this._refreshButtons(),this._removeEventListeners(),this._addEventListeners(),this._changePage(this.currentPage,!1,0),this.slideShow){var e=this;this.slideShowTimer=setInterval(function(){e.currentPage>=e._pages.length-1?e._changePage(0,!0,e.animationDuration):e._changePage(e.currentPage+1,!0,e.animationDuration)},this.slideDuration)}else void 0!=this.slideShowTimer&&clearInterval(this.slideShowTimer)},destroy:function(){this.host.remove()},_getEvent:function(e){return this._isTouchDevice?this._eventsMap[e]:e},_eventNamespace:function(){return".scrollview"+this._instanceId},_removeEventListeners:function(){this.removeHandler(this._innerWrapper),this.removeHandler(this.host,this._getEvent("mousemove")+this._eventNamespace()),this.removeHandler(e(document),this._getEvent("mouseup")+this._eventNamespace())},_getCoordinate:function(t,i){if(this._isTouchDevice){var s=e.jqx.position(t);if("pageX"==i)return s.left;if("pageY"==i)return s.top;if(t.originalEvent.touches)return t.originalEvent.touches[0][i]}return t[i]},_draggedRight:function(){if(this.currentPage>0){var t=this.currentPage-1,i=e(this._pages[t]),s=i.offset().left+i.outerWidth(),r=s-this.host.offset().left;if(r>=this.host.width()*this.moveThreshold)return this.changePage(t),!0}return!1},_draggedLeft:function(){if(this.currentPage+1<this._pages.length){var t=this.currentPage+1,i=e(this._pages[t]),s=this.host.width()-(i.offset().left-this.host.offset().left);if(s>=this.host.width()*this.moveThreshold)return this.changePage(t),!0}return!1},_dropTarget:function(){var e;e=this._movedLeft?this._draggedLeft():this._draggedRight(),e||this.changePage(this.currentPage,!1)},_scrollEnabled:function(e){return this._mouseDown?(this._movePermited||Math.abs(this._getCoordinate(e,"pageX")-this._startX)>=15&&(this._movePermited=!0),this._movePermited):!1},_setMoveDirection:function(e){this._lastOffset>e?this._movedLeft=!0:this._movedLeft=!1},_getBounceOffset:function(e){var t=-(this._innerWrapper.width()-this.host.width());return e>0?e=0:t>e&&(e=t),e},_addEventListeners:function(){var t=this;this.addHandler(this._innerWrapper,this._getEvent("mousedown")+this._eventNamespace(),function(e){t._mouseDown=!0,t._startX=t._getCoordinate(e,"pageX"),t._startOffset=t._lastOffset=parseInt(t._innerWrapper.css("margin-left"),10)}),this.addHandler(this.host,"dragstart",function(){return!1}),this.addHandler(this.host,this._getEvent("mousemove")+this._eventNamespace(),function(e){if(t._scrollEnabled(e)){var i=t._startOffset+t._getCoordinate(e,"pageX")-t._startX;return t.bounceEnabled||(i=t._getBounceOffset(i)),t._innerWrapper.css("margin-left",i),t._setMoveDirection(i),t._lastOffset=i,e.preventDefault(),!1}return!0}),this.addHandler(e(document),this._getEvent("mouseup")+this._eventNamespace(),function(e){t._movePermited&&t._dropTarget(),t._movePermited=!1,t._mouseDown=!1});try{if((""!=document.referrer||window.frameElement)&&(null!=window.top&&window.parent&&document.referrer&&(parentLocation=document.referrer),-1!=parentLocation.indexOf(document.location.host))){var i=function(e){t._movePermited&&t._dropTarget(),t._movePermited=!1,t._mouseDown=!1};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i)}}catch(s){}},_render:function(){this.host.addClass(this.toThemeProperty("jqx-scrollview")),this.host.css({overflow:"hidden",position:"relative"})},_performLayout:function(){this.host.css({width:this.width,height:this.height})},_renderPages:function(){this._innerWrapper||(this._innerWrapper=e("<div/>"),this.host.wrapInner(this._innerWrapper),this._innerWrapper=this.host.children().first()),this._innerWrapper.addClass(this.toThemeProperty("jqx-scrollview-inner-wrapper")),this._innerWrapper.css({height:this.host.height()})},_refreshPage:function(e){e.addClass(this.toThemeProperty("jqx-scrollview-page")),this._performPageLayout(e)},_refreshPages:function(){var t=this,i=0;this._renderPages(),this._pages=this._innerWrapper.children(),this._pages.each(function(){t._refreshPage(e(this)),i+=e(this).outerWidth(!0)}),this._innerWrapper.css({width:i})},_performPageLayout:function(e){e.css("float","left"),e.css({width:this.host.width()}),e.css({height:this.host.height()})},_refreshButtons:function(){this._renderButtons(),this._removeButtonsEventListeners(),this._addButtonsEventListeners(),this._performButtonsLayout()},_removeButtonsEventListeners:function(){var t=this;this._buttonsContainer.children().each(function(){t.removeHandler(e(this))})},_addButtonsEventListeners:function(){var t=this;this._buttonsContainer.children().each(function(i){t.addHandler(e(this),"click",function(){t.changePage(i)})})},_performButtonsLayout:function(){var e=(this.host.width()-this._buttonsContainer.width())/2,t=0!=this._buttonsContainer.outerHeight()?this._buttonsContainer.outerHeight():14;this._buttonsContainer.css({position:"absolute",left:e+parseInt(this.buttonsOffset[0],10),top:this.host.height()-2*t+parseInt(this.buttonsOffset[1],10)-1})},_renderButtons:function(){this._buttonsContainer&&this._buttonsContainer.remove();var t;this._buttons=[],this._buttonsContainer=e("<span/>");for(var i=0;i<this._pages.length;i+=1)t=e('<span class="'+this.toThemeProperty("jqx-scrollview-button")+" "+this.toThemeProperty("jqx-fill-state-normal")+'"></span>'),this._buttonsContainer.append(t),this._buttons[i]=t;this._buttonsContainer.appendTo(this.host),this.showButtons||this._buttonsContainer.hide()},_raiseEvent:function(t,i){var s=new e.Event(this._events[t]);return s.args=i,this.host.trigger(s)},_swapButtons:function(e,t){this._buttons[e].removeClass(this.toThemeProperty("jqx-scrollview-button-selected")),this._buttons[e].removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._buttons[t].addClass(this.toThemeProperty("jqx-scrollview-button-selected")),this._buttons[t].addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_changePage:function(t,i,s){if(!this.disabled){var r=e(this._pages[t]),a=(this.host.width()-r.width())/2,o=r.offset().left-this._innerWrapper.offset().left-a,n=this.currentPage,l=this;"undefined"==typeof s&&(s=this.animationDuration),this._innerWrapper.stop(),this._swapButtons(this.currentPage,t),this.currentPage=t,this._innerWrapper.animate({marginLeft:-o},s,function(){i&&l._raiseEvent(0,{currentPage:t,oldPage:n})})}},propertyChangedHandler:function(e,t,i,s){if("currentPage"===t)e.currentPage=i,e.changePage(s);else if(/(buttonsOffset|width|height)/.test(t))e.refresh();else{if("showButtons"===t)return void(s?e._buttonsContainer.css("display","block"):e._buttonsContainer.css("display","none"));"slideShow"==t&&e.refresh()}},changePage:function(e){if(e>=this._pages.length||0>e)throw new Error("Invalid index!");this._changePage(e,!0)},forward:function(){this.currentPage+1<this._pages.length&&this.changePage(this.currentPage+1)},back:function(){this.currentPage-1>=0&&this.changePage(this.currentPage-1)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDragDrop","",{}),e.extend(e.jqx._jqxDragDrop.prototype,{defineInstance:function(){var t={restricter:"document",handle:!1,feedback:"clone",opacity:.6,revert:!1,revertDuration:400,distance:5,disabled:!1,tolerance:"intersect",data:null,dropAction:"default",dragZIndex:999999,appendTo:"parent",cursor:"move",onDragEnd:null,onDrag:null,onDragStart:null,onTargetDrop:null,onDropTargetEnter:null,onDropTargetLeave:null,initFeedback:null,dropTarget:null,isDestroyed:!1,triggerEvents:!0,_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_restricter:null,_zIndexBackup:0,_targetEnterFired:!1,_oldOpacity:1,_feedbackType:void 0,_isTouchDevice:!1,_events:["dragStart","dragEnd","dragging","dropTargetEnter","dropTargetLeave"]};return e.extend(!0,this,t),t},createInstance:function(){this._createDragDrop()},_createDragDrop:function(){var t=e.data(document.body,"jqx-draggables")||1;if(this.appendTo=this._getParent(),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),/(static|relative)/.test(this.host.css("position"))&&(!this.feedback||"original"===this.feedback)){var i=this._getRelativeOffset(this.host),s=this.appendTo.offset();"static"!=this.appendTo.css("position")&&(s={left:0,top:0}),this.element.style.position="absolute",this.element.style.left=s.left+i.left+"px",this.element.style.top=s.top+i.top+"px"}this._validateProperties(),this._idHandler(t),this.disabled&&this.disable(),"string"==typeof this.dropTarget&&(this.dropTarget=e(this.dropTarget)),this._refresh(),t+=1,e.data(document.body,"jqx-draggables",t),this.host.addClass("jqx-draggable"),this.disabled||this.host.css("cursor",this.cursor)},_getParent:function(){var t=this.appendTo;if("string"==typeof this.appendTo)switch(this.appendTo){case"parent":t=this.host.parent();break;case"document":t=e(document);break;case"body":t=e(document.body);break;default:t=e(this.appendTo)}return t},_idHandler:function(e){if(!this.element.id){var t="jqx-draggable-"+e;this.element.id=t}},_refresh:function(){this._removeEventHandlers(),this._addEventHandlers()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_validateProperties:function(){"clone"===this.feedback?this._feedbackType="clone":this._feedbackType="original","default"!==this.dropAction&&(this.dropAction="nothing")},_removeEventHandlers:function(){this.removeHandler(this.host,"dragstart"),this.removeHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown),this.removeHandler(e(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove),this.removeHandler(e(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp)},_addEventHandlers:function(){var t=this;this.addHandler(this.host,"dragstart",function(i){if(t.disabled)return!0;var s=e.jqx.mobile.isTouchDevice();return s?void 0:(i.preventDefault(),!1)}),this.addHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown,{self:this}),this.addHandler(e(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove,{self:this}),this.addHandler(e(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp,{self:this});try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var i="";if(window.parent&&document.referrer&&(i=document.referrer),-1!=i.indexOf(document.location.host)){var s=function(e){t._mouseUp(t)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}}catch(r){}},_mouseDown:function(e){var t=e.data.self,i=t._getMouseCoordinates(e),s=t._mouseCapture(e);if(t._originalPageX=i.left,t._originalPageY=i.top,t.disabled)return!0;var r=!1;return t._mouseStarted||(t._mouseUp(e),r=!0),s&&(t._mouseDownEvent=e),t._isTouchDevice?!0:1===e.which&&s?void e.preventDefault():!0},_mouseMove:function(e){var t=e.data.self;return t.disabled?!0:t._mouseStarted?(t._mouseDrag(e),e.preventDefault&&e.preventDefault(),!1):(t._mouseDownEvent&&t._isMovedDistance(e)&&(t._mouseStart(t._mouseDownEvent,e)?t._mouseStarted=!0:t._mouseStarted=!1,t._mouseStarted?t._mouseDrag(e):t._mouseUp(e)),!t._mouseStarted)},_mouseUp:function(e){var t;return t=e.data&&e.data.self?e.data.self:this,t.disabled?!0:(t._mouseDownEvent=!1,t._movedDistance=!1,t._mouseStarted&&(t._mouseStarted=!1,t._mouseStop(e)),t.feedback&&t.feedback[0]&&"original"!==t._feedbackType&&"function"==typeof t.feedback.remove&&!t.revert&&t.feedback.remove(),t._isTouchDevice?void 0:!1)},cancelDrag:function(){var e=this.revertDuration;this.revertDuration=0,this._mouseDownEvent=!1,this._movedDistance=!1,this._mouseStarted=!1,this._mouseStop(),this.feedback.remove(),this.revertDuration=e},_isMovedDistance:function(e){var t=this._getMouseCoordinates(e);return this._movedDistance?!0:t.left>=this._originalPageX+this.distance||t.left<=this._originalPageX-this.distance||t.top>=this._originalPageY+this.distance||t.top<=this._originalPageY-this.distance?(this._movedDistance=!0,!0):!1},_getMouseCoordinates:function(t){if(this._isTouchDevice){var i=e.jqx.position(t);return{left:i.left,top:i.top}}return{left:t.pageX,top:t.pageY}},destroy:function(){return this._enableSelection(this.host),this.host.removeData("draggable").off(".draggable").removeClass("jqx-draggable jqx-draggable-dragging jqx-draggable-disabled"),this._removeEventHandlers(),this.isDestroyed=!0,this},_disableSelection:function(t){t.each(function(){e(this).attr("unselectable","on").css({"-ms-user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return!1}})})},_enableSelection:function(t){t.each(function(){e(this).attr("unselectable","off").css({"-ms-user-select":"text","-moz-user-select":"text","-webkit-user-select":"text","user-select":"text"}).each(function(){this.onselectstart=null})})},_mouseCapture:function(e){return this.disabled?!1:this._getHandle(e)?(this._disableSelection(this.host),!0):!1},_getScrollParent:function(t){var i;return i=e.jqx.browser.msie&&/(static|relative)/.test(t.css("position"))||/absolute/.test(t.css("position"))?t.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position",1))&&/(auto|scroll)/.test(e.css(this,"overflow",1)+e.css(this,"overflow-y",1)+e.css(this,"overflow-x",1))}).eq(0):t.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow",1)+e.css(this,"overflow-y",1)+e.css(this,"overflow-x",1))}).eq(0),/fixed/.test(t.css("position"))||!i.length?e(document):i},_mouseStart:function(t){var i=this._getMouseCoordinates(t);this._getParentOffset(this.host);this.feedback=this._createFeedback(t),this._zIndexBackup=this.feedback.css("z-index"),this.feedback[0].style.zIndex=this.dragZIndex,this._backupFeedbackProportions(),this._backupeMargins(),this._positionType=this.feedback.css("position"),this._scrollParent=this._getScrollParent(this.feedback),this._offset=this.positionAbs=this.host.offset(),this._offset={top:this._offset.top-this.margins.top,left:this._offset.left-this.margins.left},e.extend(this._offset,{click:{left:i.left-this._offset.left,top:i.top-this._offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset(),hostRelative:this._getRelativeOffset(this.host)}),this.position=this._generatePosition(t),this.originalPosition=this._fixPosition(),this.restricter&&this._setRestricter(),this.feedback.addClass(this.toThemeProperty("jqx-draggable-dragging"));this._raiseEvent(0,t);return this.onDragStart&&"function"==typeof this.onDragStart&&this.onDragStart(this.position),this._mouseDrag(t,!0),!0},_fixPosition:function(){var e=this._getRelativeOffset(this.host),t=this.position;return t={left:this.position.left+e.left,top:this.position.top+e.top}},_mouseDrag:function(e,t){return this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.feedback[0].style.left=this.position.left+"px",this.feedback[0].style.top=this.position.top+"px",this._raiseEvent(2,e),this.onDrag&&"function"==typeof this.onDrag&&this.onDrag(this.data,this.position),this._handleTarget(),!1},_over:function(t,i,s){if(this.dropTarget){var r=!1,a=this;e.each(this.dropTarget,function(e,o){return r=a._overItem(o,t,i,s),r.over?!1:void 0})}return r},_overItem:function(t,i,s,r){t=e(t);var a,o=t.offset(),n=t.outerHeight(),l=t.outerWidth();if(t&&t[0]!==this.element){var a=!1;switch(this.tolerance){case"intersect":i.left+s>o.left&&i.left<o.left+l&&i.top+r>o.top&&i.top<o.top+n&&(a=!0);break;case"fit":s+i.left<=o.left+l&&i.left>=o.left&&r+i.top<=o.top+n&&i.top>=o.top&&(a=!0)}return{over:a,target:t}}},_handleTarget:function(){if(this.dropTarget){var e=this.feedback.offset(),t=this.feedback.outerWidth(),i=this.feedback.outerHeight(),s=this._over(e,t,i);s.over?(this._targetEnterFired&&s.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&s.target[0]!=this._oldtarget[0]&&(this._raiseEvent(4,{target:this._oldtarget}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget)),(!this._targetEnterFired||s.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&s.target[0]!=this._oldtarget[0])&&(this._targetEnterFired=!0,this._raiseEvent(3,{target:s.target}),this.onDropTargetEnter&&"function"==typeof this.onDropTargetEnter&&this.onDropTargetEnter(s.target)),this._oldtarget=s.target):this._targetEnterFired&&(this._targetEnterFired=!1,this._raiseEvent(4,{target:this._oldtarget||s.target}),this.onDropTargetLeave&&"function"==typeof this.onDropTargetLeave&&this.onDropTargetLeave(this._oldtarget||s.target))}},_mouseStop:function(e){var t=!1,i=this._fixPosition(),s={width:this.host.outerWidth(),height:this.host.outerHeight()};return this.feedback[0].style.opacity=this._oldOpacity,this.revert||(this.feedback[0].style.zIndex=this._zIndexBackup),this._enableSelection(this.host),this.dropped&&(t=this.dropped,this.dropped=!1),this.element&&this.element.parentNode||"original"!==this.feedback?(this._dropElement(i),this.feedback.removeClass(this.toThemeProperty("jqx-draggable-dragging")),this._raiseEvent(1,e),this.onDragEnd&&"function"==typeof this.onDragEnd&&this.onDragEnd(this.data),this.onTargetDrop&&"function"==typeof this.onTargetDrop&&this._over(i,s.width,s.height).over&&this.onTargetDrop(this._over(i,s.width,s.height).target),this._revertHandler(),!1):!1},_dropElement:function(e){if("default"===this.dropAction&&this.feedback&&this.feedback[0]!==this.element&&"original"!==this.feedback&&!this.revert&&!/(fixed|absolute)/.test(this.host.css("position"))){this.host.css("position","relative");var t=this._getRelativeOffset(this.host);e=this.position,e.left-=t.left,e.top-=t.top,this.element.style.left=e.left+"px",this.element.style.top=e.top+"px"}},_revertHandler:function(){if(this.revert||e.isFunction(this.revert)&&this.revert()){var t=this;"original"!=this._feedbackType?null!=this.feedback&&("none"!=this.dropAction?e(this.feedback).animate({left:t.originalPosition.left-t._offset.hostRelative.left,top:t.originalPosition.top-t._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){t.feedback&&t.feedback[0]&&"original"!==t._feedbackType&&"function"==typeof t.feedback.remove&&t.feedback.remove()}):t.feedback&&t.feedback[0]&&"original"!==t._feedbackType&&"function"==typeof t.feedback.remove&&t.feedback.remove()):(this.element.style.zIndex=this.dragZIndex,e(this.host).animate({left:t.originalPosition.left-t._offset.hostRelative.left,top:t.originalPosition.top-t._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){t.element.style.zIndex=t._zIndexBackup}))}},_getHandle:function(t){var i;return this.handle?e(this.handle,this.host).find("*").andSelf().each(function(){this==t.target&&(i=!0)}):i=!0,i},_createFeedback:function(e){var t;if(t="function"==typeof this._feedbackType?this._feedbackType():"clone"===this._feedbackType?this.host.clone().removeAttr("id"):this.host,/(absolute|fixed)/.test(t.css("position"))||t.css("position","absolute"),this.appendTo[0]!==this.host.parent()[0]||t[0]!==this.element){t.css({left:this.host.offset().left-this._getParentOffset(this.host).left+this._getParentOffset(t).left,top:this.host.offset().top-this._getParentOffset(this.host).top+this._getParentOffset(t).top}),t.appendTo(this.appendTo)}return"function"==typeof this.initFeedback&&this.initFeedback(t),t},_getParentOffset:function(t){var t=t||this.feedback;this._offsetParent=t.offsetParent();var i=this._offsetParent.offset();return"absolute"==this._positionType&&this._scrollParent[0]!==document&&e.contains(this._scrollParent[0],this._offsetParent[0])&&(i.left+=this._scrollParent.scrollLeft(),i.top+=this._scrollParent.scrollTop()),(this._offsetParent[0]==document.body||this._offsetParent[0].tagName&&"html"==this._offsetParent[0].tagName.toLowerCase()&&e.jqx.browser.msie)&&(i={top:0,left:0}),{top:i.top+(parseInt(this._offsetParent.css("border-top-width"),10)||0),left:i.left+(parseInt(this._offsetParent.css("border-left-width"),10)||0)}},_getRelativeOffset:function(e){this._scrollParent||e.parent();if(e=e||this.feedback,"relative"===e.css("position")){var t=this.host.position();return{top:t.top-(parseInt(e.css("top"),10)||0),left:t.left-(parseInt(e.css("left"),10)||0)}}return{top:0,left:0}},_backupeMargins:function(){this.margins={left:parseInt(this.host.css("margin-left"),10)||0,top:parseInt(this.host.css("margin-top"),10)||0,right:parseInt(this.host.css("margin-right"),10)||0,bottom:parseInt(this.host.css("margin-bottom"),10)||0}},_backupFeedbackProportions:function(){this.feedback[0].style.opacity=this.opacity,this._feedbackProportions={width:this.feedback.outerWidth(),height:this.feedback.outerHeight()}},_setRestricter:function(){"parent"==this.restricter&&(this.restricter=this.feedback[0].parentNode),("document"==this.restricter||"window"==this.restricter)&&this._handleNativeRestricter(),"undefined"!=typeof this.restricter.left&&"undefined"!=typeof this.restricter.top&&"undefined"!=typeof this.restricter.height&&"undefined"!=typeof this.restricter.width?this._restricter=[this.restricter.left,this.restricter.top,this.restricter.width,this.restricter.height]:/^(document|window|parent)$/.test(this.restricter)||this.restricter.constructor==Array?this.restricter.constructor==Array&&(this._restricter=this.restricter):this._handleDOMParentRestricter()},_handleNativeRestricter:function(){this._restricter=["document"===this.restricter?0:e(window).scrollLeft()-this._offset.relative.left-this._offset.parent.left,"document"===this.restricter?0:e(window).scrollTop()-this._offset.relative.top-this._offset.parent.top,("document"===this.restricter?0:e(window).scrollLeft())+e("document"===this.restricter?document:window).width()-this._feedbackProportions.width-this.margins.left,("document"===this.restricter?0:e(window).scrollTop())+(e("document"===this.restricter?document:window).height()||document.body.parentNode.scrollHeight)-this._feedbackProportions.height-this.margins.top]},_handleDOMParentRestricter:function(){var t=e(this.restricter),i=t[0];if(i){var s="hidden"!==e(i).css("overflow");this._restricter=[(parseInt(e(i).css("borderLeftWidth"),10)||0)+(parseInt(e(i).css("paddingLeft"),10)||0),(parseInt(e(i).css("borderTopWidth"),10)||0)+(parseInt(e(i).css("paddingTop"),10)||0),(s?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e(i).css("borderLeftWidth"),10)||0)-(parseInt(e(i).css("paddingRight"),10)||0)-this._feedbackProportions.width-this.margins.left-this.margins.right,(s?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e(i).css("borderTopWidth"),10)||0)-(parseInt(e(i).css("paddingBottom"),10)||0)-this._feedbackProportions.height-this.margins.top-this.margins.bottom],
this._restrictiveContainer=t}},_convertPositionTo:function(t,i){i||(i=this.position);var s,r,a;return s="absolute"===t?1:-1,r="absolute"!==this._positionType||this._scrollParent[0]!=document&&e.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,a=/(html|body)/i.test(r[0].tagName),this._getPosition(i,s,a,r)},_getPosition:function(t,i,s,r){return{top:t.top+this._offset.relative.top*i+this._offset.parent.top*i-(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollTop():s?0:r.scrollTop())*i),left:t.left+this._offset.relative.left*i+this._offset.parent.left*i-(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:("fixed"==this._positionType?-this._scrollParent.scrollLeft():s?0:r.scrollLeft())*i)}},_generatePosition:function(t){var i="absolute"!=this._positionType||this._scrollParent[0]!=document&&e.contains(this._scrollParent[0],this._offsetParent[0])?this._scrollParent:this._offsetParent,s=/(html|body)/i.test(i[0].tagName),r=this._getMouseCoordinates(t),a=r.left,o=r.top;if(this.originalPosition){var n;if(this.restricter){if(this._restrictiveContainer){var l=this._restrictiveContainer.offset();n=[this._restricter[0]+l.left,this._restricter[1]+l.top,this._restricter[2]+l.left,this._restricter[3]+l.top]}else n=this._restricter;r.left-this._offset.click.left<n[0]&&(a=n[0]+this._offset.click.left),r.top-this._offset.click.top<n[1]&&(o=n[1]+this._offset.click.top),r.left-this._offset.click.left>n[2]&&(a=n[2]+this._offset.click.left),r.top-this._offset.click.top>n[3]&&(o=n[3]+this._offset.click.top)}}return{top:o-this._offset.click.top-this._offset.relative.top-this._offset.parent.top+(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollTop():s?0:i.scrollTop()),left:a-this._offset.click.left-this._offset.relative.left-this._offset.parent.left+(e.jqx.browser.safari&&e.jqx.browser.version<526&&"fixed"==this._positionType?0:"fixed"==this._positionType?-this._scrollParent.scrollLeft():s?0:i.scrollLeft())}},_raiseEvent:function(t,i){if(void 0==this.triggerEvents||0!=this.triggerEvents){var s=this._events[t],r=e.Event(s),i=i||{};return i.position=this.position,i.element=this.element,e.extend(i,this.data),i.feedback=this.feedback,r.args=i,this.host.trigger(r)}},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-draggable-disabled")),this._enableSelection(this.host)},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-draggable-disabled"))},propertyChangedHandler:function(t,i,s,r){"dropTarget"===i?"string"==typeof r&&(t.dropTarget=e(r)):"disabled"==i?r&&t._enableSelection(t.host):"cursor"==i&&t.host.css("cursor",t.cursor)}})}(jqxBaseFramework),function(e){jqxListBoxDragDrop=function(){e.extend(e.jqx._jqxListBox.prototype,{_hitTestBounds:function(e,t,i){var s=e.host.offset(),r=i-parseInt(s.top),a=t-parseInt(s.left),o=e._hitTest(a,r);if(0>r)return null;if(null!=o){var n=parseInt(s.left),l=n+e.host.width();return n<=t+o.width/2&&l>=t?o:null}if(e.items&&e.items.length>0){var h=e.items[e.items.length-1];if(e.groups.length<2&&h.top+h.height+15>=r)return h}return null},_handleDragStart:function(t,i){var s=e.jqx.mobile.isTouchDevice();s&&i.allowDrag&&t.on(e.jqx.mobile.getTouchEventName("touchstart"),function(){e.jqx.mobile.setTouchScroll(!1,i.element.id)}),t.off("dragStart"),t.on("dragStart",function(t){if(i.allowDrag&&!i.disabled){i.feedbackElement=e("<div style='z-index: 99999; position: absolute;'></div>"),i.feedbackElement.addClass(i.toThemeProperty("jqx-listbox-feedback")),i.feedbackElement.appendTo(e(document.body)),i.feedbackElement.hide(),i.isDragging=!0,i._dragCancel=!1;var s=i._getMouseCoordinates(t),r=i._hitTestBounds(i,s.left,s.top),a=e.find(".jqx-listbox");i._listBoxes=a,e.each(i._listBoxes,function(){var t=e.data(this,"jqxListBox").instance;t._enableHover=t.enableHover,t.enableHover=!1,e.jqx.mobile.setTouchScroll(!1,i.element.id)});var o=function(){i._dragCancel=!0,e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0}),e.each(i._listBoxes,function(){var t=e.data(this,"jqxListBox").instance;void 0!=t._enableHover&&(t.enableHover=t._enableHover,e.jqx.mobile.setTouchScroll(!0,i.element.id))})};if(null==r||r.isGroup)null==r&&o();else{if(i._dragItem=r,i.dragStart){var n=i.dragStart(r);if(0==n)return o(),!1}r.disabled&&o(),i._raiseEvent(4,{label:r.label,value:r.value,originalEvent:t.args})}}return!1})},_handleDragging:function(t,i){t.off("dragging"),t.on("dragging",function(t){var s=t.args;if(!i._dragCancel){var r=i._getMouseCoordinates(t),a=r;i._lastDraggingPosition=r,i._dragOverItem=null,i.feedbackElement.hide(),e.each(i._listBoxes,function(){if(e.jqx.isHidden(e(this)))return!0;var t=e(this).offset(),o=t.top+20,n=e(this).height()+o-40,l=t.left,h=e(this).width(),d=l+h,c=e.data(this,"jqxListBox").instance,u=c._hitTestBounds(c,r.left,r.top),p=c.vScrollInstance;if(null!=u&&c.allowDrop&&!c.disabled&&(i._dragOverItem=u,u.element)){i.feedbackElement.show();var m=e(u.element).offset().top+1;a.top>m+u.height/2&&(m+=u.height),i.feedbackElement.css("top",m),i.feedbackElement.css("left",l),"visible"!=c.vScrollBar.css("visibility")?i.feedbackElement.css({width:e(this).width()}):i.feedbackElement.css({width:e(this).width()-20})}r.left>=l&&r.left<d?s.position.top<o&&s.position.top>=o-30?(clearInterval(c._autoScrollTimer),0!=p.value&&i.feedbackElement.hide(),c._autoScrollTimer=setInterval(function(){var e=c.scrollUp();e||clearInterval(c._autoScrollTimer)},100)):s.position.top>n&&s.position.top<n+30?(clearInterval(c._autoScrollTimer),"hidden"!=c.vScrollBar.css("visibility")&&p.value!=p.max&&i.feedbackElement.hide(),c._autoScrollTimer=setInterval(function(){var e=c.scrollDown();e||clearInterval(c._autoScrollTimer)},100)):clearInterval(c._autoScrollTimer):(null==i._dragOverItem&&i.feedbackElement.hide(),clearInterval(c._autoScrollTimer))})}})},_handleDragEnd:function(t,i){e.find(".jqx-listbox");t.off("dragEnd"),t.on("dragEnd",function(t){clearInterval(i._autoScrollTimer);var s=e.jqx.mobile.isTouchDevice(),r=s?i._lastDraggingPosition:i._getMouseCoordinates(t),a=e.find(".jqx-listbox"),o=null;if(i.feedbackElement.remove(),i._dragCancel)return void t.stopPropagation();e.each(a,function(){if(e.jqx.isHidden(e(this)))return!0;var t=parseInt(e(this).offset().left),s=t+e(this).width(),a=e.data(this,"jqxListBox").instance;if(clearInterval(a._autoScrollTimer),void 0!=a._enableHover&&(a.enableHover=a._enableHover,e.jqx.mobile.setTouchScroll(!0,i.element.id)),null!=i._dragItem&&r.left+i._dragItem.width/2>=t&&r.left<s){var n=parseInt(e(this).offset().top),l=n+e(this).height();r.top>=n&&r.top<=l&&(o=e(this))}});var n=i._dragItem;if(null!=o&&o.length>0){var l=e.data(o[0],"jqxListBox").instance,h=l.allowDrop;if(h&&!l.disabled){var l=e.data(o[0],"jqxListBox").instance,d=l._hitTestBounds(l,r.left,r.top);if(d=i._dragOverItem,null==d||d.isGroup){if("none"!=l.dropAction){if(l.content.find(".draggable").length>0&&l.content.find(".draggable").jqxDragDrop("destroy"),i.dragEnd){var c=i.dragEnd(i._dragItem,null,t.args);if(0==c)return e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0}),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1;void 0==c&&(c=!0)}l.addItem(i._dragItem),"default"==l.dropAction&&(n.visibleIndex>0&&i.selectIndex(n.visibleIndex-1),i.removeItem(n,!0)),l.clearSelection(),l.selectIndex(l.items.length-1)}}else{var c=!0;if(i.dragEnd){if(c=i.dragEnd(n,d,t.args),0==c)return e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0}),t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1;void 0==c&&(c=!0)}if(c){var u=(d.visibleIndex,function(){for(var e=d.visibleIndex,t=e-2;e+2>=t;t++)if(l.items&&l.items.length>t){var i=l.items[t];if(null!=i&&i.value==n.value)return i.visibleIndex}return e});if("none"!=l.dropAction){if(d.element)var p=e(d.element).offset().top+1;else var p=e(l.element).offset().top+1;l.content.find(".draggable").length>0&&l.content.find(".draggable").jqxDragDrop("destroy"),r.top>p+d.height/2?l.insertAt(i._dragItem,d.index+1):l.insertAt(i._dragItem,d.index),"default"==i.dropAction&&(n.visibleIndex>0&&(i.clearSelection(),i.selectIndex(n.visibleIndex-1)),i.removeItem(n,!0));var m=u();l.clearSelection(),l.selectIndex(m)}}}}}else if(i.dragEnd){var f=i.dragEnd(n,t.args);if(0==f)return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1}return null!=n&&i._raiseEvent(5,{label:n.label,value:n.value,originalEvent:t.args}),!1})},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var t=this.content.find(".draggable");if(t.length>0){var i=this;t.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(t){var s=e('<span style="white-space: nowrap;" class="'+i.toThemeProperty("jqx-fill-state-normal")+'">'+t.text()+"</span>");e(document.body).append(s);var r=s.width();s.remove(),t.css({width:r+5}),t.addClass(i.toThemeProperty("jqx-fill-state-pressed"))}}),this._autoScrollTimer=null,i._dragItem=null,i._handleDragStart(t,i),i._handleDragging(t,i),i._handleDragEnd(t,i)}}},_getMouseCoordinates:function(t){if(this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._isTouchDevice){var i=e.jqx.position(t.args);return{left:i.left,top:i.top}}return{left:t.args.pageX,top:t.args.pageY}}})},jqxTreeDragDrop=function(){e.extend(e.jqx._jqxTree.prototype,{_hitTestBounds:function(t,i,s){var r=null;if(t._visibleItems){var a=parseInt(t.host.offset().left),o=t.host.outerWidth();e.each(t._visibleItems,function(n){if(i>=a&&a+o>i&&this.top+5<s&&s<this.top+this.height){var l=e(this.element).parents("li:first");if(l.length>0&&(r=t.getItem(l[0]),null!=r))return r.height=this.height,r.top=this.top,!1}})}return r},_handleDragStart:function(t,i){i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover"));var s=e.jqx.mobile.isTouchDevice();s&&i.allowDrag&&t.on(e.jqx.mobile.getTouchEventName("touchstart"),function(){e.jqx.mobile.setTouchScroll(!1,"panel"+i.element.id)}),t.off("dragStart"),t.on("dragStart",function(t){i.feedbackElement=e("<div style='z-index: 99999; position: absolute;'></div>"),i.feedbackElement.addClass(i.toThemeProperty("jqx-listbox-feedback")),i.feedbackElement.appendTo(e(document.body)),i.feedbackElement.hide(),i._dragCancel=!1;var s=(t.args.position,e.find(".jqx-tree"));return i._trees=s,e.each(s,function(){var s=e.data(this,"jqxTree").instance,r=s.host.find(".draggable");if(s._syncItems(r),s.allowDrag&&!s.disabled){var a=e(t.target).parents("li:first");if(a.length>0){var o=s.getItem(a[0]);if(o){if(i._dragItem=o,s.dragStart){var n=s.dragStart(o);if(0==n)return i._dragCancel=!0,e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:s}),!1}s._raiseEvent(8,{label:o.label,value:o.value,originalEvent:t.args})}}}}),!1})},_getMouseCoordinates:function(t){if(this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._isTouchDevice){var i=e.jqx.position(t.args);return{left:i.left,top:i.top}}return{left:t.args.pageX,top:t.args.pageY}},_handleDragging:function(t,i){var t=this.host.find(".draggable");t.off("dragging"),t.on("dragging",function(t){var s=t.args,r=(s.position,i._trees);if(!i._dragCancel){i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover"));var a=!0,o=i._getMouseCoordinates(t);i._lastDraggingPosition=o,e.each(r,function(){if(e.jqx.isHidden(e(this)))return!0;var t=e(this).offset(),s=t.top+20,r=e(this).height()+s-40,n=t.left,l=e(this).width(),h=n+l,d=e.data(this,"jqxTree").instance;if(!d.disabled&&d.allowDrop){var c=d.vScrollInstance,u=d._hitTestBounds(d,o.left,o.top);if(null!=u&&(i._dragOverItem&&i._dragOverItem.titleElement.removeClass(d.toThemeProperty("jqx-fill-state-hover")),i._dragOverItem=u,u.element)){i.feedbackElement.show();var p=u.top,m=o.top;i._dropPosition="before",m>p+u.height/3&&(p=u.top+u.height/2,i._dragOverItem.titleElement.addClass(i.toThemeProperty("jqx-fill-state-hover")),i.feedbackElement.hide(),i._dropPosition="inside"),m>u.top+u.height-u.height/3&&(p=u.top+u.height,i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i.feedbackElement.show(),i._dropPosition="after"),i.feedbackElement.css("top",p);var n=-2+parseInt(u.titleElement.offset().left);i.feedbackElement.css("left",n),i.feedbackElement.css({width:e(u.titleElement).width()+12})}o.left>=n&&o.left<h?(o.top+20>=s&&o.top<=s+d.host.height()&&(a=!1),o.top<s&&o.top>=s-30?(clearInterval(d._autoScrollTimer),0!=c.value&&i.feedbackElement.hide(),d._autoScrollTimer=setInterval(function(){var e=d.panelInstance.scrollUp(),t=d.host.find(".draggable");d._syncItems(t),e||clearInterval(d._autoScrollTimer)},100)):o.top>r&&o.top<r+30?(clearInterval(d._autoScrollTimer),c.value!=c.max&&i.feedbackElement.hide(),d._autoScrollTimer=setInterval(function(){var e=d.panelInstance.scrollDown(),t=d.host.find(".draggable");d._syncItems(t),e||clearInterval(d._autoScrollTimer)},100)):clearInterval(d._autoScrollTimer)):clearInterval(d._autoScrollTimer)}}),a&&i.feedbackElement&&i.feedbackElement.hide()}})},_handleDragEnd:function(t,i){t.off("dragEnd"),t.on("dragEnd",function(t){i.host.find(".draggable");clearInterval(i._autoScrollTimer);var s=(t.args.position,i._trees),r=null,a=e.jqx.mobile.isTouchDevice(),o=a?i._lastDraggingPosition:i._getMouseCoordinates(t);if(i.feedbackElement.remove(),i._dragCancel)return!1;i._dragOverItem&&i._dragOverItem.titleElement.removeClass(i.toThemeProperty("jqx-fill-state-hover")),e.each(s,function(){if(e.jqx.isHidden(e(this)))return!0;var t=parseInt(e(this).offset().left),s=t+e(this).width(),a=e.data(this,"jqxTree").instance;if(clearInterval(a._autoScrollTimer),null!=i._dragItem&&o.left>=t&&o.left<s){var n=parseInt(e(this).offset().top),l=n+e(this).height();o.top>=n&&o.top<=l&&(r=e(this))}});var n=i._dragItem;if(null!=r&&r.length>0){var l=r.jqxTree("allowDrop");if(l){var h=e.data(r[0],"jqxTree").instance,d=i._dragOverItem;if(null!=d&&i._dragOverItem.treeInstance.element.id==h.element.id){var c=!0;if(i.dragEnd&&(c=i.dragEnd(n,d,t.args,i._dropPosition,r),0==c&&(e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0})),void 0==c&&(c=!0)),c){var u=function(){var e=i._dragItem.treeInstance;e._refreshMapping(),e._updateItemsNavigation(),e._render(!0,!1),e.checkboxes&&e._updateCheckStates(),i._dragItem.treeInstance=h,i._syncItems(i._dragItem.treeInstance.host.find(".draggable"))};if("none"!=h.dropAction&&i._dragItem.id!=i._dragOverItem.id)if("inside"==i._dropPosition)h._drop(i._dragItem.element,i._dragOverItem.element,-1,h),u();else{var p=0;"after"==i._dropPosition&&p++,h._drop(i._dragItem.element,i._dragOverItem.parentElement,p+e(i._dragOverItem.element).index(),h),u()}h._render(!0,!1);var m=h.host.find(".draggable");i._syncItems(m),i._dragOverItem=null,i._dragItem=null,h._refreshMapping(),h._updateItemsNavigation(),h.selectedItem=null,h.selectItem(n.element),h.checkboxes&&h._updateCheckStates(),h._render(!0,!1)}}else if("none"!=h.dropAction&&h.allowDrop){var c=!0;if(i.dragEnd&&(c=i.dragEnd(n,d,t.args,i._dropPosition,r),0==c&&(e(t.args.element).jqxDragDrop({triggerEvents:!1}),e(t.args.element).jqxDragDrop("cancelDrag"),clearInterval(i._autoScrollTimer),e(t.args.element).jqxDragDrop({triggerEvents:!0})),void 0==c&&(c=!0)),c){i._dragItem.parentElement=null,h._drop(i._dragItem.element,null,-1,h);var f=i._dragItem.treeInstance;f._refreshMapping(),f._updateItemsNavigation(),f.checkboxes&&f._updateCheckStates();var m=f.host.find(".draggable");i._syncItems(m),i._dragItem.treeInstance=h,h.items[h.items.length]=i._dragItem,h._render(!0,!1),h._refreshMapping(),h.selectItem(n.element),h._updateItemsNavigation();var m=h.host.find(".draggable");h._syncItems(m),h.checkboxes&&h._updateCheckStates(),i._dragOverItem=null,i._dragItem=null}}}}else if(i.dragEnd){var v=i.dragEnd(n,t.args);if(0==v)return!1}return null!=n&&i._raiseEvent(7,{label:n.label,value:n.value,originalEvent:t.args}),!1})},_drop:function(t,i,s,r){if(!(e(i).parents("#"+t.id).length>0||null!=i&&i.id==t.id)){if(r.element.innerHTML.indexOf("UL"))var a=r.host.find("ul:first");if(void 0==i&&null==i)void 0==s||-1==s?a.append(t):0==a.children("li").eq(s).length?a.children("li").eq(s-1).after(t):a.children("li").eq(s)[0].id!=t.id&&a.children("li").eq(s).before(t);else if(void 0==s||-1==s){i=e(i);var o=i.find("ul:first");if(0==o.length){ulElement=e("<ul></ul>"),e(i).append(ulElement),o=i.find("ul:first");var n=r.itemMapping["id"+i[0].id].item;n.subtreeElement=o[0],n.hasItems=!0,o.addClass(r.toThemeProperty("jqx-tree-dropdown")),o.append(t),t=o.find("li:first"),n.parentElement=t}else o.append(t)}else{i=e(i);var o=i.find("ul:first");if(0==o.length){if(ulElement=e("<ul></ul>"),e(i).append(ulElement),o=i.find("ul:first"),i){var n=r.itemMapping["id"+i[0].id].item;n.subtreeElement=o[0],n.hasItems=!0}o.addClass(r.toThemeProperty("jqx-tree-dropdown")),o.append(t),t=o.find("li:first"),n.parentElement=t}else 0==o.children("li").eq(s).length?o.children("li").eq(s-1).after(t):o.children("li").eq(s)[0].id!=t.id&&o.children("li").eq(s).before(t)}}},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var t=this.host.find(".draggable"),i=this;if(t.length>0){t.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:!0,initFeedback:function(t){var s=e('<span style="white-space: nowrap;" class="'+i.toThemeProperty("jqx-fill-state-normal")+'">'+t.text()+"</span>");e(document.body).append(s);var r=s.width();s.remove(),t.css({width:r+5}),t.addClass(i.toThemeProperty("jqx-fill-state-pressed"))}});var s=t.jqxDragDrop("isDestroyed");s===!0&&t.jqxDragDrop("_createDragDrop"),this._autoScrollTimer=null,i._dragItem=null,i._handleDragStart(t,i),i._handleDragging(t,i),i._handleDragEnd(t,i)}}}})}}(jqxBaseFramework);